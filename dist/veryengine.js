!function o(s,u,a){function p(e,t){if(!u[e]){if(!s[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(c)return c(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var i=u[e]={exports:{}};s[e][0].call(i.exports,function(t){return p(s[e][1][t]||t)},i,i.exports,o,s,u,a)}return u[e].exports}for(var c="function"==typeof require&&require,t=0;t<a.length;t++)p(a[t]);return p}({1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./veryengine/veryEngine"),i=function(){function t(t,e){this._showFps=!0,this._canvas=t,n.VeryEngine.Canvas=this._canvas,this._fps=e,this._table=document.getElementById("VeryTable")}return t.prototype.createScene=function(){this._engine&&this._engine.dispose(),this._engine=new BABYLON.Engine(this._canvas,!0),n.VeryEngine.Engine=this._engine;var e=this._engine;window.addEventListener("resize",function(){e.resize()}),this._scene=new BABYLON.Scene(this._engine),n.VeryEngine.Scene=this._scene;var t=new BABYLON.ArcRotateCamera("MainCamera",0,0,10,new BABYLON.Vector3(0,0,0),this._scene);return t.setPosition(new BABYLON.Vector3(20,200,400)),t.attachControl(this._canvas,!0),t.lowerBetaLimit=.1,t.upperBetaLimit=Math.PI/2*.99,t.lowerRadiusLimit=150,e.displayLoadingUI(),BABYLON.SceneLoader.Append("./scene/","scene.babylon",this._scene,function(t){e.hideLoadingUI()}),(new n.VeryEngine).init(hot1.getData(),projectName),this._scene.onBeforeRenderObservable.add(function(){n.Time._sum()}),this},t.prototype.animate=function(){var t=this;return this._engine.runRenderLoop(function(){t._canvas.width!==t._canvas.clientWidth&&t._engine.resize(),t._scene&&t._scene.render(),t._showFps&&t.updateFpsPos()}),this},t.prototype.toggleDebug=function(){if(this._engine){var t=this._engine.scenes[0];t.debugLayer.isVisible()?t.debugLayer.hide():t.debugLayer.show({embedMode:!0})}return this},t.prototype.updateFpsPos=function(){this._fps&&(this._fps.style.right=document.body.clientWidth-(this._table.clientWidth+this._canvas.clientWidth)+"px",this._fps.innerHTML=this._engine.getFps().toFixed()+" fps")},t}();r.default=i},{"./veryengine/veryEngine":69}],2:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var i,o,s,u=n(t("./game"));document.getElementById("runButton").addEventListener("click",function(){i&&i.createScene().animate()}),document.getElementById("debugButton").addEventListener("click",function(){i&&i.toggleDebug()}),o=document.getElementById("renderCanvas"),s=document.getElementById("fpsLabel"),null!==o&&null!==s&&(i=new u.default(o,s)).createScene().animate()},{"./game":1}],3:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../enum"),i=function(){function t(){this._enabled=!0,this._projectName="",this._objectID="",this._actionID="",this._erveryFrame=!1,this.isSequence=!1,this._sequenceState=n.SequenceActionState.Initial}return Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"projectName",{get:function(){return this._projectName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"objectID",{get:function(){return this._objectID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionID",{get:function(){return this._actionID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Type",{get:function(){return n.ActionType.Normal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"everyFrame",{get:function(){return this._erveryFrame},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SequenceState",{get:function(){return this._sequenceState},set:function(t){this._sequenceState=t},enumerable:!0,configurable:!0}),t.prototype.setEveryFrame=function(t){this._erveryFrame=t},t.prototype.setActionID=function(t,e){this._objectID=t,this._actionID=e},t.prototype.paraParser=function(t){return!0},t.prototype.action=function(t,e){this._enabled=t,this._erveryFrame=e,this._enabled&&(this.active(),this._erveryFrame||this.onUpdate())},t.prototype.update=function(){this._enabled&&this._erveryFrame&&this.onUpdate()},t.prototype.onUpdate=function(){},t.prototype.pause=function(){this._sequenceState=n.SequenceActionState.Pause},t.prototype.resume=function(){this._sequenceState=n.SequenceActionState.Running},t.prototype.stop=function(){this._sequenceState=n.SequenceActionState.Initial},t.prototype.finish=function(){this._sequenceState=n.SequenceActionState.Initial,this.enabled=!1},t}();r.VE_ActionBehaviour=i},{"../enum":15}],4:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("../html"),n=function(){function t(){}return t.addAction=function(t){for(var e=t.ID.split("|"),r=0;r<e.length;r++){var n=e[r].trim().toLowerCase();this._actionDics[n]?i.ShowError.showError("响应初始化错误，响应ID重复，当前响应ID："+n+"，请为当前响应重新分配响应ID！"):this._actionDics[n]=t}},t.hasAction=function(t){return t=t.toLowerCase(),!!this._actionDics[t]},t.createAction=function(t){return t=t.toLowerCase(),Object.create(this._actionDics[t])},t.remove=function(t){t=t.toLowerCase(),delete this._actionDics[t]},t._actionDics={},t}();r.VE_Actions=n},{"../html":35}],5:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../enum"),i=function(){function t(t,e){this._totalStr="",this._leftType=n.AssignType.Variable,this._rightType=n.AssignType.Variable,this._state=t,this._totalStr=e}return Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftType",{get:function(){return this._leftType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightType",{get:function(){return this._rightType},enumerable:!0,configurable:!0}),t}();r.VE_Assignment=i},{"../enum":15}],6:[function(t,e,r){"use strict";function n(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}Object.defineProperty(r,"__esModule",{value:!0}),n(t("./actionBehaviour")),n(t("./assignment")),n(t("./actions"))},{"./actionBehaviour":3,"./actions":4,"./assignment":5}],7:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./fsmData"),i=function(){function t(t,e,r){this._projectName="",this._objectID="",this._templateID="",this._isTemplate=!1,this._fsmIDs=[],this._fsmDic={},this._triggerIDs=[],this._triggerDic={},this._actionIDs=[],this._actionDic={},this._actionInitValue={},this._projectName=t,(this._isTemplate=r)?this._templateID=e:this._objectID=e}return Object.defineProperty(t.prototype,"projectName",{get:function(){return this._projectName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"objectID",{get:function(){return this._objectID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"templateID",{get:function(){return this._templateID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTemplate",{get:function(){return this._isTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._isTemplate?this._templateID:this._objectID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"triggerCount",{get:function(){return this._triggerIDs.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionCount",{get:function(){return this._actionIDs.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fsmCount",{get:function(){return this._fsmIDs.length},enumerable:!0,configurable:!0}),t.prototype.hasFsm=function(t){return!!this._fsmDic[t]},t.prototype.createFsm=function(t){this._fsmIDs.push(t),this._fsmDic[t]=new n.VE_FsmData(t,this)},t.prototype.getFsm=function(t){return this._fsmDic[t]},t.prototype.hasFsmIndex=function(t){return 0<=t&&t<this._fsmIDs.length},t.prototype.getFsmID=function(t){return this._fsmIDs[t]},t.prototype.hasTrigger=function(t){return!!this._triggerDic[t]},t.prototype.addTrigger=function(t,e){this._triggerIDs.push(t),this._triggerDic[t]=e},t.prototype.getTrigger=function(t){return this._triggerDic[t]},t.prototype.hasTriggerIndex=function(t){return 0<=t&&t<this._triggerIDs.length},t.prototype.getTriggerID=function(t){return this._triggerIDs[t]},t.prototype.hasAction=function(t){return!!this._actionDic[t]},t.prototype.addAction=function(t,e,r){this._actionIDs.push(t),this._actionDic[t]=e,this._actionInitValue[t]=r},t.prototype.getAction=function(t){return this._actionDic[t]},t.prototype.getActionInitVal=function(t){return this._actionInitValue[t]},t.prototype.hasActionIndex=function(t){return 0<=t&&t<this._actionIDs.length},t.prototype.getActionID=function(t){return this._actionIDs[t]},t.prototype.clear=function(){this._fsmIDs=[],this._fsmDic={},this._triggerIDs=[],this._triggerDic={},this._actionIDs=[],this._actionDic={},this._actionInitValue={}},t}();r.VE_DataSource=i},{"./fsmData":8}],8:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e){this._initialValStr="defalut",this._states=[],this._dataSource=e,this._fsmID=t}return Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fsmID",{get:function(){return this._fsmID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initialValStr",{get:function(){return this._initialValStr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._states.length},enumerable:!0,configurable:!0}),t.prototype.initFsm=function(t){this._initialValStr=t},t.prototype.addState=function(t){this._states.push(t)},t.prototype.getState=function(t){return this._states[t]},t}();r.VE_FsmData=n},{}],9:[function(t,e,r){"use strict";function n(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}Object.defineProperty(r,"__esModule",{value:!0}),n(t("./variableData")),n(t("./fsmData")),n(t("./stateActionData")),n(t("./stateTriggerData")),n(t("./stateData")),n(t("./dataSource"))},{"./dataSource":7,"./fsmData":8,"./stateActionData":10,"./stateData":11,"./stateTriggerData":12,"./variableData":13}],10:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("../enum"),n=function(){function t(t,e,r,n,i){void 0===e&&(e="false"),void 0===r&&(r="false"),void 0===n&&(n="false"),void 0===i&&(i=o.StateActionType.Action),this.totalString="",this.varID="",this.varValue="",this.actionID=t,this.enabled=e,this.everyFrame=r,this.isSequence=n,this.type=i}return t.prototype.setNormalAction=function(t,e,r,n){void 0===e&&(e="false"),void 0===r&&(r="false"),void 0===n&&(n="false"),this.actionID=t,this.enabled=e,this.everyFrame=r,this.isSequence=n,this.type=o.StateActionType.Action},t.prototype.setAssignmentAction=function(t,e,r){this.totalString=t,this.varID=e,this.varValue=r,this.type=o.StateActionType.Assignment},t}();r.VE_StateActionData=n},{"../enum":15}],11:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("../state"),n=function(){function t(t,e,r,n){void 0===n&&(n=i.StateConst.STATE_INDEX),this._stateIndex=i.StateConst.STATE_INDEX,this.logicalExp="",this._triggers=[],this._actions=[],this._associatedStates=[],this._isSequence=!1,this._fsmData=t,this._valStr=e,this._isInitialValue=r,this._stateIndex=n}return Object.defineProperty(t.prototype,"fsmData",{get:function(){return this._fsmData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ValStr",{get:function(){return this._valStr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInitialValue",{get:function(){return this._isInitialValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateIndex",{get:function(){return this._stateIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSequence",{get:function(){return this._isSequence},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"triggerCount",{get:function(){return this._triggers.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionCount",{get:function(){return this._actions.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"associatedStateCount",{get:function(){return this._associatedStates.length},enumerable:!0,configurable:!0}),t.prototype.hasTrigger=function(t){return 0<=t&&t<this._triggers.length},t.prototype.addTrigger=function(t){this._triggers.push(t)},t.prototype.getTrigger=function(t){return this._triggers[t]},t.prototype.hasAction=function(t){return 0<=t&&t<this._actions.length},t.prototype.addAction=function(t){this._actions.push(t)},t.prototype.getAction=function(t){return this._actions[t]},t.prototype.hasAssociatedState=function(t){return 0<=t&&t<this._associatedStates.length},t.prototype.addAssociatedState=function(t){this._associatedStates.push(t)},t.prototype.getAssociatedState=function(t){return this._associatedStates[t]},t.prototype.setSequence=function(){this._isSequence=!0},t}();r.VE_StateData=n},{"../state":51}],12:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t){this.triggerID=t,this.logicalSwitch="",this.logicalExp=""}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t}();r.VE_StateTriggerData=n},{}],13:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t){this._projectName="",this._variableIDs=[],this._varDics={},this._projectName=t}return Object.defineProperty(t.prototype,"projectName",{get:function(){return this._projectName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._variableIDs.length},enumerable:!0,configurable:!0}),t.prototype.hasVariable=function(t){return!!this._varDics[t]},t.prototype.addVariable=function(t,e){this._varDics[t]=e,this._variableIDs.push(t)},t.prototype.getVariableID=function(t){return 0<=t&&t<this._variableIDs.length?this._variableIDs[t]:""},t.prototype.getVariableParas=function(t){return this._varDics[t]},t.prototype.clear=function(){this._variableIDs=[],this._varDics={}},t}();r.VE_Variable=n},{}],14:[function(t,e,r){"use strict";var n,i,o,s,u,a;Object.defineProperty(r,"__esModule",{value:!0}),(n=r.ActionType||(r.ActionType={}))[n.Normal=0]="Normal",n[n.Animation=1]="Animation",(i=r.SequenceActionState||(r.SequenceActionState={}))[i.Initial=0]="Initial",i[i.Prepared=1]="Prepared",i[i.Running=2]="Running",i[i.Pause=3]="Pause",(o=r.StateActionType||(r.StateActionType={}))[o.Action=0]="Action",o[o.Assignment=1]="Assignment",(s=r.AssignType||(r.AssignType={}))[s.Variable=0]="Variable",s[s.Template=1]="Template",s[s.TemplateVariable=2]="TemplateVariable",s[s.Const=3]="Const",(u=r.AssociatedFsmType||(r.AssociatedFsmType={}))[u.Object=0]="Object",u[u.Template=1]="Template",(a=r.VariableScope||(r.VariableScope={}))[a.Local=0]="Local",a[a.Fsm=1]="Fsm",a[a.Global=2]="Global",a[a.Scene=3]="Scene"},{}],15:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}(t("./enumTypes"))},{"./enumTypes":14}],16:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e,r){this._value="",this._line=0,this._pos=0,this._value=t,this._line=e,this._pos=r}return t.prototype.getValue=function(){return this._value},t.prototype.getLine=function(){return this._line},t.prototype.getPos=function(){return this._pos},t.prototype.isDigit=function(){return/\d/.test(this._value)},t.prototype.isLetter=function(){return/[a-zA-Z]/.test(this._value)},t.prototype.isWhiteSpace=function(){return" "===this._value},t.prototype.isNewLine=function(){return"\n"===this._value},t.prototype.isEndOfInput=function(){return"\0"===this._value},t.prototype.is=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0;r<t.length;r++)if(t[r]===this._value&&"\0"!==t[r])return!0;return!1},t.prototype.toString=function(){return this._value},t}();r.ExpChar=n},{}],17:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./scope"),i=t("./positions"),o=t("./expressionParsing"),s=t("../enum"),u=function(){function t(){}return t.init=function(){this._scope=n.Scope.Create()},t.isCreated=function(t){return!!this._scope.isCreated(t)||!!this._expVariable[t]},t.isCreatedVariable=function(t){return!!this._scope.isCreated(t)},t.isCreatedExpression=function(t){return!!this._expVariable[t]},t.createVariable=function(t,e,r){return this.errors=[],this.isCreated(t)?(this.errors.push(i.ParseError.Error(new i.NameLocation(t),"变量："+t+"，类型："+e+"，该变量已创建，请勿重复创建！")),!1):(this._scope.setVariable(t,e,r),!0)},t.createExpression=function(t,e){if(this.errors=[],this.isCreated(t))return this.errors.push(i.ParseError.Error(new i.NameLocation(t),"表达式名："+t+"，表达式："+e+"，该表达式已定义，请勿重复定义！")),!1;var r=o.VE_ExpressionParsing.parsing(t,e,this._scope,this._projectName,"","",s.VariableScope.Scene);if(0<o.VE_ExpressionParsing.errors.length){for(var n=0;n<o.VE_ExpressionParsing.errors.length;n++)this.errors.push(o.VE_ExpressionParsing.errors[n]);return!1}return this._expVariable[t]=r,!0},t.getValue=function(t){return this.isCreated(t)?this.isCreatedVariable(t)?this._scope.find(t).getValue():this._expVariable[t].evaluate():null},t.getExpression=function(t){return this._expVariable[t]?this._expVariable[t]:null},t.getVariable=function(t){return this.isCreatedVariable(t)?this._scope.find(t):null},t._expVariable={},t.errors=[],t._projectName="",t._objectID="",t}();(r.ExpManager=u).init(),u.createVariable("x","number",1),u.createVariable("y","number",2),console.log(u.getValue("y")),u.createExpression("add","x + y"),console.log(u.getExpression("add")),u.createExpression("multiply","x * y"),u.createExpression("substract","x - y"),console.log(u.getExpression("add").evaluate()),console.log(u.getExpression("multiply").evaluate()),console.log(u.getExpression("substract").evaluate())},{"../enum":15,"./expressionParsing":19,"./positions":25,"./scope":26}],18:[function(t,e,r){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),(n=r.ExpressionType||(r.ExpressionType={}))[n.ID=0]="ID",n[n.SPECIAL_ID=1]="SPECIAL_ID",n[n.KEYWORD=2]="KEYWORD",n[n.STRING=3]="STRING",n[n.NUMBER=4]="NUMBER",n[n.BOOL=5]="BOOL",n[n.OPERATOR=6]="OPERATOR",n[n.INTEGER=7]="INTEGER",n[n.FLOAT=8]="FLOAT",n[n.DOUBLE=9]="DOUBLE",n[n.EOI=10]="EOI"},{}],19:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var u=t("./tokenizer"),p=t("./expressions"),c=t("./expressionEnum"),i=t("./functionExpression"),o=t("./functions"),h=t("./variableExpression"),n=t("../enum"),s=function(){function t(){}return t.init=function(){this._bracketPair["("]=")",this._bracketPair["["]="]",this._bracketPair["{"]="}",this._bracketPair["（"]="）",this._bracketPair["【"]="】"},t.parsing=function(t,e,r,n,i,o,s){return this._scope=r,this._projectName=n,this._objectID=i,this._fsmID=o,this._varScope=s,console.log(e),this._tokenizer=new u.Tokenizer(e),this.errors=[],this.parse()},t.parse=function(){var t=this.buildExpression();return this._tokenizer.current().isEnd()||(this._tokenizer.addError(this._tokenizer.current(),"未定义字符："+this._tokenizer.current().getSource()+"！"),this._tokenizer.consume()),this.errors=this._tokenizer.getProblemCollector(),t},t.buildExpression=function(){var t=this.relationalExp();if(this._tokenizer.current().isOperator("&&")){this._tokenizer.consume();var e=this.buildExpression();return this.reOrder(t,e,p.BinaryOperator.Add)}if(this._tokenizer.current().isOperator("||")){this._tokenizer.consume();e=this.buildExpression();return this.reOrder(t,e,p.BinaryOperator.Or)}return t},t.relationalExp=function(){var t=this.algebraExp();if(this._tokenizer.current().isOperator("<")){this._tokenizer.consume();var e=this.relationalExp();return this.reOrder(t,e,p.BinaryOperator.LT)}if(this._tokenizer.current().isOperator("<=")){this._tokenizer.consume();e=this.relationalExp();return this.reOrder(t,e,p.BinaryOperator.LT_EQ)}if(this._tokenizer.current().isOperator("==")){this._tokenizer.consume();e=this.relationalExp();return this.reOrder(t,e,p.BinaryOperator.EQ)}if(this._tokenizer.current().isOperator(">=")){this._tokenizer.consume();e=this.relationalExp();return this.reOrder(t,e,p.BinaryOperator.GT_EQ)}if(this._tokenizer.current().isOperator(">")){this._tokenizer.consume();e=this.relationalExp();return this.reOrder(t,e,p.BinaryOperator.GT)}if(this._tokenizer.current().isOperator("!=")){this._tokenizer.consume();e=this.relationalExp();return this.reOrder(t,e,p.BinaryOperator.NEQ)}return t},t.algebraExp=function(){var t=this.productExp();if(this._tokenizer.current().isOperator("+")){this._tokenizer.consume();var e=this.algebraExp();return this.reOrder(t,e,p.BinaryOperator.Add)}if(this._tokenizer.current().isOperator("-")){this._tokenizer.consume();e=this.algebraExp();return this.reOrder(t,e,p.BinaryOperator.Subtract)}return t},t.productExp=function(){var t=this.exponentExp();if(this._tokenizer.current().isOperator("*")){this._tokenizer.consume();var e=this.productExp();return this.reOrder(t,e,p.BinaryOperator.Multiply)}if(this._tokenizer.current().isOperator("/")){this._tokenizer.consume();e=this.productExp();return this.reOrder(t,e,p.BinaryOperator.Divide)}if(this._tokenizer.current().isOperator("%")){this._tokenizer.consume();e=this.productExp();return this.reOrder(t,e,p.BinaryOperator.Modulo)}return t},t.exponentExp=function(){var t=this.atomExp();return(this._tokenizer.current().isOperator("!")||this._tokenizer.current().isOperator("！"))&&(t=new p.BinaryExpression(t,t,p.BinaryOperator.Not)),t},t.atomExp=function(){if(this._tokenizer.current().isOperator("-"))return this._tokenizer.consume(),(e=new p.BinaryExpression(new p.ConstantExpression(0,"number"),this.atomExp(),p.BinaryOperator.Subtract)).setSeal(),e;if(this._tokenizer.current().isOperator("!")&&(this._tokenizer.next().isIdentifier()||this._tokenizer.next().isKeyword()||this._tokenizer.next().isStartBracket())){this._tokenizer.consume();var t=this.atomExp();return"bool"!==t.expType?(this._tokenizer.addError(this._tokenizer.current(),"取非运算(!)后应跟着bool值类型！"),p.ConstantExpression.Empty()):new p.BinaryExpression(t,t,p.BinaryOperator.Not)}if(this._tokenizer.current().isOperator("+")&&this._tokenizer.next().isStartBracket()&&this._tokenizer.consume(),this._tokenizer.current().isOperator("+")&&this._tokenizer.next().isConstant()&&this._tokenizer.consume(),this._tokenizer.current().isOperator("+")&&this._tokenizer.next().isIdentifier()&&this._tokenizer.consume(),this._tokenizer.current().isStartBracket()){var e,r=this._bracketPair[this._tokenizer.consume().getTrigger()];return"BinaryExpression"===(e=this.buildExpression()).className&&e.setSeal(),this.expectTrigger(c.ExpressionType.OPERATOR,r),e}if(this._tokenizer.current().isConstant()){var n=void 0,i="string";return i=this._tokenizer.current().isBool()?(n="true"===this._tokenizer.current().getContents().toLowerCase(),"bool"):this._tokenizer.current().isNumber()?(n=parseFloat(this._tokenizer.current().getContents()),"number"):(n=this._tokenizer.current().getContents(),"string"),new p.ConstantExpression(n,i)}if(this._tokenizer.current().isIdentifier()){if(this._tokenizer.next().isStartBracket()){var o=this._bracketPair[this._tokenizer.next().getTrigger()];return this.functionCall(o)}var s=void 0,u=this._tokenizer.current(),a=this._tokenizer.consume().getContents();return this._tokenizer.current().isOperator("*")&&this._tokenizer.next().isIdentifier()?(console.log("TODO：解析VeryVar变量"),p.ConstantExpression.Empty()):(s=this._scope.find(a),console.log(a+"  ---  "+s),null===s?(this._tokenizer.addError(u,"变量名："+a+"，该变量在变量作用域中未定义，也未定义该表达式，无法识别！另外，赋值响应右侧如果是公式，不允许引用模板变量！"),p.ConstantExpression.Empty()):new h.VariableExpression(s))}return this._tokenizer.current().isKeyword()||(this._tokenizer.current().isSpecialIdentifier()?this._tokenizer.addError(this._tokenizer.current(),"特殊ID："+this._tokenizer.current().getSource()+"，暂时未定义，请勿使用！"):this._tokenizer.addError(this._tokenizer.current(),"检测到无效字符："+this._tokenizer.current().getSource()+"，请检查！"),this._tokenizer.consume()),p.ConstantExpression.Empty()},t.reOrder=function(t,e,r){if("BinaryExpression"===e.className){var n=e;if(!n.isSealed()&&n.getPriority()===n.getPriorityOp(r))return this.replaceLeft(n,t,r),e}return new p.BinaryExpression(t,e,r)},t.replaceLeft=function(t,e,r){if("BinaryExpression"===t.getLeftExp().className){var n=t.getLeftExp();if(!n.isSealed()&&n.getPriority()===n.getPriorityOp(r))return void this.replaceLeft(n,e,r)}t.setLeftExp(new p.BinaryExpression(e,t.getLeftExp(),r))},t.functionCall=function(t){var e=new i.FunctionExpression,r=this._tokenizer.consume();if(!o.CustomFunctions.hasFunction(r.getContents()))return this._tokenizer.addError(r,"未定义函数："+r.getContents()+"！"),p.ConstantExpression.Empty();var n=o.CustomFunctions.createFunction(r.getContents());for(e.setFunction(n),this._tokenizer.consume();!this._tokenizer.current().isOperator(t)&&!this._tokenizer.current().isEnd();)0!==e.paraCount()&&this.expectTrigger(c.ExpressionType.OPERATOR,","),e.addPara(this.buildExpression());return this.expectTrigger(c.ExpressionType.OPERATOR,t),e.evaluate(),e.paraCount()>n.parameterNumber()&&0<=n.parameterNumber()?(this._tokenizer.addError(r,"函数参数不一致，当前函数："+r.getContents()+"，规定参数个数Max："+n.parameterNumber()+"，当前参数个数："+e.paraCount()+"，请检查！"),p.ConstantExpression.Empty()):e},t.expectTrigger=function(t,e){this._tokenizer.current().matches(t,e)?this._tokenizer.consume():this._tokenizer.addError(this._tokenizer.current(),"期望获得："+e+"，当前值为："+this._tokenizer.current().getTrigger()+"，请检查！")},t.getProjectCollector=function(){return this._tokenizer.getProblemCollector()},t._bracketPair={},t.errors=[],t._projectName="",t._objectID="",t._fsmID="",t._varScope=n.VariableScope.Local,t}();(r.VE_ExpressionParsing=s).init()},{"../enum":15,"./expressionEnum":18,"./expressions":20,"./functionExpression":22,"./functions":23,"./tokenizer":29,"./variableExpression":31}],20:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../utility/dictionary"),i=function(){function t(){}return Object.defineProperty(t.prototype,"expType",{get:function(){return"bool"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"TrueExpression"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.evaluate=function(){return!0},t.prototype.clone=function(){return new t},t}();r.TrueExpression=i;var o,s,u=function(){function t(t,e){this._expType="string",this._value=t,this._expType=e}return Object.defineProperty(t.prototype,"expType",{get:function(){return this._expType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"ConstantExpression"},enumerable:!0,configurable:!0}),t.prototype.evaluate=function(){return this._value},t.prototype.clone=function(){return new t(this._value,this._expType)},t.Empty=function(){return new t(null,"string")},t.prototype.isEmpty=function(){return"string"===this._expType&&null===this._value},t.prototype.toString=function(){return null!==this._value?this._value.toString():"null"},t}();r.ConstantExpression=u,(s=o=r.BinaryOperator||(r.BinaryOperator={}))[s.Add=0]="Add",s[s.Subtract=1]="Subtract",s[s.Multiply=2]="Multiply",s[s.Divide=3]="Divide",s[s.Modulo=4]="Modulo",s[s.Power=5]="Power",s[s.LT=6]="LT",s[s.LT_EQ=7]="LT_EQ",s[s.EQ=8]="EQ",s[s.GT_EQ=9]="GT_EQ",s[s.GT=10]="GT",s[s.NEQ=11]="NEQ",s[s.And=12]="And",s[s.Or=13]="Or",s[s.Not=14]="Not";var a=function(){function r(t,e,r){this._expType="",this._op=o.EQ,this._isSealed=!1,this._left=t,this._right=e,this._op=r,console.log(this._left),console.log(this._right),this._expType=this.resultAutoType(t,e,r),"null"===this._expType&&console.log("公式两边类型不匹配，左侧类型："+t.expType+"，右侧类型："+e.expType+"，计算类型："+r.toString())}return Object.defineProperty(r.prototype,"expType",{get:function(){return this._expType},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"className",{get:function(){return"BinaryExpression"},enumerable:!0,configurable:!0}),r.init=function(){this._opDic["+"]=o.Add,this._opDic["-"]=o.Subtract,this._opDic["*"]=o.Multiply,this._opDic["/"]=o.Divide,this._opDic["%"]=o.Modulo,this._opDic["**"]=o.Power,this._opDic["^"]=o.Power,this._opDic["<"]=o.LT,this._opDic["<="]=o.LT_EQ,this._opDic["=="]=o.EQ,this._opDic[">="]=o.GT_EQ,this._opDic[">"]=o.GT,this._opDic["!="]=o.NEQ,this._opDic["&&"]=o.And,this._opDic["||"]=o.Or,this._opDic["!"]=o.Not,this._opDic["！"]=o.Not,this._priority.Add(o.Not,2),this._priority.Add(o.Power,3),this._priority.Add(o.Multiply,4),this._priority.Add(o.Divide,4),this._priority.Add(o.Modulo,4),this._priority.Add(o.Add,5),this._priority.Add(o.Subtract,5),this._priority.Add(o.LT,6),this._priority.Add(o.LT_EQ,6),this._priority.Add(o.EQ,6),this._priority.Add(o.GT_EQ,6),this._priority.Add(o.GT,6),this._priority.Add(o.NEQ,6),this._priority.Add(o.And,7),this._priority.Add(o.Or,7)},r.prototype.resultAutoType=function(t,e,r){return r===o.Add?"string"===t.expType||"string"===e.expType?"string":"bool"===t.expType||"bool"===e.expType?"null":"number"===t.expType||"number"===e.expType?"number":"vector3"===t.expType||"vector3"===e.expType?"vector3":"vector2"===t.expType||"vector2"===e.expType?"vector2":"null":r===o.Divide||r===o.Multiply||r===o.Modulo||r===o.Power||r===o.Subtract?"string"===t.expType||"string"===e.expType||"bool"===t.expType||"bool"===t.expType?"null":"vector3"===t.expType&&"vector3"===e.expType&&r===o.Subtract?"vector3":"vector2"===t.expType&&"vector2"===e.expType&&r===o.Subtract?"vector2":"number"===t.expType&&"vector3"===e.expType&&r===o.Multiply||"vector3"===t.expType&&"number"===e.expType&&r==o.Multiply?"vector3":"number"===t.expType&&"vector2"===e.expType&&r===o.Multiply||"vector2"===t.expType&&"number"===e.expType&&r==o.Multiply?"vector2":"vector3"===t.expType&&"number"===e.expType&&r===o.Divide?"vector3":"vector2"===t.expType&&"number"===e.expType&&r===o.Divide?"vector2":"number"===t.expType||"number"===e.expType?"number":"null":r===o.LT||r===o.LT_EQ||r===o.GT_EQ||r===o.GT?"string"===t.expType||"string"===e.expType||"bool"===t.expType||"bool"===e.expType?"null":"bool":r===o.NEQ||r===o.EQ?e.expType!==t.expType?"null":"bool":r===o.Not?"bool"!==e.expType?"null":"bool":"string"},r.prototype.setLeftExp=function(t){this._left=t},r.prototype.setRightExp=function(t){this._right=t},r.prototype.getOp=function(){return this._op},r.prototype.getLeftExp=function(){return this._left},r.prototype.getRightExp=function(){return this._right},r.prototype.isSealed=function(){return this._isSealed},r.prototype.setSeal=function(){this._isSealed=!0},r.prototype.toString=function(){return"( "+this._left.toString()+" "+this._op.toString()+" "+this._right.toString()+" )"},r.prototype.clone=function(){return new r(this._left.clone(),this._right.clone(),this._op)},r.prototype.evaluate=function(){if("null"===this._expType)return null;"FunctionExpression"===this._left.className&&this._left.evaluate(),"FunctionExpression"===this._right.className&&this._right.evaluate(),this._expType=this.resultAutoType(this._left,this._right,this._op);var t=this._left.evaluate(),e=this._right.evaluate();if(null===t||null===e)return null;if(this._op===o.Add)return"string"===this._expType?t.toString()+e.toString():"number"===this._expType?t+e:"vector3"===this._expType?t.add(e):"vector2"===this._expType?t.add(e):null;if(this._op===o.Subtract)return"number"===this._expType?t-e:"vector3"===this._expType?t.subtract(e):"vector2"===this._expType?t.subtract(e):null;if(this._op===o.Multiply){if("number"===this._expType)return t*e;if("vector3"===this._expType)return"number"==typeof t?e.multiplyByFloats(t,t,t):"number"==typeof e?t.multiplyByFloats(e,e,e):null;if("vector2"===this._expType)return"number"==typeof t?e.multiplyByFloats(t,t):"number"==typeof e?t.multiplyByFloats(e,e):null}else{if(this._op!==o.Divide){if(this._op===o.Modulo)return"number"==typeof t&&"number"==typeof e?t%e:null;if(this._op===o.Power)return"number"==typeof t&&"number"==typeof e?Math.pow(t,e):null;if(this._op===o.And){var r=this.getBoolean(t),n=this.getBoolean(e);return r&&n}if(this._op!==o.Or)return this._op===o.LT?t<e:this._op===o.LT_EQ?t<=e:this._op===o.GT_EQ?e<=t:this._op===o.GT?e<t:this._op===o.EQ?t===e:this._op===o.NEQ?t!==e:this._op===o.Not?!this.getBoolean(e):!this.getBoolean(t);r=this.getBoolean(t),n=this.getBoolean(e);return r||n}if("number"===this._expType)return t/e;if("vector3"===this._expType)return"number"==typeof e?new BABYLON.Vector3(t.x/e,t.y/e,t.z/e):null;if("vector2"===this._expType)return"number"==typeof e?new BABYLON.Vector2(t.x/e,t.y/e):null}},r.prototype.getBoolean=function(t){return"number"==typeof t?0!==t:"string"==typeof t?""!==t:"boolean"==typeof t&&t},r.prototype.getPriority=function(){var t=r._priority.GetValue(this._op);return null===t?100:t},r.prototype.getPriorityOp=function(t){var e=r._priority.GetValue(t);return null===e?100:e},r._opDic={},r._priority=new n.Dictionary,r}();(r.BinaryExpression=a).init()},{"../utility/dictionary":62}],21:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){this.itemBuffer=[],this.endReached=!1,this.problemCollector=[],this.endOfInputIndicator=void 0}return t.prototype.next=function(){return this.nextOffset(1)},t.prototype.nextOffset=function(t){for(;this.itemBuffer.length<=t&&!this.endReached;){var e=this.fetch();void 0!==e?this.itemBuffer.push(e):this.endReached=!0}return t>=this.itemBuffer.length?(void 0===this.endOfInputIndicator&&(this.endOfInputIndicator=this.endOfInput()),this.endOfInputIndicator):this.itemBuffer[t]},t.prototype.current=function(){return this.nextOffset(0)},t.prototype.consume=function(){var t=this.current();return this.consumeNext(1),t},t.prototype.consumeNext=function(t){if(!(t<0))for(;0<t--;)if(0!==this.itemBuffer.length)this.itemBuffer.shift();else{if(this.endReached)return;void 0===this.fetch()&&(this.endReached=!0)}},t.prototype.getProblemCollector=function(){return this.problemCollector},t.prototype.setProblemCollector=function(t){this.problemCollector=t},t}();r.ForwardQuery=n},{}],22:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function r(){this._expType="",this._paras=[]}return Object.defineProperty(r.prototype,"expType",{get:function(){return this._expType},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"className",{get:function(){return"FunctionExpression"},enumerable:!0,configurable:!0}),r.prototype.setFunction=function(t){this._function=t},r.prototype.addPara=function(t){this._paras.push(t)},r.prototype.paraCount=function(){return this._paras.length},r.prototype.evaluate=function(){var t=null;try{t=this._function.evaluate(this._paras)}catch(t){return console.log("自定义函数编译错误，错误信息："+t),null}return t},r.prototype.clone=function(){var t=new r;t._function=this._function;for(var e=0;e<this._paras.length;e++)t._paras.push(this._paras[e].clone());return t},r.prototype.toString=function(){for(var t=this._function.className+"( ",e=0;e<this._paras.length;e++)t+=0<e?", "+this._paras[e].className:this._paras[e].className;return t+" )"},r}();r.FunctionExpression=n},{}],23:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../html"),i=function(){function t(){}return Object.defineProperty(t.prototype,"expType",{get:function(){return"number"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"pow"},enumerable:!0,configurable:!0}),t.prototype.parameterNumber=function(){return 2},t.prototype.evaluate=function(t){var e=Math.pow(t[0].evaluate(),t[1].evaluate());return NaN===e?void n.ShowError.showError("表达式编译错误：Pow函数参数错误，参数1类型："+t[0].expType+"，参数1值："+t[0].evaluate()+"，参数2类型："+t[1].expType+"，参数2值："+t[1].evaluate()+"，请检查！"):e},t}();r.Pow=i;var o=function(){function t(){}return Object.defineProperty(t.prototype,"expType",{get:function(){return"number"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"ln"},enumerable:!0,configurable:!0}),t.prototype.parameterNumber=function(){return 1},t.prototype.evaluate=function(t){var e=Math.log(t[0].evaluate());return NaN===e||e===1/0?void n.ShowError.showError("表达式编译错误：Ln函数参数错误，参数类型："+t[0].expType+"，参数值："+t[0].evaluate()+"，请检查！"):e},t}();r.Ln=o;var s=function(){function t(){}return Object.defineProperty(t.prototype,"expType",{get:function(){return"number"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"lg"},enumerable:!0,configurable:!0}),t.prototype.parameterNumber=function(){return 1},t.prototype.evaluate=function(t){var e=Math.log10(t[0].evaluate());return NaN===e||e===1/0?void n.ShowError.showError("表达式编译错误：Lg函数参数错误，参数类型："+t[0].expType+"，参数值："+t[0].evaluate()+"，请检查！"):e},t}();r.Lg=s;var u=function(){function t(){}return Object.defineProperty(t.prototype,"expType",{get:function(){return"number"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"sqrt"},enumerable:!0,configurable:!0}),t.prototype.parameterNumber=function(){return 1},t.prototype.evaluate=function(t){var e=Math.sqrt(t[0].evaluate());return NaN===e?void n.ShowError.showError("表达式编译错误：Sqrt函数参数错误，参数类型："+t[0].expType+"，参数值："+t[0].evaluate()+"，请检查！"):e},t}();r.Sqrt=u;var a=function(){function t(){}return Object.defineProperty(t.prototype,"expType",{get:function(){return"number"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"abs"},enumerable:!0,configurable:!0}),t.prototype.parameterNumber=function(){return 1},t.prototype.evaluate=function(t){var e=Math.abs(t[0].evaluate());return NaN===e?void n.ShowError.showError("表达式编译错误：Abs函数参数错误，参数类型："+t[0].expType+"，参数值："+t[0].evaluate()+"，请检查！"):e},t}();r.Abs=a;var p=function(){function t(){}return Object.defineProperty(t.prototype,"expType",{get:function(){return"number"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"random"},enumerable:!0,configurable:!0}),t.prototype.parameterNumber=function(){return 2},t.prototype.evaluate=function(t){var e=t[1].evaluate()-t[0].evaluate(),r=Math.random()*e;return NaN===r?void n.ShowError.showError("表达式编译错误：Random函数参数错误，参数1类型："+t[0].expType+"，参数1值："+t[0].evaluate()+"，参数2类型："+t[1].expType+"，参数2值："+t[1].evaluate()+"，请检查！"):r},t}();r.Random=p;var c=function(){function t(){}return Object.defineProperty(t.prototype,"expType",{get:function(){return"number"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"round"},enumerable:!0,configurable:!0}),t.prototype.parameterNumber=function(){return 1},t.prototype.evaluate=function(t){var e=Math.round(t[0].evaluate());return NaN===e?void n.ShowError.showError("表达式编译错误：Round函数参数错误，参数类型："+t[0].expType+"，参数值："+t[0].evaluate()+"，请检查！"):e},t}();r.Round=c;var h=function(){function t(){}return Object.defineProperty(t.prototype,"expType",{get:function(){return"number"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"sin"},enumerable:!0,configurable:!0}),t.prototype.parameterNumber=function(){return 1},t.prototype.evaluate=function(t){var e=Math.sin(t[0].evaluate());return NaN===e?void n.ShowError.showError("表达式编译错误：Sin函数参数错误，参数类型："+t[0].expType+"，参数值："+t[0].evaluate()+"，请检查！"):e},t}();r.Sin=h;var f=function(){function t(){}return Object.defineProperty(t.prototype,"expType",{get:function(){return"number"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"asin"},enumerable:!0,configurable:!0}),t.prototype.parameterNumber=function(){return 1},t.prototype.evaluate=function(t){var e=Math.asin(t[0].evaluate());return NaN===e?void n.ShowError.showError("表达式编译错误：ASin函数参数错误，参数类型："+t[0].expType+"，参数值："+t[0].evaluate()+"，请检查！"):e},t}();r.ASin=f;var l=function(){function t(){}return Object.defineProperty(t.prototype,"expType",{get:function(){return"number"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"cos"},enumerable:!0,configurable:!0}),t.prototype.parameterNumber=function(){return 1},t.prototype.evaluate=function(t){var e=Math.cos(t[0].evaluate());return NaN===e?void n.ShowError.showError("表达式编译错误：Cos函数参数错误，参数类型："+t[0].expType+"，参数值："+t[0].evaluate()+"，请检查！"):e},t}();r.Cos=l;var _=function(){function t(){}return Object.defineProperty(t.prototype,"expType",{get:function(){return"number"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"acos"},enumerable:!0,configurable:!0}),t.prototype.parameterNumber=function(){return 1},t.prototype.evaluate=function(t){var e=Math.acos(t[0].evaluate());return NaN===e?void n.ShowError.showError("表达式编译错误：ACos函数参数错误，参数类型："+t[0].expType+"，参数值："+t[0].evaluate()+"，请检查！"):e},t}();r.ACos=_;var y=function(){function t(){}return Object.defineProperty(t.prototype,"expType",{get:function(){return"number"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"tan"},enumerable:!0,configurable:!0}),t.prototype.parameterNumber=function(){return 1},t.prototype.evaluate=function(t){var e=Math.tan(t[0].evaluate());return NaN===e?void n.ShowError.showError("表达式编译错误：Tan函数参数错误，参数类型："+t[0].expType+"，参数值："+t[0].evaluate()+"，请检查！"):e},t}();r.Tan=y;var d=function(){function t(){}return Object.defineProperty(t.prototype,"expType",{get:function(){return"number"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"atan"},enumerable:!0,configurable:!0}),t.prototype.parameterNumber=function(){return 1},t.prototype.evaluate=function(t){var e=Math.atan(t[0].evaluate());return NaN===e?void n.ShowError.showError("表达式编译错误：ATan函数参数错误，参数类型："+t[0].expType+"，参数值："+t[0].evaluate()+"，请检查！"):e},t}();r.ATan=d;var g=function(){function t(){}return t.hasFunction=function(t){return t=t.toLowerCase(),!!this._functions[t]},t.addFunction=function(t){var e=t.className.toLowerCase();this._functions[e]?n.ShowError.showError("自定义函数初始化错误，函数ID重复，当前函数ID："+e+"，请为当前自定义函数重新分配ID！"):this._functions[e]=t},t.createFunction=function(t){return t=t.toLowerCase(),Object.create(this._functions[t])},t.remove=function(t){t=t.toLowerCase(),delete this._functions[t]},t._functions={},t}();(r.CustomFunctions=g).addFunction(new i),g.addFunction(new o),g.addFunction(new s),g.addFunction(new u),g.addFunction(new a),g.addFunction(new p),g.addFunction(new c),g.addFunction(new h),g.addFunction(new f),g.addFunction(new l),g.addFunction(new _),g.addFunction(new y),g.addFunction(new d)},{"../html":35}],24:[function(t,e,r){"use strict";function n(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}Object.defineProperty(r,"__esModule",{value:!0}),n(t("./expressionEnum")),n(t("./expressions")),n(t("./functions")),n(t("./positions")),n(t("./expChar")),n(t("./token")),n(t("./forwardQuery")),n(t("./tokenizer")),n(t("./tokenReader")),n(t("./variable")),n(t("./variableExpression")),n(t("./scope")),n(t("./functionExpression")),n(t("./expressionParsing")),n(t("./expManager"))},{"./expChar":16,"./expManager":17,"./expressionEnum":18,"./expressionParsing":19,"./expressions":20,"./forwardQuery":21,"./functionExpression":22,"./functions":23,"./positions":25,"./scope":26,"./token":27,"./tokenReader":28,"./tokenizer":29,"./variable":30,"./variableExpression":31}],25:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i,n,o=function(){function t(t){this._value="",this._line=0,this._pos=0,this._value=t,this._line=1,this._pos=1}return t.prototype.getValue=function(){return this._value},t.prototype.getLine=function(){return this._line},t.prototype.getPos=function(){return this._pos},t}();r.NameLocation=o,(n=i=r.Severity||(r.Severity={}))[n.Warning=0]="Warning",n[n.Error=1]="Error";var s=function(){function n(t,e,r){this._pos=t,this._message=e,this._severity=r}return n.Warning=function(t,e){var r=e;return 0<t.getLine()&&(r="警告>>>行号："+t.getLine()+"，字符序号："+t.getPos()+"，警告信息："+e),new n(t,r,i.Warning)},n.Error=function(t,e){var r=e;return 0<t.getLine()&&(r="错误>>>行号："+t.getLine()+"，字符序号："+t.getPos()+"，警告信息："+e),new n(t,r,i.Error)},n.prototype.getPosition=function(){return this._pos},n.prototype.getMessage=function(){return this._message},n.prototype.getSeverity=function(){return this._severity},n.prototype.toString=function(){return"类型："+this._severity.toString()+"，信息："+this._message},n}();r.ParseError=s},{}],26:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./variable"),n=function(){function r(){this._parent=void 0,this._context={}}return r.Create=function(){var t=new r;return t._parent=r.GetRootScope(),t},r.GetRootScope=function(){return void 0===r._root&&((r._root=new r).setVariable("PI","number",Math.PI).makeConstant(Math.PI),r._root.setVariable("EULER","number",Math.E).makeConstant(Math.E)),r._root},r.CreateWithParent=function(t){var e=r.Create();return e._parent=t,e},r.prototype.find=function(t){return this._context[t]?this._context[t]:void 0!==this._parent?this._parent.find(t):null},r.prototype.setVariable=function(t,e,r){var n=this.find(t);return null!==n?(n.setType(e),n.setValue(r),n):this.createVariable(t,e,r)},r.prototype.createVariable=function(t,e,r){if(this._context[t])return this._context[t].setType(e),this._context[t].setValue(r),this._context[t];var n=new i.Variable(t,e,r);return this._context[t]=n},r.prototype.setValue=function(t,e){this._context[t]&&this._context[t].setValue(e)},r.prototype.isCreated=function(t){return!!this._context[t]||void 0!==this._parent&&null!==this._parent.find(t)},r.prototype.clear=function(){this._context={}},r}();r.Scope=n},{"./variable":30}],27:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./expressionEnum"),n=function(){function n(){this.type=i.ExpressionType.STRING,this._source="",this._contents="",this._trigger="",this._line=0,this._pos=0}return n.Create=function(t,e){var r=new n;return r.type=t,r._line=e.getLine(),r._pos=e.getPos(),r},n.CreateAndFill=function(t,e){var r=new n;return r.type=t,r._line=e.getLine(),r._pos=e.getPos(),r._contents=e.getValue(),r._trigger=e.getValue(),r._source=e.toString(),r},n.prototype.addToTrigger=function(t){return this._trigger+=t.getValue(),this._source+=t.getValue(),this},n.prototype.addToSource=function(t){return this._source+=t.getValue(),this},n.prototype.addToContentChar=function(t){return this.addToContent(t.getValue()),this},n.prototype.addToContent=function(t){return this._trigger+=t,this._source+=t,this},n.prototype.getTrigger=function(){return this._trigger},n.prototype.getTokenType=function(){return this.type},n.prototype.getContents=function(){return this._contents},n.prototype.getSource=function(){return this._source},n.prototype.getLine=function(){return this._line},n.prototype.getPos=function(){return this._pos},n.prototype.setTokenType=function(t){this.type=t},n.prototype.setTrigger=function(t){this._trigger=t},n.prototype.setContent=function(t){this._contents=t},n.prototype.setSource=function(t){this._source=t},n.prototype.isEnd=function(){return this.type===i.ExpressionType.EOI},n.prototype.is=function(t){return this.type===t},n.prototype.matches=function(t,e){return!!this.is(t)&&(""!==e&&this.getTrigger()===e)},n.prototype.isOperator=function(t){if(0===t.length)return this.is(i.ExpressionType.OPERATOR);for(var e=0;e<t.length;e++)if(this.matches(i.ExpressionType.OPERATOR,t[e]))return!0;return!1},n.prototype.isStartBracket=function(){return!!this.is(i.ExpressionType.OPERATOR)&&("("===this._trigger||"（"===this._trigger)},n.prototype.isEndBracket=function(){return!!this.is(i.ExpressionType.OPERATOR)&&(")"===this._trigger||"）"===this._trigger)},n.prototype.isStartSquareBracket=function(){return!!this.is(i.ExpressionType.OPERATOR)&&("["===this._trigger||"【"===this._trigger)},n.prototype.isEndSquareBracket=function(){return!!this.is(i.ExpressionType.OPERATOR)&&("]"===this._trigger||"】"===this._trigger)},n.prototype.isStartBrace=function(){return!!this.is(i.ExpressionType.OPERATOR)&&"{"===this._trigger},n.prototype.isEndBrace=function(){return!!this.is(i.ExpressionType.OPERATOR)&&"}"===this._trigger},n.prototype.isKeyword=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return this.is(i.ExpressionType.KEYWORD);for(var r=0;r<t.length;r++)if(this.matches(i.ExpressionType.KEYWORD,t[r]))return!0;return!1},n.prototype.isIdentifier=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return this.is(i.ExpressionType.ID);for(var r=0;r<t.length;r++)if(this.matches(i.ExpressionType.ID,t[r]))return!0;return!1},n.prototype.isSpecialIdentifier=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return this.is(i.ExpressionType.SPECIAL_ID);for(var r=0;r<t.length;r++)if(this.matches(i.ExpressionType.SPECIAL_ID,t[r]))return!0;return!1},n.prototype.isSpecialIdentifierWithContent=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!this.matches(i.ExpressionType.SPECIAL_ID,t))return!1;if(0===e.length)return!0;for(var n=0;n<e.length;n++)if(this.getContents()===e[n])return!0;return!1},n.prototype.isNumber=function(){return this.is(i.ExpressionType.NUMBER)},n.prototype.isBool=function(){return this.is(i.ExpressionType.BOOL)},n.prototype.isString=function(){return this.is(i.ExpressionType.STRING)},n.prototype.isConstant=function(){return this.isNumber()||this.isBool()||this.isString()},n.prototype.toString=function(){return this.getTokenType().toString()+": "+this.getContents()+" ("+this._line+": "+this._pos+"), Trigger: "+this.getTrigger()},n}();r.Token=n},{"./expressionEnum":18}],28:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./forwardQuery"),s=t("./expChar"),u=function(r){function t(t){var e=r.call(this)||this;return e._inputExp="",e._line=1,e._pos=0,e._count=0,e._operator=0,e._inputExp=t,e._count=t.length,e._operator=0,e}return i(t,r),t.prototype.endOfInput=function(){return new s.ExpChar("\0",this._line,this._pos)},t.prototype.fetch=function(){if(this._operator<=this._count-1){var t=this._inputExp[this._operator];return this._operator++,"\n"===t&&(this._line++,this._pos=0),this._pos++,new s.ExpChar(t,this._line,this._pos)}},t.prototype.toString=function(){return 0===this.itemBuffer.length?this._line+":"+this._pos+": Buffer empty":this.itemBuffer.length<2?this._line+":"+this._pos+": "+this.current().toString():this._line+":"+this._pos+": "+this.current().toString()+", "+this.next().toString()},t}(o.ForwardQuery);r.TokenReader=u},{"./expChar":16,"./forwardQuery":21}],29:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./forwardQuery"),s=t("./token"),u=t("./tokenReader"),a=t("./expressionEnum"),p=t("./positions"),c=function(r){function t(t){var e=r.call(this)||this;return e._decimalSeparator=".",e._lineComment="//",e._blockCommentStart="/*",e._blockCommentEnd="*/",e._brackets=["(",")","（","）","[","]","{","}","【","】"],e._treatSinglePipeAsBracket=!0,e._specialIdStarters=[],e._specialIdTerminators=[],e._keywords={},e._keywordsCaseSensitive=!1,e._stringDelimiters={},e._boolConstant=[],e._inputExp=new u.TokenReader(t),e._stringDelimiters={},e._stringDelimiters['"']="\\",e._stringDelimiters["'"]="\0",e._boolConstant=[],e._boolConstant.push("false"),e._boolConstant.push("true"),e._keywords={},e._keywords.this="this",e._keywords.null="null",e._keywords.none="none",e._keywords[void 0]="undefined",e}return i(t,r),t.prototype.endOfInput=function(){return s.Token.CreateAndFill(a.ExpressionType.EOI,this._inputExp.current())},t.prototype.fetch=function(){for(;this._inputExp.current().isWhiteSpace();)this._inputExp.consume();if(!this._inputExp.current().isEndOfInput())return this.isAtStartOfLineComment(!0)?(this.skipToEndOfLine(),this.fetch()):this.isAtStartOfBlockComment(!0)?(this.skipBlockComment(),this.fetch()):this.isAtStartOfNumber()?this.fetchNumber():this.isAtStartOfIdentifier()?this.fetchId():this._stringDelimiters[this._inputExp.current().getValue()]?this.fetchString():this.isAtBracket(!1)?s.Token.CreateAndFill(a.ExpressionType.OPERATOR,this._inputExp.consume()):this.isAtStartOfSpecialId()?this.fetchSpecialId():this.isOperator(this._inputExp.current())?this.fetchOperator():(this.problemCollector.push(p.ParseError.Error(this._inputExp.current(),"无效的输入字符: "+this._inputExp.current().getValue())),this._inputExp.consume(),this.fetch())},t.prototype.fetchNumber=function(){var t=s.Token.Create(a.ExpressionType.NUMBER,this._inputExp.current());t.addToContentChar(this._inputExp.consume());for(var e=!1;this._inputExp.current().isDigit()||this._inputExp.current().is(this._decimalSeparator);)this._inputExp.current().is(this._decimalSeparator)&&(e&&this.problemCollector.push(p.ParseError.Error(this._inputExp.current(),"公式中有多个小数点！")),e=!0),t.addToContentChar(this._inputExp.consume());return t},t.prototype.fetchId=function(){var t=s.Token.Create(a.ExpressionType.ID,this._inputExp.current());for(t.addToContentChar(this._inputExp.consume());this.isIdentifierChar(this._inputExp.current());)t.addToContentChar(this._inputExp.consume());if(!this._inputExp.current().isEndOfInput()&&-1<this._specialIdTerminators.indexOf(this._inputExp.current().getValue())){var e=s.Token.Create(a.ExpressionType.SPECIAL_ID,t);return e.setTrigger(this._inputExp.current().getValue()),e.setContent(t.getContents()),e.setSource(t.getContents()),e.addToSource(this._inputExp.current()),this._inputExp.consume(),this.handleKeywords(e)}return this.handleKeywords(t)},t.prototype.fetchString=function(){var t=this._inputExp.current().getValue(),e=s.Token.Create(a.ExpressionType.STRING,this._inputExp.current());for(e.addToTrigger(this._inputExp.consume());!this._inputExp.current().isNewLine()&&!this._inputExp.current().is(t)&&!this._inputExp.current().isEndOfInput();)e.addToContentChar(this._inputExp.consume());return this._inputExp.current().is(t)?e.addToSource(this._inputExp.consume()):this.problemCollector.push(p.ParseError.Error(this._inputExp.current(),"常量字符串没有结束分隔符！")),e},t.prototype.isAtStartOfLineComment=function(t){return""!==this._lineComment&&this.canConsumeThisString(this._lineComment,t)},t.prototype.canConsumeThisString=function(t,e){for(var r=0;r<t.length;r++)if(!this._inputExp.nextOffset(r).is(t[r]))return!1;return e&&this._inputExp.consumeNext(t.length),!0},t.prototype.skipToEndOfLine=function(){for(;!this._inputExp.current().isEndOfInput()&&!this._inputExp.current().isNewLine();)this._inputExp.consume()},t.prototype.isAtStartOfBlockComment=function(t){return this.canConsumeThisString(this._blockCommentStart,t)},t.prototype.skipBlockComment=function(){for(;!this._inputExp.current().isEndOfInput();){if(this.isAtEndOfBlockComment())return;this._inputExp.consume()}this.problemCollector.push(p.ParseError.Error(this._inputExp.current(),"块注释没有结束符！"))},t.prototype.isAtEndOfBlockComment=function(){return this.canConsumeThisString(this._blockCommentEnd,!0)},t.prototype.isAtStartOfNumber=function(){return!!this._inputExp.current().isDigit()||!(!this._inputExp.current().is(".")||!this._inputExp.next().isDigit())},t.prototype.isAtStartOfIdentifier=function(){return this._inputExp.current().isLetter()||this._inputExp.current().is("_")||this._inputExp.current().is("#")},t.prototype.isIdentifierChar=function(t){return t.isDigit()||t.isLetter()||t.is("_")||t.is(".")||t.is("#")||t.is(":")||t.is("：")},t.prototype.isAtBracket=function(t){for(var e=!0,r=0;r<this._brackets.length;r++)this._inputExp.current().is(this._brackets[r])||(e=!1);return!!e||!(t||!this._treatSinglePipeAsBracket||!this._inputExp.current().is("|")||!this._inputExp.next().is("|"))},t.prototype.isAtStartOfSpecialId=function(){return-1<this._specialIdStarters.indexOf(this._inputExp.current().getValue())},t.prototype.fetchSpecialId=function(){var t=s.Token.Create(a.ExpressionType.SPECIAL_ID,this._inputExp.current());for(t.addToTrigger(this._inputExp.consume());this.isIdentifierChar(this._inputExp.current());)t.addToContentChar(this._inputExp.consume());return this.handleKeywords(t)},t.prototype.handleKeywords=function(t){var e="";if(this._keywordsCaseSensitive?this._keywords[t.getContents()]&&(e=this._keywords[t.getContents()]):this._keywords[t.getContents().toLowerCase()]&&(e=this._keywords[t.getContents().toLowerCase()]),""==e)return t.is(a.ExpressionType.SPECIAL_ID)||(e=t.getContents().toLowerCase(),-1<this._boolConstant.indexOf(e)&&t.setTokenType(a.ExpressionType.BOOL)),t;var r=s.Token.Create(a.ExpressionType.KEYWORD,t);return r.setTrigger(e),r.setContent(t.getContents()),r.setSource(t.getSource()),r},t.prototype.isOperator=function(t){return!(t.isEndOfInput()||t.isDigit()||t.isLetter()||t.isWhiteSpace())&&!(this.isAtBracket(!0)||this.isAtStartOfBlockComment(!1)||this.isAtStartOfLineComment(!1)||this.isAtStartOfNumber()||this.isAtStartOfIdentifier()||this._stringDelimiters[t.getValue()])},t.prototype.fetchOperator=function(){var t=s.Token.Create(a.ExpressionType.OPERATOR,this._inputExp.current());return t.addToTrigger(this._inputExp.consume()),t.isOperator("*")&&this._inputExp.current().is("*")?t.addToTrigger(this._inputExp.consume()):t.isOperator("&")&&this._inputExp.current().is("&")?t.addToTrigger(this._inputExp.consume()):t.isOperator("|")&&this._inputExp.current().is("|")?t.addToTrigger(this._inputExp.consume()):t.isOperator("<")&&this._inputExp.current().is("=")?t.addToTrigger(this._inputExp.consume()):t.isOperator(">")&&this._inputExp.current().is("=")?t.addToTrigger(this._inputExp.consume()):t.isOperator("!")&&this._inputExp.current().is("=")?t.addToTrigger(this._inputExp.consume()):t.isOperator("=")&&this._inputExp.current().is("=")&&t.addToTrigger(this._inputExp.consume()),t},t.prototype.addError=function(t,e){this.getProblemCollector().push(p.ParseError.Error(t,e))},t.prototype.addWarning=function(t,e){this.getProblemCollector().push(p.ParseError.Warning(t,e))},t}(o.ForwardQuery);r.Tokenizer=c},{"./expressionEnum":18,"./forwardQuery":21,"./positions":25,"./token":27,"./tokenReader":28}],30:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e,r){this._expType="string",this._value=null,this._name="",this._constant=!1,this._name=t,this._expType=e,this._value=r}return Object.defineProperty(t.prototype,"expType",{get:function(){return this._expType},enumerable:!0,configurable:!0}),t.prototype.setType=function(t){this._constant||(this._expType=t)},t.prototype.setValue=function(t){this._constant||(this._value=t)},t.prototype.makeConstant=function(t){this.setValue(t),this._constant=!0},t.prototype.getValue=function(){return this._value},t.prototype.getName=function(){return this._name},t.prototype.isConstant=function(){return this._constant},t.prototype.toString=function(){return"Type: "+this._expType+" --- "+this._name+": "+this._value.toString()},t}();r.Variable=n},{}],31:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t){this._value=t}return Object.defineProperty(t.prototype,"expType",{get:function(){return this._value.expType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"VariableExpression"},enumerable:!0,configurable:!0}),t.prototype.evaluate=function(){return this._value.getValue()},t.prototype.toString=function(){return this._value.getName()},t.prototype.clone=function(){return new t(this._value)},t}();r.VariableExpression=n},{}],32:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){};r.GameGlobal=n},{}],33:[function(t,e,r){"use strict";function n(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}Object.defineProperty(r,"__esModule",{value:!0}),n(t("./gameGlobal")),n(t("./time"))},{"./gameGlobal":32,"./time":34}],34:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../veryEngine"),i=function(){function t(){}return Object.defineProperty(t,"frameCount",{get:function(){return this._frame},enumerable:!0,configurable:!0}),Object.defineProperty(t,"deltaTime",{get:function(){return n.VeryEngine.Engine.getDeltaTime()/1e3},enumerable:!0,configurable:!0}),t._sum=function(){this._frame++},t._frame=0,t}();r.Time=i},{"../veryEngine":69}],35:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}(t("./showError"))},{"./showError":36}],36:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function r(){}return r.initZone=function(){this.errorZone||(this.errorZone=document.getElementById("errorZone"))},r.showMsg=function(t,e){this.initZone(),this.errorContentNow||(this.errorContentNow=this.errorContentPrefix),this.errorContentNow+=t+e+"<br/>",this.errorZone.style.display="block",this.errorZone.innerHTML=this.errorContentNow+"</div>";var r=this.errorZone.querySelector(".close"),n=this;r.addEventListener("click",function(){n.errorZone.style.display="none"})},r.show=function(t){this.showMsg("打印信息>>>",t)},r.showError=function(t){this.showMsg("错误信息>>>",t)},r.showWarn=function(t){this.showMsg("警告信息>>>",t)},r.clear=function(){r.initZone(),r.errorContentNow=r.errorContentPrefix,r.errorZone.innerHTML=r.errorContentNow+"</div>";var t=r.errorZone.querySelector(".close"),e=r;t.addEventListener("click",function(){e.errorZone.style.display="none"})},r.close=function(){r.initZone(),"none"===r.errorZone.style.display?r.errorZone.style.display="block":r.errorZone.style.display="none"},r.errorContentPrefix='<div class="alert alert-error"><button type="button" class="close" data-dismiss="alert">&times;</button>',r}();r.ShowError=n},{}],37:[function(t,e,r){"use strict";function n(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}Object.defineProperty(r,"__esModule",{value:!0}),n(t("./utility/index")),n(t("./action/index")),n(t("./dataSource/index")),n(t("./enum/index")),n(t("./expression/index")),n(t("./global/index")),n(t("./html/index")),n(t("./manager/index")),n(t("./object/index")),n(t("./state/index")),n(t("./template/index")),n(t("./trigger/index")),n(t("./variables/index")),n(t("../verytable/index")),n(t("./library/action/index")),n(t("./library/trigger/index"))},{"../verytable/index":70,"./action/index":6,"./dataSource/index":9,"./enum/index":15,"./expression/index":24,"./global/index":33,"./html/index":35,"./library/action/index":38,"./library/trigger/index":40,"./manager/index":42,"./object/index":46,"./state/index":51,"./template/index":55,"./trigger/index":58,"./utility/index":64,"./variables/index":66}],38:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}(t("./transform"))},{"./transform":39}],39:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._refType=BABYLON.Space.LOCAL,t}return i(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"直线运动|Translate"},enumerable:!0,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){},t.prototype.destroy=function(){},t}(t("../../index").VE_ActionBehaviour);r.Action_Translate=o},{"../../index":37}],40:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}(t("./input"))},{"./input":41}],41:[function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../../index"),s=t("../../trigger"),u=function(t){function e(){return t.call(this)||this}return i(e,t),Object.defineProperty(e.prototype,"ID",{get:function(){return"鼠标按下|Mouse_Down"},enumerable:!0,configurable:!0}),e.prototype.paraParser=function(t){var e=this.scene.onPointerObservable.add(function(t){});return this.scene.onPointerObservable.remove(e),!0},e.prototype.onUpdate=function(){},e.prototype.destroy=function(){},e}(o.VE_TriggerBehaviour);r.Trigger_MouseDown=u,s.VE_Triggers.addTrigger(new u)},{"../../index":37,"../../trigger":58}],42:[function(t,e,r){"use strict";function n(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}Object.defineProperty(r,"__esModule",{value:!0}),n(t("./projects")),n(t("./manager")),n(t("./reset"))},{"./manager":43,"./projects":44,"./reset":45}],43:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){};r.VE_Manager=n},{}],44:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){};r.VE_Projects=n},{}],45:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){};r.VE_Reset=n},{}],46:[function(t,e,r){"use strict";function n(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}Object.defineProperty(r,"__esModule",{value:!0}),n(t("./veryObject")),n(t("./objects"))},{"./objects":47,"./veryObject":48}],47:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../utility"),i=function(){function t(t){this._projectName="",this._objectIDs=[],this._objectDics={},this._projectName=t}return Object.defineProperty(t.prototype,"projectName",{get:function(){return this._projectName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._objectIDs.length},enumerable:!0,configurable:!0}),t.prototype.isCreated=function(t){return!!this._objectDics[t]},t.prototype.add=function(t,e){this.isCreated(t)||(this._objectIDs.push(t),this._objectDics[t]=e)},t.prototype.getObjectID=function(t){return 0<=t&&t<this._objectIDs.length?this._objectIDs[t]:""},t.prototype.getVeryObject=function(t){return this._objectDics[t]},t.prototype.unloadObject=function(t){n.ArrayUtility.remove(this._objectIDs,t),delete this._objectDics.object_id},t.prototype.clear=function(){for(var t=0;t<this._objectIDs.length;t++){var e=this._objectDics[this._objectIDs[t]];e&&e.clear()}this._objectIDs=[],this._objectDics={}},t}();r.VE_Objects=i},{"../utility":64}],48:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../variables"),i=function(){function t(t,e,r){this._projectName="",this._objectID="",this.gameObject=new n.GameObject,this._variables={},this._expressions={},this._actions={},this._triggers={},this._fsms={},this._templates={},this._projectName=projectName,this._objectID=e,this.gameObject=r}return Object.defineProperty(t.prototype,"projectName",{get:function(){return this._projectName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"objectID",{get:function(){return this._objectID},enumerable:!0,configurable:!0}),t.prototype.hasFsm=function(t){return!!this._fsms[t]},t.prototype.addFsm=function(t,e){this._fsms[t]=e},t.prototype.getFsm=function(t){return this._fsms[t]},t.prototype.hasTrigger=function(t){return!!this._triggers[t]},t.prototype.addTrigger=function(t,e){this._triggers[t]=e},t.prototype.getTrigger=function(t){return this._triggers[t]},t.prototype.hasAction=function(t){return!!this._actions[t]},t.prototype.addAction=function(t,e){this._actions[t]=e},t.prototype.getAction=function(t){return this._actions[t]},t.prototype.hasVariable=function(t){return!!this._variables[t]},t.prototype.addVariable=function(t,e){this._variables[t]=e},t.prototype.getVariable=function(t){return this._variables[t]},t.prototype.hasExpression=function(t){return!this._expressions[t]},t.prototype.addExpression=function(t,e){this._expressions[t]=e},t.prototype.getExpression=function(t){return this._expressions[t]},t.prototype.hasTemplate=function(t){return!!this._templates[t]},t.prototype.addTemplate=function(t,e){this._templates[t]=e},t.prototype.getTemplate=function(t){return this._templates[t]},t.prototype.hasAnyVar=function(t){return!!(this._variables[t]||this._expressions[t]||this._templates[t])},t.prototype.unload=function(){},t.prototype.clear=function(){},t}();r.VeryObject=i},{"../variables":66}],49:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("../enum"),n=function(){function t(t){this._types=[],this._indexs=[],this._numberIndex={},this._states={},this._templates={},this._templateIDs={},this._fromState=t}return Object.defineProperty(t.prototype,"FromState",{get:function(){return this._fromState},enumerable:!0,configurable:!0}),t.prototype.add=function(t,e){this._types.push(i.AssociatedFsmType.Object);var r=this._types.length;this._indexs.push(r),this._numberIndex[r]=e,this._states[r]=t},t.prototype.addTemplate=function(t,e,r){this._types.push(i.AssociatedFsmType.Object);var n=this._types.length;this._indexs.push(n),this._numberIndex[n]=r,this._templates[n]=t,this._templateIDs[n]=e},t.prototype.connect=function(){},t}();r.VE_AssociatedState=n},{"../enum":15}],50:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../utility/dictionary"),i=t("../global"),o=t("./stateConst"),s=function(){function t(){this._id="",this._objectID="",this._fsmID="",this._stateDics=new n.Dictionary,this._states=[],this._frameCount=-1,this._triggerIDs=[]}return Object.defineProperty(t.prototype,"ID",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ObjectID",{get:function(){return this._objectID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FsmID",{get:function(){return this._fsmID},enumerable:!0,configurable:!0}),t.prototype.hasState=function(t){return this._stateDics.ContainsKey(t)},t.prototype.addState=function(t,e){this._stateDics.ContainsKey(t)||(this._stateDics.Add(t,e),this._states.push(e))},t.prototype.getState=function(t){return this._stateDics.GetValue(t)},t.prototype.removeState=function(t){return!!this.hasState(t)&&(this._stateDics.Remove(t),!0)},t.prototype.receiveEvent=function(t){return i.Time.frameCount!=this._frameCount?(this._frameCount=i.Time.frameCount,this._triggerIDs=[],this._triggerIDs.push(t),!0):!!t.startsWith(o.StateConst.ASSOCIATED_STATE_PREFIX)||-1===this._triggerIDs.indexOf(t)&&(this._triggerIDs.push(t),!0)},t}();r.VE_Fsm=s},{"../global":33,"../utility/dictionary":62,"./stateConst":54}],51:[function(t,e,r){"use strict";function n(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}Object.defineProperty(r,"__esModule",{value:!0}),n(t("./state")),n(t("./fsm")),n(t("./stateAction")),n(t("./associatedState")),n(t("./stateConst"))},{"./associatedState":49,"./fsm":50,"./state":52,"./stateAction":53,"./stateConst":54}],52:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e){void 0===e&&(e="空状态"),this._value="空状态",this._stateActions=[],this._assocaitedStates=[],this._isSequence=!1,this._fsm=t,this._value=e}return Object.defineProperty(t.prototype,"Fsm",{get:function(){return this._fsm},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsSequence",{get:function(){return this._isSequence},enumerable:!0,configurable:!0}),t.prototype.setValue=function(t){this._value=t},t.prototype.addAction=function(t){this._stateActions.push(t),BABYLON.Mesh.bind},t.prototype.action=function(t){this._fsm.receiveEvent(t)},t}();r.VE_State=n},{}],53:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("../enum"),n=function(){function t(t,e,r,n){void 0===r&&(r=!1),void 0===n&&(n=!1),this._type=i.StateActionType.Action,this._action=t}return Object.defineProperty(t.prototype,"Type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Action",{get:function(){return this._action},enumerable:!0,configurable:!0}),t}();r.VE_StateAction=n},{"../enum":15}],54:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){}return t.STATE_SEPARATOR=".",t.ASSOCIATED_STATE_PREFIX="Associated_State:",t.VARIABLE_SYMBOL="*",t.STATE_INDEX=-1,t}();r.StateConst=n},{}],55:[function(t,e,r){"use strict";function n(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}Object.defineProperty(r,"__esModule",{value:!0}),n(t("./template")),n(t("./templates"))},{"./template":56,"./templates":57}],56:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){};r.VE_Template=n},{}],57:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){};r.VE_Templates=n},{}],58:[function(t,e,r){"use strict";function n(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}Object.defineProperty(r,"__esModule",{value:!0}),n(t("./triggerBehaviour")),n(t("./triggers"))},{"./triggerBehaviour":59,"./triggers":60}],59:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../state/stateConst"),i=function(){function t(){this._enabled=!0,this._projectName="",this._logicalSwitch=[],this._logicalExp=[],this._triggerTargets=[],this._objectID="object-axxx",this._triggerID="",this._id=""}return Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"projectName",{get:function(){return this._projectName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){if(this._logicalSwitch)for(var t=0;t<this._logicalSwitch.length;t++)if(!this._logicalSwitch[t].evaluate())return!1;return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"objectID",{get:function(){return this._objectID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"triggerID",{get:function(){return this._triggerID},enumerable:!0,configurable:!0}),t.prototype.call=function(){console.log(this._objectID)},t.prototype.set=function(t){this.scene=t},t.prototype.setTriggerID=function(t,e){this._triggerID=t,this._objectID=e,this._id=e+n.StateConst.STATE_SEPARATOR+t},t.prototype.addLogicalSwitch=function(t){this._logicalSwitch.push(t)},t.prototype.addTriggerTarget=function(t,e){this._logicalExp.push(t),this._triggerTargets.push(e)},t.prototype.sendEvent=function(){this.isEnabled&&this.eventProcess()},t.prototype.eventProcess=function(){if(this._triggerTargets)for(var t=0;t<this._triggerTargets.length;t++)this._logicalExp[t].evaluate()&&this._triggerTargets[t].action(this._id)},t.prototype.paraParser=function(t){return!0},t.prototype.update=function(){this.isEnabled&&this.onUpdate()},t.prototype.onUpdate=function(){},t}();r.VE_TriggerBehaviour=i},{"../state/stateConst":54}],60:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("../html"),n=function(){function t(){}return t.addTrigger=function(t){for(var e=t.ID.split("|"),r=0;r<e.length;r++){var n=e[r].trim().toLowerCase();this._triggerDics[n]?i.ShowError.showError("触发初始化错误，触发ID重复，当前触发ID："+n+"，请为当前触发重新分配触发ID！"):this._triggerDics[n]=t}},t.hasTrigger=function(t){return t=t.toLowerCase(),!!this._triggerDics[t]},t.createTrigger=function(t){return t=t.toLowerCase(),Object.create(this._triggerDics[t])},t.remove=function(t){t=t.toLowerCase(),delete this._triggerDics[t]},t._triggerDics={},t}();r.VE_Triggers=n},{"../html":35}],61:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){}return t.remove=function(t,e){var r=t.indexOf(e);-1<r&&t.splice(r,1)},t.clear=function(t){[]},t}();r.ArrayUtility=n},{}],62:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){this._keys=[],this._values=[]}return Object.defineProperty(t.prototype,"count",{get:function(){return this.Count()},enumerable:!0,configurable:!0}),t.prototype.Add=function(t,e){return this._keys.push(t),this._values.push(e)},t.prototype.Remove=function(t){var e=this._keys.indexOf(t,0);this._keys.splice(e,1),this._values.splice(e,1)},t.prototype.Count=function(){return this._keys.length},t.prototype.SetValue=function(t,e){var r=this._keys.indexOf(t,0);return-1!=r&&(this._keys[r]=t,this._values[r]=e,!0)},t.prototype.GetValue=function(t){var e=this._keys.indexOf(t,0);return-1!=e?this._values[e]:null},t.prototype.ContainsKey=function(t){for(var e=this._keys,r=0;r<e.length;++r)if(e[r]==t)return!0;return!1},t.prototype.GetKeys=function(){return this._keys},t.prototype.GetValues=function(){return this._values},t}();r.Dictionary=n},{}],63:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){this.isRight=!0,this.message=""}return t.prototype.clear=function(){this.isRight=!0,this.message=""},t}();r.ErrorInfo=n},{}],64:[function(t,e,r){"use strict";function n(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}Object.defineProperty(r,"__esModule",{value:!0}),n(t("./arrayUtility")),n(t("./dictionary")),n(t("./errorInfo"))},{"./arrayUtility":61,"./dictionary":62,"./errorInfo":63}],65:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){this.mesh=null}return Object.defineProperty(t.prototype,"gameObject",{get:function(){return this},enumerable:!0,configurable:!0}),t}();r.GameObject=n;var i=function(){function t(){this.eulerAngles=BABYLON.Vector3.Zero()}return Object.defineProperty(t.prototype,"localPosition",{get:function(){return BABYLON.Vector3.Zero()},enumerable:!0,configurable:!0}),t}();r.Transform=i},{}],66:[function(t,e,r){"use strict";function n(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}Object.defineProperty(r,"__esModule",{value:!0}),n(t("./veryVarManager")),n(t("./veryVariables")),n(t("./babylonVariables"))},{"./babylonVariables":65,"./veryVarManager":67,"./veryVariables":68}],67:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../html/showError"),i=function(){function t(){}return t.hasVarType=function(t){return t=t.toLowerCase(),!!this._veryVarTypes[t]},t.addVarType=function(t,e){t=t.toLowerCase().trim(),this._veryVarTypes[t]?n.ShowError.showError("VeryVar变量初始化错误，变量类型重复，当前变量名："+t+"，当前变量类型："+e):this._veryVarTypes[t]=e},t.createVar=function(t){return t=t.toLowerCase(),Object.create(this.getVarType(t))},t.getVarType=function(t){return t=t.toLowerCase(),this._veryVarTypes&&this._veryVarTypes[t]?this._veryVarTypes[t]:null},t.remove=function(t){t=t.toLowerCase(),delete this._veryVarTypes[t]},t._veryVarTypes={},t}();r.VeryVarManager=i},{"../html/showError":36}],68:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./veryVarManager"),i=function(){function t(){this._value=!1,this._value=!1}return Object.defineProperty(t.prototype,"varType",{get:function(){return"bool"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),t.prototype.setValue=function(t){this._value=t},t.prototype.getValue=function(){return this._value},t.prototype.initValue=function(t,e){return"false"!==t.toLowerCase()&&("true"===t.toLowerCase()||""!==t&&"null"!==t.toLowerCase()&&"none"!==t.toLowerCase()&&(e.isRight=!1,void(e.message="Type: "+this.varType+"，值："+t+"，该变量值和类型不匹配，转化错误，请检查！")))},t}();r.VeryBool=i;var o=function(){function t(){this._value=0,this._value=0}return Object.defineProperty(t.prototype,"varType",{get:function(){return"int"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Value",{get:function(){return Math.round(this._value)},set:function(t){this._value=Math.round(t)},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){return this.Value},t.prototype.setValue=function(t){this.Value=t},t.prototype.initValue=function(t,e){var r=parseFloat(t);return isNaN(r)?(e.isRight=!1,void(e.message="Type: "+this.varType+"，值："+t+"，该变量值和类型不匹配，转化错误，请检查！")):Math.round(r)},t}();r.VeryInt=o;var s=function(){function t(){this._value=0,this._value=0}return Object.defineProperty(t.prototype,"varType",{get:function(){return"float"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),t.prototype.setValue=function(t){this._value=t},t.prototype.getValue=function(){return this._value},t.prototype.initValue=function(t,e){var r=parseFloat(t);return isNaN(r)?(e.isRight=!1,void(e.message="Type: "+this.varType+"，值："+t+"，该变量值和类型不匹配，转化错误，请检查！")):r},t}();r.VeryFloat=s;var u=function(){function t(){this._value=0,this._value=0}return Object.defineProperty(t.prototype,"varType",{get:function(){return"number"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),t.prototype.setValue=function(t){this._value=t},t.prototype.getValue=function(){return this._value},t.prototype.initValue=function(t,e){var r=parseFloat(t);return isNaN(r)?(e.isRight=!1,void(e.message="Type: "+this.varType+"，值："+t+"，该变量值和类型不匹配，转化错误，请检查！")):r},t}();r.VeryNumber=u;var a=function(){function t(){this._value="",this._value=""}return Object.defineProperty(t.prototype,"varType",{get:function(){return"string"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){return this._value},t.prototype.setValue=function(t){this._value=t},t.prototype.initValue=function(t,e){t.startsWith("'")||t.startsWith('"')||t.startsWith("“")||t.startsWith("‘")?this._value=t.substr(1,t.length-2):this._value=t,e.isRight=!0},t}();r.VeryString=a;var p=function(){function t(){this._value=BABYLON.Vector3.Zero(),this._value=BABYLON.Vector3.Zero()}return Object.defineProperty(t.prototype,"varType",{get:function(){return"vector3"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){return this._value},t.prototype.setValue=function(t){this._value=t},t.prototype.initValue=function(t,e){"none"===t||"null"===t||(e.isRight=!1,e.message="Type: "+this.varType+"，值："+t+"，该变量值和类型不匹配，转化错误，请检查！")},t}();r.VeryVector3=p,n.VeryVarManager.addVarType("bool",new i),n.VeryVarManager.addVarType("开关",new i),n.VeryVarManager.addVarType("int",new o),n.VeryVarManager.addVarType("float",new s),n.VeryVarManager.addVarType("number",new u),n.VeryVarManager.addVarType("数字",new u),n.VeryVarManager.addVarType("string",new a),n.VeryVarManager.addVarType("字符串",new a),n.VeryVarManager.addVarType("vector3",new p),n.VeryVarManager.addVarType("响应",new p)},{"./veryVarManager":67}],69:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../verytable/index"),i=t("./html/showError");!function(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}(t("./index"));var o=function(){function t(){}return t.prototype.init=function(t,e){var r=new n.VeryTable(t);console.log(r.pos(7,5))},t.prototype.showErrorTest=function(t){i.ShowError.show("大股东萨芬个是电饭锅三分隔收费的发大股东萨芬个是电饭锅三分隔收费的发大股东萨芬个是电饭锅三分隔收费的发大股东萨芬个是电饭锅三分隔收费的发大股东萨芬个是电饭锅三分隔收费的发大股东萨芬个是电饭锅三分隔收费的发，错误位置："+t.pos(7,5)),i.ShowError.showError("大股东萨芬个是电饭锅三分隔收费的发，错误位置："+t.pos(7,5)),i.ShowError.showWarn("大股东萨芬个是电饭锅三分隔收费的发，错误位置："+t.pos(7,5)),i.ShowError.show("大股东萨芬个是电饭锅三分隔收费的发，错误位置："+t.pos(7,5)),i.ShowError.show("大股东萨芬个是电饭锅三分隔收费的发，错误位置："+t.pos(7,5)),document.getElementById("settingsButton").addEventListener("click",i.ShowError.close)},t}();r.VeryEngine=o},{"../verytable/index":70,"./html/showError":36,"./index":37}],70:[function(t,e,r){"use strict";function n(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}Object.defineProperty(r,"__esModule",{value:!0}),n(t("./veryTableRow")),n(t("./veryTable")),n(t("./veryTableSet"))},{"./veryTable":71,"./veryTableRow":72,"./veryTableSet":73}],71:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./veryTableRow"),n=function(){function t(t,e){if(void 0===e&&(e="默认Sheet"),this._id="",this._columnIDs=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],this._rows=[],this._id=e,this._rows=[],t)for(var r=0;r<t.length;r++){var n=new i.VeryTableRow(t[r]);this._rows.push(n)}}return Object.defineProperty(t.prototype,"ID",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RowCount",{get:function(){return this._rows?this._rows.length:0},enumerable:!0,configurable:!0}),t.prototype.getData=function(t,e){return 0<=t&&t<this._rows.length?this._rows[t].getData(e):void 0},t.prototype.getRow=function(t){return 0<=t&&t<this._rows.length?this._rows[t]:void 0},t.prototype.pos=function(t,e){return"表名："+this.ID+"，位置：（"+(t+1)+"，"+this.getColumnID(e)+"）"},t.prototype.getColumnID=function(t){if(0<=t&&t<26)return this._columnIDs[t];if(t<0)return"error";var e=Math.floor(t/26),r=t%26;return 0===e?this._columnIDs[e]:this._columnIDs[e-1]+this._columnIDs[r]},t.prototype.addRow=function(t){this._rows.push(t)},t}();r.VeryTable=n},{"./veryTableRow":72}],72:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t){this._rowData=[],this._rowData=t}return Object.defineProperty(t.prototype,"Count",{get:function(){return this._rowData?this._rowData.length:0},enumerable:!0,configurable:!0}),t.prototype.getData=function(t){return 0<=t&&t<this.Count?this._rowData[t]:void 0},t.prototype.add=function(t){this._rowData.push(t)},t.prototype.insert=function(t,e){this._rowData.push(e);var r=this._rowData.slice(t);r.push(e),this._rowData=r},t.prototype.remove=function(t){this._rowData.splice(t,1)},t.prototype.removeEnd=function(){this._rowData.pop()},t}();r.VeryTableRow=n},{}],73:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t){this._tables=[],t&&(this._tables=t)}return Object.defineProperty(t.prototype,"Count",{get:function(){return this._tables?this._tables.length:0},enumerable:!0,configurable:!0}),t.prototype.getTable=function(t){return 0<=t&&t<this.Count?this._tables[t]:void 0},t.prototype.addTable=function(t){this._tables.push(t)},t.prototype.removeTable=function(t){0<=t&&t<this.Count&&this._tables.splice(t,1)},t}();r.VeryTableSet=n},{}]},{},[2]);
//# sourceMappingURL=veryengine.js.map
