{"version":3,"sources":["node_modules/_browser-pack@6.1.0@browser-pack/_prelude.js","src/game.ts","src/main.ts","src/veryengine/action/actionBehaviour.ts","src/veryengine/action/actions.ts","src/veryengine/action/assignment.ts","src/veryengine/action/assignmentTypeJudge.ts","src/veryengine/action/index.ts","src/veryengine/action/sequenceActions.ts","src/veryengine/dataSource/dataSource.ts","src/veryengine/dataSource/fsmData.ts","src/veryengine/dataSource/index.ts","src/veryengine/dataSource/stateActionData.ts","src/veryengine/dataSource/stateData.ts","src/veryengine/dataSource/stateTriggerData.ts","src/veryengine/dataSource/variableData.ts","src/veryengine/enum/enumTypes.ts","src/veryengine/enum/index.ts","src/veryengine/expression/expChar.ts","src/veryengine/expression/expManager.ts","src/veryengine/expression/expressionEnum.ts","src/veryengine/expression/expressionParsing.ts","src/veryengine/expression/expressions.ts","src/veryengine/expression/forwardQuery.ts","src/veryengine/expression/functionExpression.ts","src/veryengine/expression/functions.ts","src/veryengine/expression/index.ts","src/veryengine/expression/positions.ts","src/veryengine/expression/scope.ts","src/veryengine/expression/token.ts","src/veryengine/expression/tokenReader.ts","src/veryengine/expression/tokenizer.ts","src/veryengine/expression/variable.ts","src/veryengine/expression/variableExpression.ts","src/veryengine/expression/veryExpressions.ts","src/veryengine/global/errorManager.ts","src/veryengine/global/gameGlobal.ts","src/veryengine/global/index.ts","src/veryengine/global/time.ts","src/veryengine/html/index.ts","src/veryengine/html/showError.ts","src/veryengine/index.ts","src/veryengine/library/action/index.ts","src/veryengine/library/action/translate.ts","src/veryengine/library/trigger/index.ts","src/veryengine/library/trigger/input.ts","src/veryengine/loader/createInstance.ts","src/veryengine/loader/index.ts","src/veryengine/loader/loaderManager.ts","src/veryengine/manager/index.ts","src/veryengine/manager/manager.ts","src/veryengine/manager/projects.ts","src/veryengine/manager/reset.ts","src/veryengine/object/index.ts","src/veryengine/object/objects.ts","src/veryengine/object/veryengineObject.ts","src/veryengine/scene/index.ts","src/veryengine/scene/verySceneVariables.ts","src/veryengine/state/associatedState.ts","src/veryengine/state/fsm.ts","src/veryengine/state/index.ts","src/veryengine/state/state.ts","src/veryengine/state/stateAction.ts","src/veryengine/state/stateConst.ts","src/veryengine/template/index.ts","src/veryengine/template/template.ts","src/veryengine/template/templates.ts","src/veryengine/trigger/index.ts","src/veryengine/trigger/triggerBehaviour.ts","src/veryengine/trigger/triggers.ts","src/veryengine/utility/arrayUtility.ts","src/veryengine/utility/dictionary.ts","src/veryengine/utility/errorInfo.ts","src/veryengine/utility/index.ts","src/veryengine/utility/stringFormat.ts","src/veryengine/utility/typeConvert.ts","src/veryengine/variables/babylonVariables.ts","src/veryengine/variables/index.ts","src/veryengine/variables/variables.ts","src/veryengine/variables/veryExpression.ts","src/veryengine/variables/veryVarManager.ts","src/veryengine/variables/veryVariables.ts","src/veryengine/veryEngine.ts","src/verytable/index.ts","src/verytable/veryTable.ts","src/verytable/veryTableRow.ts","src/verytable/veryTableSet.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","veryEngine_1","Game","canvasElement","fps","this","_showFps","_canvas","VeryEngine","Canvas","_fps","_table","document","getElementById","prototype","createScene","_engine","dispose","BABYLON","Engine","engine","window","addEventListener","resize","_scene","Scene","camera","ArcRotateCamera","Vector3","setPosition","attachControl","lowerBetaLimit","upperBetaLimit","Math","PI","lowerRadiusLimit","inputMap","displayLoadingUI","SceneLoader","Append","scene","hideLoadingUI","blue","getMeshByName","actionManager","ActionManager","registerAction","ExecuteCodeAction","OnKeyDownTrigger","evt","sourceEvent","key","type","OnKeyUpTrigger","onBeforeRenderObservable","add","position","z","getDeltaTime","x","sphere","SetValueAction","trigger","OnIntersectionEnterTrigger","parameter","OnIntersectionExitTrigger","entrance","console","log","hot1","countEmptyRows","init","getData","projectName","Time","_sum","animate","_this","runRenderLoop","width","clientWidth","render","updateFpsPos","toggleDebug","scenes","debugLayer","isVisible","hide","show","embedMode","style","right","body","innerHTML","getFps","toFixed","game","game_1","__importDefault","dataLoaded","canvas","fpsLabel","default","initGame","setTimeout","enum_1","VE_ActionBehaviour","_enabled","_projectName","_objectID","_actionID","_erveryFrame","isSequence","_sequenceState","SequenceActionState","Initial","Object","defineProperty","val","ActionType","Normal","setEveryFrame","is_every_frame","setActionID","object_id","action_id","action","action_val","every_frame","active","onUpdate","update","pause","Pause","resume","Running","stop","finish","enabled","html_1","state_1","manager_1","global_1","VE_Actions","addAction","GameGlobal","PlatformLoaded","ids","ID","split","id","trim","toLowerCase","_actionDics","ShowError","showError","hasAction","createAction","create","remove","findAction","very_object","isCreatedAction","getAction","actionArray","StateConst","STATE_SEPARATOR","objects","VE_Manager","objectID","actionID","isCreated","otherObject","getVeryObject","utility_1","assignmentTypeJudge_1","VE_Assignment","state","total_string","_totalStr","_leftType","AssignType","Variable","_rightType","_leftVariable","_leftTemplate","_leftVarID","_rightConstStr","_rightConstValue","_rightVariable","_rightTemplate","_rightVarID","_pos","_state","setPos","pos","setLeftVariable","variable","setLeftTemplate","template","Template","setLeftTemplateVar","var_id","TemplateVariable","setRightVariable","setRightTemplate","setRightNull","setRightTemplateVariable","setRightConst","const_str","Const","setRightConstValue","const_value","assign","rightAssignment","unload","templateInstance","Fsm","fsmID","templateVarID","isCreatedExpression","isCreatedVariable","getVariable","isCreatedFsm","getFsm","fsmVar","setValue","getValue","errorInfo","ErrorInfo","initValue","isRight","exp","getExpression","VE_AssignmentTypeJudge","allowExpression","evaluate","v","allow","first","second","varType","expType","__export","VE_SequenceActions","_activeActionIndex","fsmData_1","VE_DataSource","project_name","name_id","is_template","_templateID","_isTemplate","_fsmIDs","_fsmDic","_fsmPosDic","_triggerIDs","_triggerDic","_triggerPosDic","_actionIDs","_actionDic","_actionInitValue","_actionPosDic","fsm_id","createFsm","push","VE_FsmData","getFsmData","getFsmPos","hasFsmIndex","index","getFsmID","isCreatedTrigger","trigger_id","addTrigger","trigger_data","getTrigger","getTriggerPos","hasTriggerIndex","getTriggerID","getTriggerPara","action_data","action_init_val","getActionPara","getActionPos","getActionInitVal","hasActionIndex","getActionID","clear","data_source","_fsmType","_initialValStr","_states","_dataSource","_fsmID","initFsm","fsm_type","initial_var","addState","state_data","getStateData","VE_StateActionData","sequence","StateActionType","Action","totalString","varID","varValue","everyFrame","setNormalAction","setAssignmentAction","var_value","Assignment","VE_StateData","fsm_data","val_str","is_initial_value","state_index","STATE_INDEX","_stateIndex","logicalExp","rowIndex","_triggers","_triggersPos","_actions","_actionsPos","_associatedStates","_associatedStatesPos","_isSequence","_fsmData","_valStr","_isInitialValue","hasTrigger","hasAssociatedState","addAssociatedState","associated_state_data","getAssociatedState","getAssociatedStatePos","setSequence","VE_StateTriggerData","triggerID","logicalSwitch","VE_VariableData","_variableIDs","_varDics","_varPosDic","addVariable","var_paras","getVariableID","getVariableParas","getPos","AssignmentType","AssociatedFsmType","VariableScope","Severity","ExpChar","value","line","_value","_line","getLine","isDigit","test","isLetter","isWhiteSpace","isNewLine","isEndOfInput","is","_i","arguments","toString","scope_1","positions_1","expressionParsing_1","ExpManager","_scope","Scope","Create","_expVariable","createVariable","errors","ParseError","NameLocation","setVariable","createExpression","exp_str","VE_ExpressionParsing","parsing","find","printError","ExpressionType","tokenizer_1","expressions_1","expressionEnum_1","functionExpression_1","functions_1","variableExpression_1","veryExpressions_1","_bracketPair","input_exp","scope","var_scope","_varScope","_tokenizer","Tokenizer","parse","resultExp","buildExpression","current","isEnd","addError","getSource","consume","getProblemCollector","left","relationalExp","isOperator","reOrder","BinaryOperator","Add","Or","algebraExp","LT","LT_EQ","EQ","GT_EQ","GT","NEQ","productExp","Subtract","exponentExp","Multiply","Divide","Modulo","atomExp","BinaryExpression","Not","result","ConstantExpression","setSeal","next","isIdentifier","isKeyword","isStartBracket","newValue","Empty","isConstant","getContents","varExpression","VE_Expressions","getParseExpression","getTemplateExpression","endBracket","className","expectTrigger","OPERATOR","typeStr","isBool","isNumber","parseFloat","endStart","functionCall","loc","variableID","endsWith","VariableExpression","VeryTemplateExpression","veryObject","fsm","VeryVarExpression","isSpecialIdentifier","op","rightOp","isSealed","getPriority","getPriorityOp","replaceLeft","target","newLeft","getLeftExp","leftOp","setLeftExp","end_bracket","FunctionExpression","funcToken","CustomFunctions","hasFunction","fun","createFunction","setFunction","paraCount","addPara","parameterNumber","matches","getProjectCollector","Local","dictionary_1","template_1","TrueExpression","clone","_expType","isEmpty","left_exp","right_exp","_op","_isSealed","_left","_right","resultAutoType","_opDic","Power","And","_priority","setRightExp","getOp","getRightExp","leftValue","rightValue","subtract","multiplyByFloats","pow","l","getBoolean","y","Vector2","GetValue","Dictionary","_template","VE_Template","setTemplate","varExp","ForwardQuery","itemBuffer","endReached","problemCollector","endOfInputIndicator","undefined","nextOffset","offset","item","fetch","endOfInput","consumeNext","numberOfItems","shift","setProblemCollector","_paras","_function","func","expClone","printStr","Pow","args","NaN","Ln","Infinity","Lg","log10","Sqrt","sqrt","Abs","abs","Random","start","distance","random","Round","round","Sin","sin","ASin","asin","Cos","cos","ACos","acos","Tan","tan","ATan","atan","func_name","_functions","addFunction","funcName","SeverityExp","msg","severity","_message","_severity","Warning","message","getPosition","getMessage","getSeverity","variable_1","_parent","_context","GetRootScope","_root","makeConstant","E","CreateWithParent","parent","name","setType","Token","STRING","_source","_contents","_trigger","CreateAndFill","ch","addToTrigger","addToSource","addToContentChar","addToContent","getTokenType","setTokenType","new_type","setTrigger","setContent","content","setSource","source","EOI","symbols","isEndBracket","isStartSquareBracket","isEndSquareBracket","isStartBrace","isEndBrace","keywords","KEYWORD","values","triggers","SPECIAL_ID","isSpecialIdentifierWithContent","contents","NUMBER","BOOL","isString","forwardQuery_1","expChar_1","TokenReader","_super","_inputExp","_count","_operator","__extends","readChar","token_1","tokenReader_1","_decimalSeparator","_lineComment","_blockCommentStart","_blockCommentEnd","_brackets","_treatSinglePipeAsBracket","_specialIdStarters","_specialIdTerminators","_keywords","_keywordsCaseSensitive","_stringDelimiters","_boolConstant","isAtStartOfLineComment","skipToEndOfLine","isAtStartOfBlockComment","skipBlockComment","isAtStartOfNumber","fetchNumber","isAtStartOfIdentifier","fetchId","fetchString","isAtBracket","isAtStartOfSpecialId","fetchSpecialId","fetchOperator","hasDecimal","isIdentifierChar","indexOf","specialId","handleKeywords","separator","canConsumeThisString","check_string","isAtEndOfBlockComment","in_symbol","id_token","keyword","keywordToken","addWarning","_name","_constant","getName","scene_1","createSceneExpression","expression_str","error_info","sceneExp","errorMessage","createGlobalExpression","globalExp","Global","createLocalExpression","localExp","createFsmExpression","fsmExp","varArray","substring","startsWith","VARIABLE_SYMBOL","getParseGlobal","getParseScene","variables","VerySceneVariables","Variables","errorStr","isCreatedTemplate","getTemplate","VE_Error","table_name","_tableName","warning","error","getTableName","VE_ErrorManager","_errorList","getError","print","prefix","splice","printWarnning","_frame","initZone","errorZone","showMsg","error_msg","errorContentNow","errorContentPrefix","display","closeBtn","querySelector","that","showWarn","close","Action_Translate","apply","_refType","Space","LOCAL","destroy","paraParser","para_array","index_1","trigger_1","Trigger_MouseDown","onPointerObservable","pointInfo","VE_TriggerBehaviour","VE_Triggers","variables_1","expression_1","action_1","typeConvert_1","CreateInstance","createProject","templates","globalVars","varData","count","varPara","VeryVarManager","hasVarType","newVar","addTemplate","addExpression","getObjectID","k","dataSource","fsmCount","fsmData","fsmType","initialValStr","VE_Fsm","addFsm","triggerCount","triggerPara","createTrigger","actionCount","actionPara","stateData","VE_State","isInitialValue","setInitialValue","stateAssignment","logicalAssociated","s","triggerData","triggerPos","findTrigger","addTriggerTarget","addLogicalSwitch","actionData","actionPos","VE_TypeConvert","boolConvert","stateAction","VE_StateAction","setAction","assignmentAction","isCreatedState","stateIndex","ValStr","getState","associatedStateCount","associatedStateInfo","associatedPos","associatedState","VE_AssociatedState","multipleAssociatedState","www","strArray","intConvert","aFsmID","stateArray","q","aObject","aObjectID","aFsm","toState","global_vars","assignStr","valArray","setTemplateInfo","veryVar","setStateVariable","tObject","stateVar","setConstValue","assignment","varParas","VE_StringFormat","isFormulaString","AssignmentFormulaCount","AssignmentPrefix","VeryExpression","rightVar","rightTemplate","leftType","leftVariable","setAssignment","createInstance","object_name","destroy_on_create_new","AnalisysType","object_1","dataSource_1","createInstance_1","LoaderManager","_currentType","_lastFsmID","_activeTemplate","_activeObject","_activeFsmData","_activeStateData","load","table","RowCount","getRow","templateID","replace","isIDLegal","objName","nameArray","activeGameObject","GameObject","tempObject","VeryEngineObject","paraData","paraSegment","paraArray","stateInfo","parseInt","para2Array","tempStr","newActionID","LogCount","equalIndex","projects_1","_projects","VE_Projects","projects","isCreatedObjects","addObjects","VE_Objects","isCreatedTemplates","addTemplates","VE_Templates","isCreatedVariables","addVariables","VE_Variables","globalVarData","isCreatedGlobals","getGlobalVars","getTemplates","getVariables","getObjects","clearProject","_objects","_variables","_templates","sleep","VE_Reset","_objectIDs","_objectDics","unloadObject","ArrayUtility","game_object","gameObject","_expressions","_fsms","exp_id","expression","template_id","isCreatedVar","keys","forEach","_hasLoaded","initIfNeeded","from_state","_types","_indexs","_numberIndex","_templateIDs","_fromState","connect","stateConst_1","fsm_variable","_id","_stateDics","_frameCount","_fsmVar","_veryObject","ContainsKey","removeState","Remove","receiveEvent","frameCount","ASSOCIATED_STATE_PREFIX","stateAction_1","_assignmentType","_isTemplateVar","_varID","_templateVar","_assignmentStr","_logicalExpression","_index","_stateVariable","_stateActions","_assocaitedStates","_sequenceActions","_fsm","setLogicalExpression","logical_exp","assign_str","very_var","state_action","addAssignment","associated_state","getTemplateVar","isNull","Value","Type","Animation","SequenceState","Prepared","_type","_action","_everyFrame","_assignment","_templateVarID","_instanceCount","instanceCount","setInstance","instance_obj","template_var_id","cloneTemplate","_templateDic","_instanceDic","isCreatedInstance","getInstance","destory_on_create_new","_logicalSwitch","_logicalExp","_triggerTargets","_triggerID","set","setTriggerID","sendEvent","isEnabled","eventProcess","_triggerDics","triggerArray","arr","ele","_keys","_values","Count","SetValue","ks","GetKeys","GetValues","_escapeCharacters","_illegalChar","_formulaChar","strEscapeCharacterAction","para_str","tmpStr","getEscapeCharacter","strSubsectionAction","strBuilder","rStr","bracketFlag","hasQuote","para_char","getEscapeCharacter2","is_escape","strSubsection","needSpace","getParaArrayAll","coloneStr","slice","newPara","j","innerBracket","saveBracket","quotationMark","isEscape","needSaveBracket","str","hasBracket","var_str","info","num","isNaN","floatConvert","_transform","Transform","mesh","_transformNode","_mesh","localPosition","Zero","localEulerAngles","eulerAngles","forward","Forward","localScale","_veryVars","_tempalteVars","value_str","newVal","showError_1","veryExpression_1","var_type","_veryVarTypes","addVarType","var_prototype","createVar","getVarType","getSceneVariable","getGlobalVariable","getTemplateVariable","veryVarManager_1","VeryBool","varClone","VeryInt","newFloat","VeryFloat","VeryNumber","VeryString","VeryVector3","rValue","vec3Str","n1","n2","n3","loaderManager_1","data","tableData","VeryTable","showErrorTest","veryTableRow_1","_columnIDs","_rows","newRow","VeryTableRow","row_index","column_index","getColumnID","floor","b","addRow","row_data","_rowData","array","insert","tempData","removeEnd","pop","VeryTableSet","tables","_tables","getTable","addTable","removeTable"],"mappings":"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","file":"veryengine.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/// <reference path=\"./dts/babylon.d.ts\"/>\r\n\r\nimport { VeryEngine, Time } from \"./veryengine/veryEngine\";\r\n\r\nexport default class Game {\r\n\tprivate _canvas: HTMLCanvasElement;\r\n\tprivate _fps: HTMLElement;\r\n\tprivate _table!: HTMLElement;\r\n\tprivate _showFps: boolean = true;\r\n\tprivate _engine!: BABYLON.Engine;\r\n\tprivate _scene!: BABYLON.Scene;\r\n\t// private _camera!: BABYLON.FreeCamera;\r\n\r\n\tconstructor(canvasElement: HTMLCanvasElement, fps: HTMLElement) {\r\n\t\tthis._canvas = canvasElement;\r\n\t\tVeryEngine.Canvas = this._canvas;\r\n\t\tthis._fps = fps;\r\n\t\t// this._engine = new BABYLON.Engine(this._canvas, true);\r\n\t\tthis._table = document.getElementById(\"VeryTable\")!;\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tcreateScene(): Game {\r\n\t\t// engine\r\n\t\tif (this._engine) {\r\n\t\t\tthis._engine.dispose();\r\n\t\t}\r\n\t\tthis._engine = new BABYLON.Engine(this._canvas, true);\r\n\t\tVeryEngine.Engine = this._engine;\r\n\t\t// Resize\r\n\t\tlet engine = this._engine;\r\n\t\twindow.addEventListener(\"resize\", function () {\r\n\t\t\tengine.resize();\r\n\t\t});\r\n\r\n\t\tthis._scene = new BABYLON.Scene(this._engine);\r\n\t\tVeryEngine.Scene = this._scene;\r\n\r\n\t\t// \r\n\t\tvar camera = new BABYLON.ArcRotateCamera(\"MainCamera\", 0, 0, 10, new BABYLON.Vector3(0, 0, 0), this._scene);\r\n\t\tcamera.setPosition(new BABYLON.Vector3(20, 200, 400));\r\n\t\tcamera.attachControl(this._canvas, true);\r\n\t\tcamera.lowerBetaLimit = 0.1;\r\n\t\tcamera.upperBetaLimit = (Math.PI / 2) * 0.99;\r\n\t\tcamera.lowerRadiusLimit = 150;\r\n\r\n\t\tlet inputMap: { [key: string]: boolean } = {};\r\n\r\n\t\t// \r\n\t\tengine.displayLoadingUI();\r\n\r\n\t\t// TODO: scene.babylon\r\n\t\tBABYLON.SceneLoader.Append(\"./scene/\", \"scene.babylon\", this._scene, function (scene) {\r\n\t\t\t// do something with the scene\r\n\t\t\t// \r\n\t\t\tengine.hideLoadingUI();\r\n\r\n\t\t\t// Keyboard events\r\n\t\t\tvar blue = scene.getMeshByName('blue')!;\r\n\r\n\t\t\tscene.actionManager = new BABYLON.ActionManager(scene);\r\n\t\t\tscene.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnKeyDownTrigger, function (evt) {\r\n\t\t\t\tinputMap[evt.sourceEvent.key] = evt.sourceEvent.type == \"keydown\";\r\n\t\t\t}));\r\n\t\t\tscene.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnKeyUpTrigger, function (evt) {\r\n\t\t\t\tinputMap[evt.sourceEvent.key] = evt.sourceEvent.type == \"keydown\";\r\n\t\t\t}));\r\n\r\n\r\n\t\t\t// Game/Render loop\r\n\t\t\tscene.onBeforeRenderObservable.add(() => {\r\n\r\n\t\t\t\tif (inputMap[\"w\"] || inputMap[\"ArrowUp\"]) {\r\n\t\t\t\t\tblue.position.z -= 100*engine.getDeltaTime() / 1000;\r\n\t\t\t\t}\r\n\t\t\t\tif (inputMap[\"a\"] || inputMap[\"ArrowLeft\"]) {\r\n\t\t\t\t\tblue.position.x += 100*engine.getDeltaTime() / 1000;\r\n\t\t\t\t}\r\n\t\t\t\tif (inputMap[\"s\"] || inputMap[\"ArrowDown\"]) {\r\n\t\t\t\t\tblue.position.z += 100*engine.getDeltaTime() / 1000;\r\n\t\t\t\t}\r\n\t\t\t\tif (inputMap[\"d\"] || inputMap[\"ArrowRight\"]) {\r\n\t\t\t\t\tblue.position.x -= 100*engine.getDeltaTime() / 1000;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t// sphere\r\n\t\t\tvar sphere = scene.getMeshByName('sphere')!;\r\n\t\t\tsphere.actionManager = new BABYLON.ActionManager(scene);\r\n\r\n\t\t\tsphere.actionManager.registerAction(new BABYLON.SetValueAction(\r\n\t\t\t\t{ trigger: BABYLON.ActionManager.OnIntersectionEnterTrigger, parameter: blue },\r\n\t\t\t\tsphere, \"scaling\", new BABYLON.Vector3(2, 2, 2)));\r\n\r\n\t\t\t\tsphere.actionManager.registerAction(new BABYLON.SetValueAction(\r\n\t\t\t\t{ trigger: BABYLON.ActionManager.OnIntersectionExitTrigger, parameter: blue }\r\n\t\t\t\t, sphere, \"scaling\", new BABYLON.Vector3(1, 1, 1)));\r\n\r\n\t\t});\r\n\r\n\r\n\t\t// const lightPos = new BABYLON.Vector3(0, 1, 0);\r\n\t\t// new BABYLON.HemisphericLight('hemlight', lightPos, this._scene);\r\n\r\n\t\t// const sphereOpts = { segments: 16, diameter: 1 };\r\n\t\t// let sphere = BABYLON.MeshBuilder.CreateSphere(\r\n\t\t// \t'mainsphere',\r\n\t\t// \tsphereOpts,\r\n\t\t// \tthis._scene\r\n\t\t// );\r\n\t\t// sphere.position.y = 1;\r\n\r\n\t\t// const groundOpts = { width: 6, height: 6, subdivisions: 2 };\r\n\t\t// BABYLON.MeshBuilder.CreateGround('mainground', groundOpts, this._scene);\r\n\r\n\r\n\r\n\t\t// \r\n\t\t// console.log(hot1.getData());\r\n\t\tlet entrance: VeryEngine = new VeryEngine();\r\n\t\tconsole.log(`${hot1.countEmptyRows()}`);\r\n\t\tentrance.init(hot1.getData(), projectName);\r\n\r\n\t\t// \r\n\t\tthis._scene.onBeforeRenderObservable.add(() => {\r\n\t\t\t// \r\n\t\t\tTime._sum();\r\n\t\t})\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tanimate(): Game {\r\n\t\tthis._engine.runRenderLoop(() => {\r\n\t\t\tif (this._canvas.width !== this._canvas.clientWidth) {\r\n\t\t\t\tthis._engine.resize();\r\n\t\t\t}\r\n\r\n\t\t\tif (this._scene) {\r\n\t\t\t\tthis._scene.render();\r\n\t\t\t}\r\n\r\n\t\t\tif (this._showFps) {\r\n\t\t\t\tthis.updateFpsPos();\r\n\t\t\t}\r\n\r\n\r\n\t\t});\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * UI\r\n\t */\r\n\ttoggleDebug(): Game {\r\n\t\tif (this._engine) {\r\n\t\t\t// Always showing the debug layer, because you can close it by itself\r\n\t\t\tvar scene = this._engine.scenes[0];\r\n\t\t\tif (scene.debugLayer.isVisible()) {\r\n\t\t\t\tscene.debugLayer.hide();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// babylon.d.ts\r\n\t\t\t\tscene.debugLayer.show({ embedMode: true });\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * fps\r\n\t */\r\n\tupdateFpsPos(): void {\r\n\t\tif (this._fps) {\r\n\t\t\tthis._fps.style.right = document.body.clientWidth - (this._table.clientWidth + this._canvas.clientWidth) + \"px\";\r\n\r\n\t\t\tthis._fps.innerHTML = this._engine.getFps().toFixed() + \" fps\";\r\n\t\t}\r\n\t}\r\n}\r\n","\r\n\r\nimport Game from \"./game\";\r\n\r\nlet game!: Game;\r\nlet initFlag: boolean = false;\r\n\r\n/**\r\n * \r\n */\r\nfunction initGame(): void {\r\n  let canvas = <HTMLCanvasElement>document.getElementById(\"renderCanvas\");\r\n  let fpsLabel = document.getElementById(\"fpsLabel\");\r\n  if (canvas !== null && fpsLabel !== null) {\r\n    game = new Game(canvas, fpsLabel);\r\n    game.createScene().animate();  // \r\n  }\r\n}\r\n\r\nfunction runBtn(): void {\r\n  if (game) {\r\n    game.createScene().animate();\r\n  }\r\n}\r\n\r\nfunction toggleDebug(): void {\r\n  if (game) {\r\n    game.toggleDebug();\r\n  }\r\n}\r\n\r\nfunction init(): void {\r\n  // \r\n  if(dataLoaded) {\r\n    initGame();\r\n  } else {\r\n    setTimeout(init, 500);\r\n  }\r\n}\r\n\r\n// \r\ndocument.getElementById(\"runButton\")!.addEventListener(\"click\", runBtn);\r\n\r\n// \r\ndocument.getElementById(\"debugButton\")!.addEventListener(\"click\", toggleDebug);\r\n\r\n// \r\n// \r\ninit();\r\n// loadData2()\r\n//   .then(function (hot: HandTable) {\r\n//     console.log(hot.getData());\r\n//   }\r\n//   );\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { ActionType, SequenceActionState } from \"../enum\";\r\nimport { VeryEngine } from \"../veryEngine\";\r\n\r\nexport abstract class VE_ActionBehaviour {\r\n\r\n  public abstract get ID(): string;\r\n\r\n  public get scene(): BABYLON.Scene {\r\n    return VeryEngine.Scene;\r\n  }\r\n\r\n  public get enabled(): boolean {\r\n    return this._enabled;\r\n  }\r\n  public set enabled(val: boolean) {\r\n    this._enabled = val;\r\n  }\r\n  private _enabled: boolean = true;\r\n\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  };\r\n  private _projectName: string = '';\r\n\r\n  // protected GameObject ObjectInstance = null;\r\n  // protected veryObject: VeryObject = null;\r\n\r\n  public get objectID(): string {\r\n    return this._objectID;\r\n  };\r\n  private _objectID: string = '';\r\n\r\n  public get actionID(): string {\r\n    return this._actionID;\r\n  }\r\n  private _actionID: string = '';\r\n\r\n  public get Type(): ActionType {\r\n    return ActionType.Normal;\r\n  }\r\n\r\n  private _erveryFrame: boolean = false;\r\n  public get everyFrame(): boolean {\r\n    return this._erveryFrame;\r\n  }\r\n\r\n\r\n  public isSequence: boolean = false;\r\n\r\n  public get SequenceState(): SequenceActionState {\r\n    return this._sequenceState;\r\n  }\r\n  public set SequenceState(val: SequenceActionState) {\r\n    this._sequenceState = val;\r\n  }\r\n  private _sequenceState: SequenceActionState = SequenceActionState.Initial;\r\n\r\n  // private VE_SequenceActions _sequenceAction = null;\r\n\r\n\r\n  public setEveryFrame(is_every_frame: boolean): void {\r\n    this._erveryFrame = is_every_frame;\r\n  }\r\n\r\n  public setActionID(object_id: string, action_id: string): void {\r\n    this._objectID = object_id;\r\n    this._actionID = action_id;\r\n  }\r\n\r\n  // SetVeryObject(): void {}\r\n\r\n  public abstract paraParser(para_array: string[]): boolean;\r\n\r\n  public action(action_val: boolean, every_frame: boolean): void {\r\n    this._enabled = action_val;\r\n    this._erveryFrame = every_frame;\r\n    if (this._enabled) {\r\n      this.active()\r\n      if (!this._erveryFrame) {\r\n        this.onUpdate();\r\n      }\r\n    }\r\n  }\r\n\r\n  public abstract active(): void;\r\n\r\n\r\n  public update(): void {\r\n    if (this._enabled && this._erveryFrame) {\r\n      this.onUpdate();\r\n    }\r\n  }\r\n\r\n  public onUpdate(): void {\r\n\r\n  }\r\n\r\n  public pause(): void {\r\n    this._sequenceState = SequenceActionState.Pause;\r\n  }\r\n\r\n  public resume(): void {\r\n    this._sequenceState = SequenceActionState.Running;\r\n  }\r\n\r\n  public stop(): void {\r\n    this._sequenceState = SequenceActionState.Initial;\r\n  }\r\n\r\n  public finish(): void {\r\n    this._sequenceState = SequenceActionState.Initial;\r\n\r\n    this.enabled = false;\r\n  }\r\n\r\n  // add callbackdestroy\r\n  public abstract destroy(): void;\r\n\r\n\r\n}","import { VE_ActionBehaviour } from \"./actionBehaviour\";\r\nimport { ShowError } from \"../html\";\r\nimport { VeryEngineObject, VE_Objects } from \"../object\";\r\nimport { StateConst } from \"../state\";\r\nimport { VE_Manager } from \"../manager\";\r\nimport { GameGlobal } from \"../global\";\r\n\r\nexport class VE_Actions {\r\n\r\n  private static _actionDics: { [key: string]: VE_ActionBehaviour } = {};\r\n\r\n  public static addAction(action: VE_ActionBehaviour): void {\r\n    // \r\n    if (!GameGlobal.PlatformLoaded) {\r\n      let ids: string[] = action.ID.split('|');\r\n      for (let i: number = 0; i < ids.length; i++) {\r\n        let id: string = ids[i].trim().toLowerCase();\r\n        if (this._actionDics[id]) {\r\n          ShowError.showError(`IDID${id}ID`);\r\n        } else {\r\n          this._actionDics[id] = action;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static hasAction(action_id: string): boolean {\r\n    action_id = action_id.toLowerCase();\r\n    if (this._actionDics[action_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static createAction(action_id: string): VE_ActionBehaviour {\r\n    action_id = action_id.toLowerCase();\r\n    return Object.create(this._actionDics[action_id]);\r\n  }\r\n\r\n  public static remove(action_id: string): void {\r\n    action_id = action_id.toLowerCase();\r\n    delete this._actionDics[action_id];\r\n  }\r\n\r\n  public static findAction(very_object: VeryEngineObject, action_id: string): Nullable<VE_ActionBehaviour> {\r\n    if (very_object.isCreatedAction(action_id)) {\r\n      return very_object.getAction(action_id);\r\n    }\r\n    else {\r\n      let actionArray: string[] = action_id.split(StateConst.STATE_SEPARATOR);\r\n      if (actionArray.length === 2) {\r\n        let objects: VE_Objects = VE_Manager.objects(very_object.projectName);\r\n        let objectID: string = actionArray[0].trim();\r\n        let actionID: string = actionArray[1].trim();\r\n        if (objects.isCreated(objectID)) {\r\n          let otherObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n          if (otherObject.isCreatedAction(actionID)) {\r\n            return otherObject.getAction(actionID);\r\n          }\r\n          else {\r\n            return null;\r\n          }\r\n        }\r\n        else {\r\n          return null;\r\n        }\r\n      }\r\n      else {\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public static dispose(): void {\r\n    VE_Actions._actionDics = {};\r\n  }\r\n}","import { VE_State } from \"../state\";\r\nimport { AssignType } from \"../enum\";\r\nimport { IVeryVar } from \"../variables\";\r\nimport { VE_Template } from \"../template\";\r\nimport { ShowError } from \"../html\";\r\nimport { ErrorInfo } from \"../utility\";\r\nimport { IExpression } from \"../expression\";\r\nimport { VE_AssignmentTypeJudge } from \"./assignmentTypeJudge\";\r\n\r\nexport class VE_Assignment {\r\n\r\n  public get state(): VE_State {\r\n    return this._state;\r\n  }\r\n  private _state: VE_State;\r\n\r\n  private _totalStr: string = '';\r\n\r\n  public get leftType(): AssignType {\r\n    return this._leftType;\r\n  }\r\n  private _leftType: AssignType = AssignType.Variable;\r\n\r\n  public get rightType(): AssignType {\r\n    return this._rightType;\r\n  }\r\n  private _rightType: AssignType = AssignType.Variable;\r\n\r\n  public get leftVariable(): Nullable<IVeryVar> {\r\n    return this._leftVariable;\r\n  }\r\n  private _leftVariable: Nullable<IVeryVar> = null;\r\n  private _leftTemplate: Nullable<VE_Template> = null;\r\n  private _leftVarID: string = '';\r\n\r\n  private _rightConstStr: string = '';\r\n  private _rightConstValue: any = null;\r\n  public get rightVariable(): Nullable<IVeryVar> {\r\n    return this._leftVariable;\r\n  }\r\n  private _rightVariable: Nullable<IVeryVar> = null;\r\n  private _rightTemplate: Nullable<VE_Template> = null;\r\n  private _rightVarID: string = '';\r\n\r\n  private _pos: string = '';\r\n\r\n  constructor(state: VE_State, total_string: string) {\r\n    this._state = state;\r\n    this._totalStr = total_string;\r\n  }\r\n\r\n  public setPos(pos: string): void {\r\n    this._pos = pos;\r\n  }\r\n\r\n  public setLeftVariable(variable: IVeryVar): void {\r\n    this._leftType = AssignType.Variable;\r\n    this._leftVariable = variable;\r\n  }\r\n\r\n  public setLeftTemplate(template: VE_Template): void {\r\n    this._leftType = AssignType.Template;\r\n    this._leftTemplate = template;\r\n  }\r\n\r\n  public setLeftTemplateVar(template: VE_Template, var_id: string): void {\r\n    this._leftType = AssignType.TemplateVariable;\r\n    this._leftTemplate = template;\r\n    this._leftVarID = var_id;\r\n  }\r\n\r\n  public setRightVariable(variable: IVeryVar): void {\r\n    this._rightType = AssignType.Variable;\r\n    this._rightVariable = variable;\r\n  }\r\n\r\n  public setRightTemplate(template: VE_Template): void {\r\n    this._rightType = AssignType.Template;\r\n    this._rightTemplate = template;\r\n  }\r\n\r\n  public setRightNull(): void {\r\n    this._rightType = AssignType.Template;\r\n    this._rightTemplate = null;\r\n  }\r\n\r\n  public setRightTemplateVariable(template: VE_Template, var_id: string): void {\r\n    this._rightType = AssignType.TemplateVariable;\r\n    this._rightTemplate = template;\r\n    this._rightVarID = var_id;\r\n  }\r\n\r\n  public setRightConst(const_str: string): void {\r\n    this._rightType = AssignType.Const;\r\n    this._rightConstStr = const_str;\r\n  }\r\n\r\n  public setRightConstValue(const_value: any) {\r\n    this._rightType = AssignType.Const;\r\n    this._rightConstValue = const_value;\r\n  }\r\n\r\n  public finish(): void {\r\n\r\n  }\r\n\r\n  public assign(): void {\r\n    // \r\n    if (this._leftType === AssignType.Variable) {\r\n      this.rightAssignment();\r\n    }\r\n    // \r\n    else if (this._leftType === AssignType.Template) {\r\n      if (this._rightTemplate == null) {\r\n        if (this._leftTemplate !== null) {\r\n          this._leftTemplate.unload();\r\n        }\r\n      }\r\n      else {\r\n        this._leftTemplate = this._rightTemplate;\r\n      }\r\n    }\r\n    // .\r\n    else {\r\n      if (this._leftTemplate!.templateInstance !== null) {\r\n        if (this._leftTemplate!.templateInstance.isCreatedExpression(this._leftVarID)) {\r\n          ShowError.showError('' + this._pos + \"\" + this.state.Fsm.projectName + \"\" + this.state.Fsm.objectID + \"\" + this.state.Fsm.fsmID + \"\" + this._totalStr + \"\" + this._rightTemplate!.templateVarID);\r\n          return;\r\n        }\r\n        else if (this._leftTemplate!.templateInstance.isCreatedVariable(this._leftVarID)) {\r\n          this._leftVariable = this._leftTemplate!.templateInstance.getVariable(this._leftVarID);\r\n          this.rightAssignment();\r\n        }\r\n        else if (this._leftTemplate!.templateInstance.isCreatedFsm(this._leftVarID)) {\r\n          this._leftVariable = this._leftTemplate!.templateInstance.getFsm(this._leftVarID).fsmVar;\r\n          this.rightAssignment();\r\n        }\r\n        else {\r\n          ShowError.showError('' + this._pos + \"\" + this.state.Fsm.projectName + \"\" + this.state.Fsm.objectID + \"\" + this.state.Fsm.fsmID + \"\" + this._totalStr + \"\" + this._rightTemplate!.templateVarID);\r\n          return;\r\n        }\r\n      }\r\n      else {\r\n        ShowError.showError('' + this._pos + \"\" + this.state.Fsm.projectName + \"\" + this.state.Fsm.objectID + \"\" + this.state.Fsm.fsmID + \"\" + this._totalStr + \"\" + this._leftTemplate!.templateVarID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  private rightAssignment(): void {\r\n    // \r\n    if (this._rightType === AssignType.Variable) {\r\n      this._leftVariable!.setValue(this._rightVariable!.getValue());\r\n    }\r\n    // \r\n    else if (this._rightType === AssignType.Const) {\r\n      if (this._rightConstValue === null) {\r\n        let errorInfo: ErrorInfo = new ErrorInfo();\r\n        this._rightConstValue = this._leftVariable!.initValue(this._rightConstStr, errorInfo);\r\n        if (!errorInfo.isRight) {\r\n          ShowError.showError('' + this._pos + \"\" + this.state.Fsm.projectName + \"\" + this.state.Fsm.objectID + \"\" + this.state.Fsm.fsmID + \"\" + this._totalStr + \"\" + this._rightConstStr);\r\n          return;\r\n        }\r\n        else {\r\n          //UnityEngine.Debug.Log(\"1 - \" + _totalStr + \"\" + this._rightConstValue);\r\n          this._leftVariable!.setValue(this._rightConstValue);\r\n        }\r\n      }\r\n      else {\r\n        //UnityEngine.Debug.Log(\"2 - \" + _totalStr + \"\" + this._rightConstValue);\r\n        this._leftVariable!.setValue(this._rightConstValue);\r\n      }\r\n    }\r\n    else  //.\r\n    {\r\n      if (this._rightTemplate!.templateInstance != null) {\r\n        if (this._rightTemplate!.templateInstance.isCreatedExpression(this._rightVarID)) {\r\n          let exp: IExpression = this._rightTemplate!.templateInstance.getExpression(this._rightVarID);\r\n          if (VE_AssignmentTypeJudge.allowExpression(this._leftVariable!, exp)) {\r\n            this._leftVariable!.setValue(exp.evaluate());\r\n          }\r\n          else {\r\n            ShowError.showError('' + this._pos + \"\" + this.state.Fsm.projectName + \"\" + this.state.Fsm.objectID + \"\" + this.state.Fsm.fsmID + \"\" + this._totalStr + \"\" + this._rightTemplate!.templateVarID);\r\n            return;\r\n          }\r\n        }\r\n        else if (this._rightTemplate!.templateInstance.isCreatedVariable(this._rightVarID)) {\r\n          let v: IVeryVar = this._rightTemplate!.templateInstance.getVariable(this._rightVarID);\r\n          if (VE_AssignmentTypeJudge.allow(this._leftVariable!, v)) {\r\n            this._leftVariable!.setValue(v.getValue());\r\n          }\r\n          else {\r\n            ShowError.showError('' + this._pos + \"\" + this.state.Fsm.projectName + \"\" + this.state.Fsm.objectID + \"\" + this.state.Fsm.fsmID + \"\" + this._totalStr + \"\" + this._rightTemplate!.templateVarID);\r\n            return;\r\n          }\r\n        }\r\n        else if (this._rightTemplate!.templateInstance.isCreatedFsm(this._rightVarID)) {\r\n          let v: IVeryVar = this._rightTemplate!.templateInstance.getFsm(this._rightVarID).fsmVar;\r\n          if (VE_AssignmentTypeJudge.allow(this._leftVariable!, v)) {\r\n            this._leftVariable!.setValue(v.getValue());\r\n          }\r\n          else {\r\n            ShowError.showError('' + this._pos + \"\" + this.state.Fsm.projectName + \"\" + this.state.Fsm.objectID + \"\" + this.state.Fsm.fsmID + \"\" + this._totalStr + \"\" + this._rightTemplate!.templateVarID);\r\n            return;\r\n          }\r\n        }\r\n        else {\r\n          ShowError.showError('' + this._pos + \"\" + this.state.Fsm.projectName + \"\" + this.state.Fsm.objectID + \"\" + this.state.Fsm.fsmID + \"\" + this._totalStr + \"\" + this._rightTemplate!.templateVarID);\r\n          return;\r\n        }\r\n      }\r\n      else {\r\n        ShowError.showError('' + this._pos + \"\" + this.state.Fsm.projectName + \"\" + this.state.Fsm.objectID + \"\" + this.state.Fsm.fsmID + \"\" + this._totalStr + \"\" + this._rightTemplate!.templateVarID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n}","import { IVeryVar } from \"../variables\";\r\nimport { IExpression } from \"../expression\";\r\n\r\nexport class VE_AssignmentTypeJudge {\r\n\r\n  public static allow(first: IVeryVar, second: IVeryVar): boolean {\r\n    if (first.varType === second.varType) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static allowExpression(first: IVeryVar, second: IExpression): boolean {\r\n    if (first.varType === second.expType) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n}","export * from './actionBehaviour';\r\nexport * from './assignment';\r\nexport * from './actions';\r\nexport * from './sequenceActions';","import { SequenceActionState } from \"../enum\";\r\n\r\nexport class VE_SequenceActions {\r\n\r\n  public get sequenceState(): SequenceActionState {\r\n    return this._sequenceState;\r\n  }\r\n  private _sequenceState: SequenceActionState = SequenceActionState.Initial;\r\n\r\n  private _activeActionIndex: number = -1;\r\n\r\n\r\n\r\n  \r\n  \r\n}","import { VE_FsmData } from \"./fsmData\";\r\n\r\nexport class VE_DataSource {\r\n\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = '';\r\n\r\n  public get objectID(): string {\r\n    return this._objectID;\r\n  }\r\n  private _objectID: string = '';\r\n\r\n  public get templateID(): string {\r\n    return this._templateID;\r\n  }\r\n  private _templateID: string = '';\r\n\r\n  public get isTemplate(): boolean {\r\n    return this._isTemplate;\r\n  }\r\n  private _isTemplate: boolean = false;\r\n\r\n  public get id(): string {\r\n    if (this._isTemplate) {\r\n      return this._templateID;\r\n    } else {\r\n      return this._objectID;\r\n    }\r\n  }\r\n\r\n  private _fsmIDs: string[] = [];\r\n  private _fsmDic: { [key: string]: VE_FsmData } = {};\r\n  private _fsmPosDic: { [key: string]: string } = {};\r\n\r\n  private _triggerIDs: string[] = [];\r\n  private _triggerDic: { [key: string]: string[] } = {};\r\n  private _triggerPosDic: { [key: string]: string } = {};\r\n\r\n  private _actionIDs: string[] = [];\r\n  private _actionDic: { [key: string]: string[] } = {};\r\n  private _actionInitValue: { [key: string]: string[] } = {};\r\n  private _actionPosDic: { [key: string]: string } = {};\r\n\r\n  public get triggerCount(): number {\r\n    return this._triggerIDs.length;\r\n  }\r\n\r\n  public get actionCount(): number {\r\n    return this._actionIDs.length;\r\n  }\r\n\r\n  public get fsmCount(): number {\r\n    return this._fsmIDs.length;\r\n  }\r\n\r\n\r\n  constructor(project_name: string, name_id: string, is_template: boolean) {\r\n    this._projectName = project_name;\r\n    this._isTemplate = is_template;\r\n    if(is_template) {\r\n      this._templateID = name_id;\r\n    } else {\r\n      this._objectID = name_id;\r\n    }\r\n  }\r\n\r\n  public isCreatedFsm(fsm_id: string): boolean {\r\n    if(this._fsmDic[fsm_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public createFsm(fsm_id: string, pos: string): void {\r\n    this._fsmIDs.push(fsm_id);\r\n    this._fsmDic[fsm_id] = new VE_FsmData(fsm_id, this);\r\n    this._fsmPosDic[fsm_id] = pos;\r\n  }\r\n\r\n  public getFsmData(fsm_id: string): VE_FsmData {\r\n    return this._fsmDic[fsm_id];\r\n  }\r\n\r\n  public getFsmPos(fsm_id: string): string {\r\n    return this._fsmPosDic[fsm_id];\r\n  }\r\n\r\n  public hasFsmIndex(index: number): boolean {\r\n    if(index >= 0 && index < this._fsmIDs.length) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getFsmID(index: number): string {\r\n    return this._fsmIDs[index];\r\n  }\r\n\r\n  public isCreatedTrigger(trigger_id: string): boolean {\r\n    if(this._triggerDic[trigger_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addTrigger(trigger_id: string, trigger_data: string[], pos: string): void {\r\n    this._triggerIDs.push(trigger_id);\r\n    this._triggerDic[trigger_id] = trigger_data;\r\n    this._triggerPosDic[trigger_id] = pos;\r\n  }\r\n\r\n  public getTrigger(trigger_id: string): string[] {\r\n    return this._triggerDic[trigger_id];\r\n  }\r\n\r\n  public getTriggerPos(trigger_id: string): string {\r\n    return this._triggerPosDic[trigger_id];\r\n  }\r\n\r\n  public hasTriggerIndex(index: number): boolean {\r\n    if(index >=0 && index < this._triggerIDs.length) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getTriggerID(index: number): string {\r\n    return this._triggerIDs[index];\r\n  }\r\n\r\n  public getTriggerPara(trigger_id: string): string[] {\r\n    return this._triggerDic[trigger_id];\r\n  }\r\n\r\n  public isCreatedAction(action_id: string): boolean {\r\n    if(this._actionDic[action_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addAction(action_id: string, action_data: string[], action_init_val: string[], pos: string): void {\r\n    this._actionIDs.push(action_id);\r\n    this._actionDic[action_id] = action_data;\r\n    this._actionInitValue[action_id] = action_init_val;\r\n    this._actionPosDic[action_id] = pos;\r\n  }\r\n\r\n  public getActionPara(action_id: string): string[] {\r\n    return this._actionDic[action_id];\r\n  }\r\n\r\n  public getActionPos(action_id: string): string {\r\n    return this._actionPosDic[action_id];\r\n  }\r\n\r\n  public getActionInitVal(action_id: string): string[] {\r\n    return this._actionInitValue[action_id];\r\n  }\r\n\r\n  public hasActionIndex(index: number): boolean {\r\n    if(index >= 0 && index < this._actionIDs.length) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getActionID(index: number): string {\r\n    return this._actionIDs[index];\r\n  }\r\n\r\n  public clear(): void {\r\n    this._fsmIDs = [];\r\n    this._fsmDic = {};\r\n    this._triggerIDs = [];\r\n    this._triggerDic = {};\r\n    this._actionIDs = [];\r\n    this._actionDic = {};\r\n    this._actionInitValue = {};\r\n  }\r\n\r\n\r\n\r\n}","import { VE_DataSource, VE_StateData } from \"./index\";\r\n\r\nexport class VE_FsmData {\r\n  public get dataSource(): VE_DataSource {\r\n    return this._dataSource;\r\n  }\r\n  private _dataSource: VE_DataSource;\r\n\r\n  public get fsmID(): string {\r\n    return this._fsmID;\r\n  }\r\n  private _fsmID: string;\r\n\r\n  public get fsmType(): string {\r\n    return this._fsmType;\r\n  }\r\n  private _fsmType: string = '';\r\n\r\n  public get initialValStr(): string {\r\n    return this._initialValStr;\r\n  }\r\n  private _initialValStr: string = 'defalut';\r\n\r\n  private _states: VE_StateData[] = [];\r\n\r\n  public get count(): number {\r\n    return this._states.length;\r\n  }\r\n\r\n  constructor(fsm_id: string, data_source: VE_DataSource) {\r\n    this._dataSource = data_source;\r\n    this._fsmID = fsm_id;\r\n  }\r\n\r\n  public initFsm(fsm_type: string, initial_var: string): void {\r\n    this._fsmType = fsm_type;\r\n    this._initialValStr = initial_var;\r\n  }\r\n\r\n  public addState(state_data: VE_StateData): void {\r\n    this._states.push(state_data);\r\n  }\r\n\r\n  public getStateData(index: number): VE_StateData {\r\n    return this._states[index];\r\n  }\r\n\r\n}","export * from './variableData';\r\nexport * from './fsmData';\r\nexport * from './stateActionData';\r\nexport * from './stateTriggerData';\r\nexport * from './stateData';\r\nexport * from './dataSource';\r\n\r\n","import { StateActionType } from \"../enum\";\r\n\r\nexport class VE_StateActionData {\r\n\r\n  public actionID: string;\r\n  public enabled: string;\r\n  public everyFrame: string;\r\n  public isSequence: string;\r\n  public type: StateActionType;\r\n  public totalString: string = '';\r\n  public varID: string = '';\r\n  public varValue: string = '';\r\n\r\n  constructor(action_id: string, enabled: string = 'false', every_frame: string = 'false', sequence: string = 'false', type: StateActionType = StateActionType.Action) {\r\n    this.actionID = action_id;\r\n    this.enabled = enabled;\r\n    this.everyFrame = every_frame;\r\n    this.isSequence = sequence;\r\n    this.type = type;\r\n  }\r\n\r\n  public setNormalAction(action_id: string, enabled: string = 'false', every_frame: string = 'false', sequence: string = 'false'): void {\r\n    this.actionID = action_id;\r\n    this.enabled = enabled;\r\n    this.everyFrame = every_frame;\r\n    this.isSequence = sequence;\r\n    this.type = StateActionType.Action;\r\n  }\r\n\r\n  public setAssignmentAction(total_string: string, var_id: string, var_value: string): void {\r\n    this.totalString = total_string;\r\n    this.varID = var_id;\r\n    this.varValue = var_value;\r\n    this.type = StateActionType.Assignment;\r\n  }\r\n\r\n}","import { VE_FsmData } from \"./index\";\r\nimport { StateConst } from \"../state\";\r\nimport { VE_StateTriggerData } from \"./stateTriggerData\";\r\nimport { VE_StateActionData } from \"./stateActionData\";\r\n\r\nexport class VE_StateData {\r\n\r\n  public get fsmData(): VE_FsmData {\r\n    return this._fsmData;\r\n  }\r\n  private _fsmData: VE_FsmData;\r\n\r\n  public get ValStr(): string {\r\n    return this._valStr;\r\n  }\r\n  private _valStr: string;\r\n\r\n  public get isInitialValue(): boolean {\r\n    return this._isInitialValue;\r\n  }\r\n  private _isInitialValue: boolean;\r\n\r\n  public get stateIndex(): number {\r\n    return this._stateIndex;\r\n  }\r\n  private _stateIndex: number = StateConst.STATE_INDEX;\r\n\r\n  public logicalExp: string = '';\r\n\r\n  public rowIndex: number = -1;\r\n\r\n  private _triggers: VE_StateTriggerData[] = [];\r\n  private _triggersPos: string[] = [];\r\n  private _actions: VE_StateActionData[] = [];\r\n  private _actionsPos: string[] = [];\r\n  private _associatedStates: string[] = [];\r\n  private _associatedStatesPos: string[] = [];\r\n\r\n  public get isSequence(): boolean {\r\n    return this._isSequence;\r\n  }\r\n  private _isSequence: boolean = false;\r\n\r\n  public get triggerCount(): number {\r\n    return this._triggers.length;\r\n  }\r\n\r\n  public get actionCount(): number {\r\n    return this._actions.length;\r\n  }\r\n\r\n  public get associatedStateCount(): number {\r\n    return this._associatedStates.length;\r\n  }\r\n\r\n  constructor(fsm_data: VE_FsmData, val_str: string, is_initial_value: boolean, state_index: number = StateConst.STATE_INDEX) {\r\n    this._fsmData = fsm_data;\r\n    this._valStr = val_str;\r\n    this._isInitialValue = is_initial_value;\r\n    this._stateIndex = state_index;\r\n  }\r\n\r\n  public hasTrigger(index: number): boolean {\r\n    if(index >= 0 && index < this._triggers.length) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addTrigger(trigger_data: VE_StateTriggerData, pos: string): void {\r\n    this._triggers.push(trigger_data);\r\n    this._triggersPos.push(pos);\r\n  }\r\n\r\n  public getTrigger(index: number): VE_StateTriggerData {\r\n    return this._triggers[index];\r\n  }\r\n\r\n  public getTriggerPos(index: number): string {\r\n    return this._triggersPos[index];\r\n  }\r\n\r\n  public hasAction(index: number): boolean {\r\n    if(index >= 0 && index < this._actions.length) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addAction(action_data: VE_StateActionData, pos: string): void {\r\n    this._actions.push(action_data);\r\n    this._actionsPos.push(pos);\r\n  }\r\n\r\n  public getAction(index: number): VE_StateActionData {\r\n    return this._actions[index];\r\n  }\r\n\r\n  public getActionPos(index: number): string {\r\n    return this._actionsPos[index];\r\n  }\r\n\r\n  public hasAssociatedState(index: number): boolean {\r\n    if(index >= 0 && index < this._associatedStates.length) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addAssociatedState(associated_state_data: string, pos: string): void {\r\n    this._associatedStates.push(associated_state_data);\r\n    this._associatedStatesPos.push(pos);\r\n  }\r\n\r\n  public getAssociatedState(index: number): string {\r\n    return this._associatedStates[index];\r\n  }\r\n\r\n  public getAssociatedStatePos(index: number): string {\r\n    return this._associatedStatesPos[index];\r\n  }\r\n\r\n  public setSequence(): void {\r\n    this._isSequence = true;\r\n  }\r\n\r\n}","export class VE_StateTriggerData {\r\n\r\n  public triggerID: string;\r\n  public logicalSwitch: string;\r\n  public logicalExp: string;\r\n\r\n  public static get Empty(): VE_StateTriggerData {\r\n    return new VE_StateTriggerData('');\r\n  }\r\n\r\n  constructor(trigger_id: string) {\r\n    this.triggerID = trigger_id;\r\n    this.logicalSwitch = '';\r\n    this.logicalExp = '';\r\n   }\r\n}","export class VE_VariableData {\r\n\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = '';\r\n\r\n  private _variableIDs: string[] = [];\r\n  private _varDics: { [key: string]: string[] } = {};\r\n  private _varPosDic: { [key: string]: string } = {};\r\n\r\n  public get count(): number {\r\n    return this._variableIDs.length;\r\n  }\r\n\r\n  constructor(project_name: string) {\r\n    this._projectName = project_name;\r\n  }\r\n\r\n  public isCreatedVariable(var_id: string): boolean {\r\n    if (this._varDics[var_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addVariable(var_id: string, var_paras: string[], pos: string): void {\r\n    this._varDics[var_id] = var_paras;\r\n    this._variableIDs.push(var_id);\r\n    this._varPosDic[var_id] = pos;\r\n  }\r\n\r\n  public getVariableID(index: number): string {\r\n    if (index >= 0 && index < this._variableIDs.length) {\r\n      return this._variableIDs[index];\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  public getVariableParas(var_id: string): string[] {\r\n    return this._varDics[var_id];\r\n  }\r\n\r\n  public getPos(var_id: string): string {\r\n    return this._varPosDic[var_id];\r\n  }\r\n\r\n  public clear(): void {\r\n    this._variableIDs = [];\r\n    this._varDics = {};\r\n  }\r\n}","\r\n\r\n\r\nexport enum ActionType {\r\n  Normal, Animation\r\n}\r\n\r\nexport enum SequenceActionState {\r\n  Initial, Prepared, Running, Pause\r\n}\r\n\r\nexport enum StateActionType {\r\n  Action, Assignment\r\n}\r\n\r\nexport enum AssignType {\r\n  Variable = 0,\r\n  Template,\r\n  TemplateVariable,\r\n  Const,\r\n}\r\n\r\nexport enum AssignmentType {\r\n  Const = 0,\r\n  Variable,\r\n  Expression\r\n}\r\n\r\nexport enum AssociatedFsmType {\r\n  Object = 0,\r\n  Template\r\n}\r\n\r\nexport enum VariableScope {\r\n  Local = 0,\r\n  Fsm,\r\n  Global,\r\n  Scene\r\n}\r\n\r\nexport enum Severity {\r\n  Warning,\r\n  Error\r\n}\r\n\r\n","export * from './enumTypes';","import { IPosition } from \"./positions\";\r\n\r\nexport class ExpChar implements IPosition {\r\n\r\n  private _value: string = '';\r\n  private _line: number = 0;\r\n  private _pos: number = 0;\r\n\r\n\r\n  constructor(value: string, line: number, pos: number) {\r\n    this._value = value;\r\n    this._line = line;\r\n    this._pos = pos;\r\n  }\r\n\r\n  public getValue(): string {\r\n    return this._value;\r\n  }\r\n\r\n  public getLine(): number {\r\n    return this._line;\r\n  }  \r\n  \r\n  public getPos(): number {\r\n    \r\n    return this._pos;\r\n  }\r\n\r\n  public isDigit(): boolean {\r\n    return (/\\d/).test(this._value);\r\n  }\r\n\r\n  public isLetter(): boolean {\r\n    return (/[a-zA-Z]/).test(this._value);\r\n  }\r\n\r\n  public isWhiteSpace(): boolean {\r\n    return this._value === ' ';\r\n  }\r\n\r\n  public isNewLine(): boolean {\r\n    return this._value === '\\n';\r\n  }\r\n\r\n  public isEndOfInput(): boolean {\r\n    return this._value === '\\0';\r\n  }\r\n\r\n  public is(...val: string[]): boolean {\r\n    for(let i: number = 0; i < val.length; i++) {\r\n      if(val[i] === this._value && val[i] !== '\\0') {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public toString(): string {\r\n    return this._value;\r\n  }\r\n\r\n}\r\n\r\n","import { Scope } from \"./scope\";\r\nimport { IExpression } from \"./expressions\";\r\nimport { ParseError, NameLocation } from \"./positions\";\r\nimport { VE_ExpressionParsing } from \"./expressionParsing\";\r\nimport { VariableScope } from \"../enum\";\r\nimport { Variable } from \"./variable\";\r\nimport { ShowError } from \"../html\";\r\n\r\nexport class ExpManager {\r\n\r\n  private static _scope: Scope;\r\n  private static _expVariable: { [key: string]: IExpression } = {};\r\n\r\n  public static errors: ParseError[] = [];\r\n\r\n  private static _projectName = '';\r\n  private static _objectID = '';\r\n\r\n  public static init() {\r\n    this._scope = Scope.Create();\r\n  }\r\n\r\n  public static isCreated(name_id: string): boolean {\r\n    if (this._scope.isCreated(name_id)) {\r\n      return true;\r\n    }\r\n    if (this._expVariable[name_id]) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public static isCreatedVariable(name_id: string): boolean {\r\n    if (this._scope.isCreated(name_id)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static isCreatedExpression(name_id: string): boolean {\r\n    if (this._expVariable[name_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static createVariable(name_id: string, type: string, value: any): boolean {\r\n    this.errors = [];\r\n    if (this.isCreated(name_id)) {\r\n      this.errors.push(ParseError.Error(new NameLocation(name_id), `${name_id}${type}`));\r\n      return false;\r\n    }\r\n    this._scope.setVariable(name_id, type, value);\r\n    return true;\r\n  }\r\n\r\n  public static createExpression(name_id: string, exp_str: string): boolean {\r\n    this.errors = [];\r\n    if (this.isCreated(name_id)) {\r\n      this.errors.push(ParseError.Error(new NameLocation(name_id), `${name_id}${exp_str}`));\r\n      return false;\r\n    }\r\n    let exp: IExpression = VE_ExpressionParsing.parsing(name_id, exp_str, this._scope, this._projectName, '', '', VariableScope.Scene);\r\n    if (VE_ExpressionParsing.errors.length > 0) {\r\n      for (let i: number = 0; i < VE_ExpressionParsing.errors.length; i++) {\r\n        this.errors.push(VE_ExpressionParsing.errors[i]);\r\n      }\r\n      return false;\r\n    }\r\n    this._expVariable[name_id] = exp;\r\n    return true;\r\n  }\r\n\r\n  public static getValue(name_id: string): any {\r\n    if (this.isCreated(name_id)) {\r\n      if (this.isCreatedVariable(name_id)) {\r\n        return this._scope.find(name_id)!.getValue();\r\n      } else {\r\n        return this._expVariable[name_id].evaluate();\r\n      }\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public static getExpression(name_id: string): IExpression | null {\r\n    if (this._expVariable[name_id]) {\r\n      return this._expVariable[name_id];\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public static getVariable(name_id: string): Variable | null {\r\n    if (this.isCreatedVariable(name_id)) {\r\n      return this._scope.find(name_id);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n\r\n  public static printError(): void {\r\n    if (this.errors.length > 0) {\r\n      for (let i: number = 0; i < this.errors.length; i++) {\r\n        console.log(this.errors[i].toString());\r\n        ShowError.showError(this.errors[i].toString());\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n}\r\n\r\nExpManager.init();\r\n\r\n// try {\r\n//   ExpManager.createVariable('first', 'number', 1);\r\n//   ExpManager.createVariable('second', 'number', 2);\r\n//   ExpManager.createVariable('third', 'bool', true);\r\n//   console.log(ExpManager.getValue('third'));\r\n\r\n//   // ExpManager.createExpression('add', '(1 + first + second * (first + second + 3)) / 2');\r\n//   // ExpManager.createExpression('add', 'cos(PI/2) + sin(PI/2)');\r\n//   // console.log(ExpManager.getExpression('add')!.toString());\r\n//   // console.log(' ' + ExpManager.getExpression('add')!.evaluate());\r\n\r\n//   // ExpManager.createExpression('exp1', 'second + 2 * second + abs(-10)');\r\n//   ExpManager.createExpression('exp1', 'first * second + second > 10');\r\n//   console.log('2 ' + ExpManager.getExpression('exp1')!.evaluate());\r\n\r\n//   // ExpManager.createExpression('multiply', 'x * y');\r\n//   // ExpManager.createExpression('substract', 'x - y');\r\n\r\n//   // console.log(ExpManager.getExpression('add')!.evaluate());\r\n\r\n//   // console.log(ExpManager.getExpression('multiply')!.evaluate());\r\n//   // console.log(ExpManager.getExpression('substract')!.evaluate());\r\n\r\n// }\r\n// catch {\r\n\r\n// }\r\n\r\n// ExpManager.printError();\r\n\r\n\r\n","export enum ExpressionType {\r\n  ID, SPECIAL_ID, KEYWORD, STRING, NUMBER, BOOL, OPERATOR, INTEGER, FLOAT, DOUBLE, EOI\r\n}","import { Scope } from \"./scope\";\r\nimport { Tokenizer } from \"./tokenizer\";\r\nimport { ParseError, IPosition } from \"./positions\";\r\nimport { IExpression, BinaryOperator, BinaryExpression, ConstantExpression, VeryTemplateExpression, VeryVarExpression } from \"./expressions\";\r\nimport { ExpressionType } from \"./expressionEnum\";\r\nimport { FunctionExpression } from \"./functionExpression\";\r\nimport { Token } from \"./token\";\r\nimport { IFunction, CustomFunctions } from \"./functions\";\r\nimport { Variable } from \"./variable\";\r\nimport { VariableExpression } from \"./variableExpression\";\r\nimport { VariableScope } from \"../enum\";\r\nimport { VE_Expressions } from \"./veryExpressions\";\r\nimport { VE_Objects, VeryEngineObject } from \"../object\";\r\nimport { VE_Manager } from \"../manager\";\r\nimport { VE_Fsm } from \"../state\";\r\n\r\n\r\n\r\nexport class VE_ExpressionParsing {\r\n\r\n  private static _bracketPair: { [key: string]: string } = {};\r\n\r\n  private static _scope: Scope;\r\n  private static _tokenizer: Tokenizer;\r\n\r\n  public static errors: ParseError[] = [];\r\n\r\n  private static _projectName: string = '';\r\n  private static _objectID: string = '';\r\n  private static _fsmID = '';\r\n\r\n  private static _varScope: VariableScope = VariableScope.Local;\r\n\r\n\r\n  public static init(): void {\r\n    this._bracketPair['('] = ')';\r\n    this._bracketPair['['] = ']';\r\n    this._bracketPair['{'] = '}';\r\n    this._bracketPair[''] = '';\r\n    this._bracketPair[''] = '';\r\n  }\r\n\r\n  public static parsing(name_id: string, input_exp: string, scope: Scope, project_name: string, object_id: string, fsm_id: string, var_scope: VariableScope): IExpression {\r\n    this._scope = scope;\r\n    this._projectName = project_name;\r\n    this._objectID = object_id;\r\n    this._fsmID = fsm_id;\r\n    this._varScope = var_scope;\r\n    this._tokenizer = new Tokenizer(input_exp);\r\n    // while(!this._tokenizer.current().isEnd()) {\r\n    //   console.log(this._tokenizer.consume());\r\n    // }\r\n    this.errors = [];\r\n    return this.parse();\r\n  }\r\n\r\n  private static parse(): IExpression {\r\n    let resultExp: IExpression = this.buildExpression();\r\n    if (!this._tokenizer.current().isEnd()) {\r\n      this._tokenizer.addError(this._tokenizer.current(), `${this._tokenizer.current().getSource()}`);\r\n      this._tokenizer.consume();\r\n    }\r\n    this.errors = this._tokenizer.getProblemCollector();\r\n    return resultExp;\r\n  }\r\n\r\n\r\n  private static buildExpression(): IExpression {\r\n    let left: IExpression = this.relationalExp();\r\n    if (this._tokenizer.current().isOperator('&&')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.buildExpression();\r\n      return this.reOrder(left, right, BinaryOperator.Add);\r\n    }\r\n    if (this._tokenizer.current().isOperator('||')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.buildExpression();\r\n      return this.reOrder(left, right, BinaryOperator.Or);\r\n    }\r\n    return left;\r\n  }\r\n\r\n\r\n  private static relationalExp(): IExpression {\r\n    let left: IExpression = this.algebraExp();\r\n    if (this._tokenizer.current().isOperator('<')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.relationalExp();\r\n      return this.reOrder(left, right, BinaryOperator.LT);\r\n    }\r\n    if (this._tokenizer.current().isOperator('<=')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.relationalExp();\r\n      return this.reOrder(left, right, BinaryOperator.LT_EQ);\r\n    }\r\n    if (this._tokenizer.current().isOperator('==')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.relationalExp();\r\n      return this.reOrder(left, right, BinaryOperator.EQ);\r\n    }\r\n    if (this._tokenizer.current().isOperator('>=')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.relationalExp();\r\n      return this.reOrder(left, right, BinaryOperator.GT_EQ);\r\n    }\r\n    if (this._tokenizer.current().isOperator('>')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.relationalExp();\r\n      return this.reOrder(left, right, BinaryOperator.GT);\r\n    }\r\n    if (this._tokenizer.current().isOperator('!=')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.relationalExp();\r\n      return this.reOrder(left, right, BinaryOperator.NEQ);\r\n    }\r\n    return left;\r\n  }\r\n\r\n  private static algebraExp(): IExpression {\r\n    let left: IExpression = this.productExp();\r\n    if (this._tokenizer.current().isOperator('+')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.algebraExp();\r\n      return this.reOrder(left, right, BinaryOperator.Add);\r\n    }\r\n    if (this._tokenizer.current().isOperator('-')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.algebraExp();\r\n      return this.reOrder(left, right, BinaryOperator.Subtract);\r\n    }\r\n    return left;\r\n  }\r\n\r\n  private static productExp(): IExpression {\r\n    let left: IExpression = this.exponentExp();\r\n    if (this._tokenizer.current().isOperator('*')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.productExp();\r\n      return this.reOrder(left, right, BinaryOperator.Multiply);\r\n    }\r\n    if (this._tokenizer.current().isOperator('/')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.productExp();\r\n      return this.reOrder(left, right, BinaryOperator.Divide);\r\n    }\r\n    if (this._tokenizer.current().isOperator('%')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.productExp();\r\n      return this.reOrder(left, right, BinaryOperator.Modulo);\r\n    }\r\n    return left;\r\n  }\r\n\r\n  private static exponentExp(): IExpression {\r\n    let left: IExpression = this.atomExp();\r\n    if (this._tokenizer.current().isOperator('!') || this._tokenizer.current().isOperator('')) {\r\n      left = new BinaryExpression(left, left, BinaryOperator.Not);\r\n    }\r\n    return left;\r\n  }\r\n\r\n  private static atomExp(): IExpression {\r\n    // -\r\n    if (this._tokenizer.current().isOperator('-')) {\r\n      this._tokenizer.consume();\r\n      let result: BinaryExpression = new BinaryExpression(new ConstantExpression(0, 'number'), this.atomExp(), BinaryOperator.Subtract);\r\n      result.setSeal();\r\n      return result;\r\n    }\r\n    // \r\n    if (this._tokenizer.current().isOperator('!') && (this._tokenizer.next().isIdentifier() || this._tokenizer.next().isKeyword() || this._tokenizer.next().isStartBracket())) {\r\n      this._tokenizer.consume();\r\n      let newValue: IExpression = this.atomExp();\r\n      if (newValue.expType === 'bool') {\r\n        let notExp: BinaryExpression = new BinaryExpression(newValue, newValue, BinaryOperator.Not);\r\n        return notExp;\r\n      } else {\r\n        this._tokenizer.addError(this._tokenizer.current(), '(!)bool');\r\n        return ConstantExpression.Empty();\r\n      }\r\n    }\r\n    // +\r\n    if (this._tokenizer.current().isOperator('+') && this._tokenizer.next().isStartBracket()) {\r\n      this._tokenizer.consume();\r\n    }\r\n    // +\r\n    if (this._tokenizer.current().isOperator('+') && this._tokenizer.next().isConstant()) {\r\n      this._tokenizer.consume();\r\n    }\r\n    // +\r\n    if (this._tokenizer.current().isOperator('+') && this._tokenizer.next().isIdentifier()) {\r\n      this._tokenizer.consume();\r\n    }\r\n\r\n    // VeryVar\r\n    // \r\n    // 1**null2.**null3*.*4.*.*\r\n\r\n    // 1.*==null\r\n    // 2..*\r\n    if (this._tokenizer.current().isOperator(\"*\") && this._tokenizer.next().isIdentifier())  //*VeryVarVeryVarExpression\r\n    {\r\n      this._tokenizer.consume();\r\n      let varID: string = \"*\" + this._tokenizer.current().getContents();\r\n      let varExpression: Nullable<IExpression> = VE_Expressions.getParseExpression(this._projectName, this._objectID, varID, this._varScope);\r\n      if (varExpression === null) {\r\n        // \r\n        let templateExpression: Nullable<VeryTemplateExpression> = VE_Expressions.getTemplateExpression(this._projectName, this._objectID, varID, this._varScope);\r\n        if (templateExpression === null) {\r\n          this._tokenizer.addError(this._tokenizer.current(), \"VeryVar\" + varID + \"VeryVar\");\r\n          this._tokenizer.consume();\r\n          return ConstantExpression.Empty();\r\n        }\r\n        else {\r\n          //UnityEngine.Debug.LogError(\"\" + _tokenizer.current());\r\n          // this._tokenizer.consume();\r\n          // return templateExpression;\r\n          // TODO: \r\n          this._tokenizer.addError(this._tokenizer.current(), \"VeryVar\" + varID + \"\");\r\n          this._tokenizer.consume();\r\n          return ConstantExpression.Empty();\r\n        }\r\n      }\r\n      else {\r\n        this._tokenizer.consume();\r\n        return varExpression;\r\n      }\r\n    }\r\n\r\n    // \r\n    if (this._tokenizer.current().isStartBracket()) {\r\n      let endBracket: string = this._bracketPair[this._tokenizer.consume().getTrigger()];\r\n      let result: IExpression = this.buildExpression();\r\n      if (result.className === 'BinaryExpression') {\r\n        (<BinaryExpression>result).setSeal();\r\n      }\r\n      this.expectTrigger(ExpressionType.OPERATOR, endBracket); // \r\n      return result;\r\n    }\r\n    // \r\n    if (this._tokenizer.current().isConstant()) {\r\n      let value: any;\r\n      let typeStr: string = 'string';\r\n      if (this._tokenizer.current().isBool()) {\r\n        value = this._tokenizer.current().getContents().toLowerCase() === 'true' ? true : false;\r\n        typeStr = 'bool';\r\n      } else if (this._tokenizer.current().isNumber()) {\r\n        value = parseFloat(this._tokenizer.current().getContents());\r\n        typeStr = 'number';\r\n        // console.log('' + value);\r\n      } else {\r\n        value = this._tokenizer.current().getContents();\r\n        typeStr = 'string';\r\n      }\r\n      this._tokenizer.consume();\r\n      let constantExp: IExpression = new ConstantExpression(value, typeStr);\r\n      return constantExp;\r\n    }\r\n    // \r\n    if (this._tokenizer.current().isIdentifier()) {\r\n      if (this._tokenizer.next().isStartBracket()) { // \r\n        // \r\n        let endStart: string = this._bracketPair[this._tokenizer.next().getTrigger()];\r\n        return this.functionCall(endStart);\r\n      } else { // \r\n        // VryVar\r\n        let varValue: Variable | null;\r\n        let loc: IPosition = this._tokenizer.current();\r\n        let variableID: string = this._tokenizer.consume().getContents();\r\n        if (variableID.endsWith('.') && this._tokenizer.current().isOperator('*') && this._tokenizer.next().isIdentifier()) { // .*\r\n          // VeryVar.*\r\n          this._tokenizer.consume();\r\n          let varID: string = variableID + '*' + this._tokenizer.current().getContents();\r\n          let varExpression: Nullable<IExpression> = VE_Expressions.getParseExpression(this._projectName, this._objectID, varID, this._varScope);\r\n          if (varExpression === null) {\r\n            // TODO\r\n            let templateExpression: Nullable<VeryTemplateExpression> = VE_Expressions.getTemplateExpression(this._projectName, this._objectID, varID, this._varScope);\r\n            if (templateExpression === null) {\r\n              this._tokenizer.addError(loc, `VeryVar${varID}VeryVar`);\r\n            } else {\r\n              this._tokenizer.addError(this._tokenizer.current(), \"VeryVar\" + varID + \"\");\r\n            }\r\n            this._tokenizer.consume();\r\n            return ConstantExpression.Empty();\r\n          } else {\r\n            this._tokenizer.consume();\r\n            return varExpression;\r\n          }\r\n          // return ConstantExpression.Empty();\r\n        } else {\r\n          // \r\n          varValue = this._scope.find(variableID);\r\n          // console.log(variableID + '  ---  ' + varValue);\r\n          if (varValue === null) {\r\n            this._tokenizer.addError(loc, `${variableID}`);\r\n            return ConstantExpression.Empty();\r\n          } else {\r\n            return new VariableExpression(varValue);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // TODO\r\n    if (this._tokenizer.current().isKeyword()) {\r\n      // this\r\n      if (this._tokenizer.current().getContents().toLowerCase().trim() === \"this\") {\r\n        if (this._varScope === VariableScope.Fsm && this._fsmID !== \"\") {\r\n          // \r\n          let objects: VE_Objects = VE_Manager.objects(this._projectName);\r\n          if (objects !== null) {\r\n            let veryObject: VeryEngineObject = objects.getVeryObject(this._objectID);\r\n            if (veryObject != null) {\r\n              let fsm: VE_Fsm = veryObject.getFsm(this._fsmID);\r\n              if (fsm != null) {\r\n                this._tokenizer.consume();\r\n                return new VeryVarExpression(fsm.fsmVar);\r\n              }\r\n            }\r\n          }\r\n        }\r\n        this._tokenizer.addError(this._tokenizer.current(), \"this\");\r\n        this._tokenizer.consume();\r\n        return ConstantExpression.Empty();\r\n      }\r\n      //   == null \r\n      else if (this._tokenizer.current().getContents().toLowerCase().trim() === \"null\" || this._tokenizer.current().getContents().toLowerCase().trim() === \"none\") {\r\n        //UnityEngine.Debug.LogError(\"\" + _tokenizer.current());\r\n        this._tokenizer.consume();\r\n        // TODO: \r\n        return new VeryTemplateExpression();\r\n      }\r\n      else {\r\n        this._tokenizer.addError(this._tokenizer.current(), \"\" + this._tokenizer.current().getContents() + \"\");\r\n        this._tokenizer.consume();\r\n        return ConstantExpression.Empty();\r\n      }\r\n    }\r\n\r\n    // \r\n    if (this._tokenizer.current().isSpecialIdentifier()) {\r\n      this._tokenizer.addError(this._tokenizer.current(), `ID${this._tokenizer.current().getSource()}`);\r\n      this._tokenizer.consume();\r\n      return ConstantExpression.Empty();\r\n    }\r\n\r\n    // \r\n    this._tokenizer.addError(this._tokenizer.current(), `${this._tokenizer.current().getSource()}`);\r\n    this._tokenizer.consume();\r\n\r\n    return ConstantExpression.Empty();\r\n  }\r\n\r\n  private static reOrder(left: IExpression, right: IExpression, op: BinaryOperator): IExpression {\r\n    if (right.className === 'BinaryExpression') {\r\n      let rightOp: BinaryExpression = <BinaryExpression>right;\r\n      if (!rightOp.isSealed() && rightOp.getPriority() === rightOp.getPriorityOp(op)) {\r\n        this.replaceLeft(rightOp, left, op);\r\n        return right;\r\n      }\r\n    }\r\n    return new BinaryExpression(left, right, op);\r\n  }\r\n\r\n  private static replaceLeft(target: BinaryExpression, newLeft: IExpression, op: BinaryOperator): void {\r\n    if (target.getLeftExp().className === 'BinaryExpression') {\r\n      let leftOp: BinaryExpression = <BinaryExpression>target.getLeftExp();\r\n      if (!leftOp.isSealed() && leftOp.getPriority() === leftOp.getPriorityOp(op)) {\r\n        this.replaceLeft(leftOp, newLeft, op);\r\n        return;\r\n      }\r\n    }\r\n    target.setLeftExp(new BinaryExpression(newLeft, target.getLeftExp(), op));\r\n  }\r\n\r\n  private static functionCall(end_bracket: string): IExpression {\r\n    let call: FunctionExpression = new FunctionExpression();\r\n    let funcToken: Token = this._tokenizer.consume();\r\n    if (!CustomFunctions.hasFunction(funcToken.getContents())) {\r\n      this._tokenizer.addError(funcToken, `${funcToken.getContents()}`);\r\n      return ConstantExpression.Empty();\r\n    }\r\n    let fun: IFunction = CustomFunctions.createFunction(funcToken.getContents());\r\n    call.setFunction(fun);\r\n    this._tokenizer.consume(); // \r\n    while (!this._tokenizer.current().isOperator(end_bracket) && !this._tokenizer.current().isEnd()) {\r\n      if (call.paraCount() !== 0) {\r\n        this.expectTrigger(ExpressionType.OPERATOR, ',');\r\n      }\r\n      call.addPara(this.buildExpression());\r\n    }\r\n    this.expectTrigger(ExpressionType.OPERATOR, end_bracket);\r\n    call.evaluate();\r\n    if (call.paraCount() > fun.parameterNumber() && fun.parameterNumber() >= 0) {\r\n      this._tokenizer.addError(funcToken, `${funcToken.getContents()}Max${fun.parameterNumber()}${call.paraCount()}`);\r\n      return ConstantExpression.Empty();\r\n    }\r\n    return call;\r\n  }\r\n\r\n  private static expectTrigger(type: ExpressionType, trigger: string): void {\r\n    if (this._tokenizer.current().matches(type, trigger)) {\r\n      this._tokenizer.consume();\r\n    } else {\r\n      this._tokenizer.addError(this._tokenizer.current(), `${trigger}${this._tokenizer.current().getTrigger()}`);\r\n    }\r\n  }\r\n\r\n  public static getProjectCollector(): ParseError[] {\r\n    return this._tokenizer.getProblemCollector();\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\nVE_ExpressionParsing.init();","import { Dictionary } from \"../utility/dictionary\";\r\nimport { IVeryVar } from \"../variables\";\r\nimport { VE_Template } from \"../template\";\r\n\r\nexport interface IExpression {\r\n  expType: string;\r\n  className: string;\r\n  evaluate(): any;\r\n  clone(): IExpression;\r\n}\r\n\r\nexport class TrueExpression implements IExpression {\r\n  public get expType(): string {\r\n    return 'bool';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'TrueExpression';\r\n  }\r\n\r\n  public get value(): boolean {\r\n    return true;\r\n  }\r\n\r\n  constructor() {\r\n  }\r\n\r\n  public evaluate(): any {\r\n    return true;\r\n  }\r\n\r\n  public clone(): IExpression {\r\n    let exp: TrueExpression = new TrueExpression();\r\n    return exp;\r\n  }\r\n\r\n  public toString(): string {\r\n    return 'true';\r\n  }\r\n}\r\n\r\nexport class ConstantExpression implements IExpression {\r\n\r\n  public get expType(): string {\r\n    return this._expType;\r\n  }\r\n  private _expType: string = 'string';\r\n\r\n  public get className(): string {\r\n    return 'ConstantExpression';\r\n  }\r\n\r\n  private _value: any;\r\n\r\n  constructor(value: any, type: string) {\r\n    this._value = value;\r\n    this._expType = type;\r\n  }\r\n\r\n  public evaluate(): any {\r\n    return this._value;\r\n  }\r\n\r\n  public clone(): IExpression {\r\n    let expClone: ConstantExpression = new ConstantExpression(this._value, this._expType);\r\n    return expClone;\r\n  }\r\n\r\n  public static Empty(): ConstantExpression {\r\n    return new ConstantExpression(null, 'string');\r\n  }\r\n\r\n  public isEmpty(): boolean {\r\n    if (this._expType === 'string' && this._value === null) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public toString(): string {\r\n    if (this._value !== null) {\r\n      return this._value.toString();\r\n    } else {\r\n      return 'null';\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport enum BinaryOperator {\r\n  Add = '+', Subtract = '-', Multiply = '*', Divide = '/', Modulo = '%', Power = '^', LT = '<', LT_EQ = '<=', EQ = '=', GT_EQ = '>=', GT = '>', NEQ = '!=', And = '&&', Or = '||', Not = '!'\r\n}\r\n\r\nexport class BinaryExpression implements IExpression {\r\n\r\n  public get expType(): string {\r\n    return this._expType;\r\n  }\r\n  private _expType = '';\r\n\r\n  public get className(): string {\r\n    return 'BinaryExpression';\r\n  }\r\n\r\n  public isRight: boolean = true;\r\n\r\n  private _op: BinaryOperator = BinaryOperator.EQ;\r\n\r\n  private _left: IExpression;\r\n  private _right: IExpression;\r\n  private _isSealed: boolean = false;\r\n\r\n  private static _opDic: { [key: string]: BinaryOperator } = {};\r\n\r\n  private static _priority: Dictionary<BinaryOperator, number> = new Dictionary<BinaryOperator, number>();\r\n\r\n  // private static _priorityKey: BinaryOperator[] = [BinaryOperator.Not, BinaryOperator.Power, BinaryOperator.Multiply, BinaryOperator.Divide, BinaryOperator.Modulo, BinaryOperator.Add, BinaryOperator.Subtract, BinaryOperator.LT, BinaryOperator.LT_EQ, BinaryOperator.EQ, BinaryOperator.GT_EQ, BinaryOperator.GT, BinaryOperator.NEQ, BinaryOperator.And, BinaryOperator.Or];\r\n\r\n  // private static _priorityValue: number[] = [2, 3, 4, 4, 4, 5, 5, 6, 6, 6, 6, 6, 6, 7, 7];\r\n\r\n  public static init(): void {\r\n    this._opDic[\"+\"] = BinaryOperator.Add;\r\n    this._opDic[\"-\"] = BinaryOperator.Subtract;\r\n    this._opDic[\"*\"] = BinaryOperator.Multiply;\r\n    this._opDic[\"/\"] = BinaryOperator.Divide;\r\n    this._opDic[\"%\"] = BinaryOperator.Modulo;\r\n    this._opDic[\"**\"] = BinaryOperator.Power;\r\n    this._opDic[\"^\"] = BinaryOperator.Power;\r\n    this._opDic[\"<\"] = BinaryOperator.LT;\r\n    this._opDic[\"<=\"] = BinaryOperator.LT_EQ;\r\n    this._opDic[\"==\"] = BinaryOperator.EQ;\r\n    this._opDic[\">=\"] = BinaryOperator.GT_EQ;\r\n    this._opDic[\">\"] = BinaryOperator.GT;\r\n    this._opDic[\"!=\"] = BinaryOperator.NEQ;\r\n    this._opDic[\"&&\"] = BinaryOperator.And;\r\n    this._opDic[\"||\"] = BinaryOperator.Or;\r\n    this._opDic[\"!\"] = BinaryOperator.Not;\r\n    this._opDic[\"\"] = BinaryOperator.Not;\r\n\r\n    this._priority.Add(BinaryOperator.Not, 2);\r\n    this._priority.Add(BinaryOperator.Power, 3);\r\n    this._priority.Add(BinaryOperator.Multiply, 4); this._priority.Add(BinaryOperator.Divide, 4); this._priority.Add(BinaryOperator.Modulo, 4);\r\n    this._priority.Add(BinaryOperator.Add, 5); this._priority.Add(BinaryOperator.Subtract, 5);\r\n    this._priority.Add(BinaryOperator.LT, 6); this._priority.Add(BinaryOperator.LT_EQ, 6); this._priority.Add(BinaryOperator.EQ, 6); this._priority.Add(BinaryOperator.GT_EQ, 6); this._priority.Add(BinaryOperator.GT, 6); this._priority.Add(BinaryOperator.NEQ, 6);\r\n    this._priority.Add(BinaryOperator.And, 7); this._priority.Add(BinaryOperator.Or, 7);\r\n  }\r\n\r\n  constructor(left_exp: IExpression, right_exp: IExpression, op: BinaryOperator) {\r\n    this._left = left_exp;\r\n    this._right = right_exp;\r\n    this._op = op;\r\n    // console.log(this._left);\r\n    // console.log(this._right);\r\n    this._expType = this.resultAutoType(left_exp, right_exp, op);\r\n    if (this._expType === 'null') {\r\n      // TODO\r\n      this.isRight = false;\r\n      console.log(\"\" + left_exp.expType + \"\" + right_exp.expType + \"\" + op.toString());\r\n    }\r\n  }\r\n\r\n  private resultAutoType(left: IExpression, right: IExpression, op: BinaryOperator): string {\r\n    if (op === BinaryOperator.Add) {\r\n      if (left.expType === 'string' || right.expType === 'string') {\r\n        return 'string';\r\n      }\r\n      else if (left.expType === 'bool' || right.expType === 'bool') {\r\n        return 'null';\r\n      }\r\n      else if (left.expType === 'number' || right.expType === 'number') {\r\n        return 'number';\r\n      }\r\n      else if (left.expType === 'vector3' || right.expType === 'vector3') {\r\n        return 'vector3';\r\n      }\r\n      else if (left.expType === 'vector2' || right.expType === 'vector2') {\r\n        return 'vector2';\r\n      }\r\n      else {\r\n        return 'null';\r\n      }\r\n    } else if (op === BinaryOperator.Divide || op === BinaryOperator.Multiply || op === BinaryOperator.Modulo || op === BinaryOperator.Power || op === BinaryOperator.Subtract) {\r\n      if (left.expType === 'string' || right.expType === 'string' || left.expType === 'bool' || left.expType === 'bool') {\r\n        return 'null';\r\n      }\r\n      else if (left.expType === 'vector3' && right.expType === 'vector3' && op === BinaryOperator.Subtract) {\r\n        return 'vector3';\r\n      }\r\n      else if (left.expType === 'vector2' && right.expType === 'vector2' && op === BinaryOperator.Subtract) {\r\n        return 'vector2';\r\n      }\r\n      else if ((left.expType === 'number' && right.expType === 'vector3' && op === BinaryOperator.Multiply) || (left.expType === 'vector3' && right.expType === 'number' && op == BinaryOperator.Multiply)) {\r\n        return 'vector3';\r\n      }\r\n      else if ((left.expType === 'number' && right.expType === 'vector2' && op === BinaryOperator.Multiply) || (left.expType === 'vector2' && right.expType === 'number' && op == BinaryOperator.Multiply)) {\r\n        return 'vector2';\r\n      }\r\n      else if (left.expType === 'vector3' && right.expType === 'number' && op === BinaryOperator.Divide) {\r\n        return 'vector3';\r\n      }\r\n      else if (left.expType === 'vector2' && right.expType === 'number' && op === BinaryOperator.Divide) {\r\n        return 'vector2';\r\n      }\r\n      else if (left.expType === 'number' || right.expType === 'number') {\r\n        return 'number';\r\n      }\r\n      else {\r\n        return 'null';\r\n      }\r\n    } else if (op === BinaryOperator.LT || op === BinaryOperator.LT_EQ || op === BinaryOperator.GT_EQ || op === BinaryOperator.GT) {\r\n      if (left.expType === 'string' || right.expType === 'string' || left.expType === 'bool' || right.expType === 'bool') {\r\n        return 'null';\r\n      } else {\r\n        return 'bool';\r\n      }\r\n    } else if (op === BinaryOperator.NEQ || op === BinaryOperator.EQ) {\r\n      if (right.expType !== left.expType) {\r\n        return 'null';\r\n      } else {\r\n        return 'bool';\r\n      }\r\n    } else if (op === BinaryOperator.Not) {\r\n      if (right.expType !== 'bool') {\r\n        return 'null';\r\n      } else {\r\n        return 'bool';\r\n      }\r\n    } else {\r\n      return 'string';\r\n    }\r\n  }\r\n\r\n  public setLeftExp(left_exp: IExpression): void {\r\n    this._left = left_exp;\r\n  }\r\n\r\n  public setRightExp(right_exp: IExpression): void {\r\n    this._right = right_exp;\r\n  }\r\n\r\n  public getOp(): BinaryOperator {\r\n    return this._op;\r\n  }\r\n\r\n  public getLeftExp(): IExpression {\r\n    return this._left;\r\n  }\r\n\r\n  public getRightExp(): IExpression {\r\n    return this._right;\r\n  }\r\n\r\n  public isSealed(): boolean {\r\n    return this._isSealed;\r\n  }\r\n\r\n  public setSeal(): void {\r\n    this._isSealed = true;\r\n  }\r\n\r\n  public toString(): string {\r\n    return \"(\" + this._left.toString() + \" \" + this._op.toString() + \" \" + this._right.toString() + \")\";\r\n    // return this._left.toString() + this._op.toString() + this._right.toString();\r\n  }\r\n\r\n  public clone(): IExpression {\r\n    let expClone: BinaryExpression = new BinaryExpression(this._left.clone(), this._right.clone(), this._op);\r\n    return expClone;\r\n  }\r\n\r\n  public evaluate(): any {\r\n    if (this._expType === 'null') {\r\n      return null;\r\n    }\r\n    if (this._left.className === 'FunctionExpression') {\r\n      this._left.evaluate();\r\n    }\r\n    if (this._right.className === 'FunctionExpression') {\r\n      this._right.evaluate();\r\n    }\r\n    this._expType = this.resultAutoType(this._left, this._right, this._op);\r\n    let leftValue: any = this._left.evaluate();\r\n    let rightValue: any = this._right.evaluate();\r\n    if (leftValue === null || rightValue === null) {\r\n      return null;\r\n    }\r\n    if (this._op === BinaryOperator.Add) {\r\n      if (this._expType === 'string') {\r\n        return leftValue.toString() + rightValue.toString();\r\n      } else if (this._expType === 'number') {\r\n        return leftValue + rightValue;\r\n      } else if (this._expType === 'vector3') {\r\n        return (<BABYLON.Vector3>leftValue).add((<BABYLON.Vector3>rightValue));\r\n      } else if (this._expType === 'vector2') {\r\n        return (<BABYLON.Vector2>leftValue).add((<BABYLON.Vector2>rightValue));\r\n      } else {\r\n        return null;\r\n      }\r\n    } else if (this._op === BinaryOperator.Subtract) {\r\n      if (this._expType === 'number') {\r\n        return leftValue - rightValue;\r\n      } else if (this._expType === 'vector3') {\r\n        return (<BABYLON.Vector3>leftValue).subtract((<BABYLON.Vector3>rightValue));\r\n      } else if (this._expType === 'vector2') {\r\n        return (<BABYLON.Vector2>leftValue).subtract((<BABYLON.Vector2>rightValue));\r\n      } else {\r\n        return null;\r\n      }\r\n    } else if (this._op === BinaryOperator.Multiply) {\r\n      if (this._expType === 'number') {\r\n        return leftValue * rightValue;\r\n      } else if (this._expType === 'vector3') {\r\n        if (typeof (leftValue) === 'number') {\r\n          return (<BABYLON.Vector3>rightValue).multiplyByFloats(leftValue, leftValue, leftValue);\r\n        } else if (typeof (rightValue) === 'number') {\r\n          return (<BABYLON.Vector3>leftValue).multiplyByFloats(rightValue, rightValue, rightValue);\r\n        } else {\r\n          return null;\r\n        }\r\n      } else if (this._expType === 'vector2') {\r\n        if (typeof (leftValue) === 'number') {\r\n          return (<BABYLON.Vector2>rightValue).multiplyByFloats(leftValue, leftValue);\r\n        } else if (typeof (rightValue) === 'number') {\r\n          return (<BABYLON.Vector2>leftValue).multiplyByFloats(rightValue, rightValue);\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n    } else if (this._op === BinaryOperator.Divide) {\r\n      if (this._expType === 'number') {\r\n        return leftValue / rightValue;\r\n      } else if (this._expType === 'vector3') {\r\n        if (typeof (rightValue) === 'number') {\r\n          return new BABYLON.Vector3((<BABYLON.Vector3>leftValue).x / rightValue, (<BABYLON.Vector3>leftValue).y / rightValue, (<BABYLON.Vector3>leftValue).z / rightValue);\r\n        } else {\r\n          return null;\r\n        }\r\n      } else if (this._expType === 'vector2') {\r\n        if (typeof (rightValue) === 'number') {\r\n          return new BABYLON.Vector2((<BABYLON.Vector2>leftValue).x / rightValue, (<BABYLON.Vector2>leftValue).y / rightValue);\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n    } else if (this._op === BinaryOperator.Modulo) {\r\n      if (typeof (leftValue) === 'number' && typeof (rightValue) === 'number') {\r\n        return leftValue % rightValue;\r\n      } else {\r\n        return null;\r\n      }\r\n    } else if (this._op === BinaryOperator.Power) {\r\n      if (typeof (leftValue) === 'number' && typeof (rightValue) === 'number') {\r\n        return Math.pow(leftValue, rightValue);\r\n      } else {\r\n        return null;\r\n      }\r\n    } else if (this._op === BinaryOperator.And) {\r\n      let l: boolean = this.getBoolean(leftValue);\r\n      let r: boolean = this.getBoolean(rightValue);\r\n      return l && r;\r\n    } else if (this._op === BinaryOperator.Or) {\r\n      let l: boolean = this.getBoolean(leftValue);\r\n      let r: boolean = this.getBoolean(rightValue);\r\n      return l || r;\r\n    } else if (this._op === BinaryOperator.LT) {\r\n      return leftValue < rightValue;\r\n    } else if (this._op === BinaryOperator.LT_EQ) {\r\n      return leftValue <= rightValue;\r\n    } else if (this._op === BinaryOperator.GT_EQ) {\r\n      return leftValue >= rightValue;\r\n    } else if (this._op === BinaryOperator.GT) {\r\n      return leftValue > rightValue;\r\n    } else if (this._op === BinaryOperator.EQ) {\r\n      return leftValue === rightValue;\r\n    } else if (this._op === BinaryOperator.NEQ) {\r\n      return leftValue !== rightValue;\r\n    } else if (this._op === BinaryOperator.Not) {\r\n      return !this.getBoolean(rightValue);\r\n    } else {\r\n      return !this.getBoolean(leftValue);\r\n    }\r\n  }\r\n\r\n  private getBoolean(value: any): boolean {\r\n    if (typeof (value) === 'number') {\r\n      if (value === 0) {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    } else if (typeof (value) === 'string') {\r\n      if (value === '') {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    } else if (typeof (value) === 'boolean') {\r\n      return value;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getPriority(): number {\r\n    // let p: number = BinaryExpression._priorityKey.indexOf(this._op);\r\n    // if(p > -1) {\r\n    //   return BinaryExpression._priorityValue[p];\r\n    // } else {\r\n    //   return 100;\r\n    // }\r\n    let p: number | null = BinaryExpression._priority.GetValue(this._op);\r\n    if (p === null) {\r\n      return 100;\r\n    } else {\r\n      return p;\r\n    }\r\n  }\r\n\r\n  public getPriorityOp(op: BinaryOperator): number {\r\n    // let p: number = BinaryExpression._priorityKey.indexOf(op);\r\n    // if(p > -1) {\r\n    //   return BinaryExpression._priorityValue[p];\r\n    // } else {\r\n    //   return 100;\r\n    // }\r\n    let p: number | null = BinaryExpression._priority.GetValue(op);\r\n    if (p === null) {\r\n      return 100;\r\n    } else {\r\n      return p;\r\n    }\r\n  }\r\n}\r\n\r\nexport class VeryVarExpression implements IExpression {\r\n\r\n  public get expType(): string {\r\n    if (this._value) {\r\n      return this._value.varType;\r\n    } else {\r\n      return 'null';\r\n    }\r\n  }\r\n\r\n  private _value: IVeryVar;\r\n\r\n  public get className(): string {\r\n    return 'VeryVarExpression';\r\n  }\r\n\r\n  public get value(): IVeryVar {\r\n    return this._value;\r\n  }\r\n\r\n  constructor(value: IVeryVar) {\r\n    this._value = value;\r\n  }\r\n\r\n  public evaluate(): any {\r\n    return this._value.getValue();\r\n  }\r\n\r\n  public clone(): IExpression {\r\n    let expClone: VeryVarExpression = new VeryVarExpression(this._value.clone());\r\n    return expClone;\r\n  }\r\n\r\n  public toString(): string {\r\n    if (this._value) {\r\n      return this._value.toString();\r\n    } else {\r\n      return 'null';\r\n    }\r\n  }\r\n}\r\n\r\nexport class VeryTemplateExpression implements IExpression {\r\n\r\n  public get expType(): string {\r\n    return 'bool';\r\n  }\r\n\r\n  private _isTemplate: boolean = false;\r\n  private _template: VE_Template;\r\n\r\n  public get className(): string {\r\n    return 'VeryTemplateExpression';\r\n  }\r\n\r\n  // public get value(): IVeryVar {\r\n  //   return this._value;\r\n  // }\r\n\r\n  // TODO \r\n  constructor() {\r\n    this._template = new VE_Template('', '');\r\n  }\r\n\r\n  public setTemplate(template: VE_Template): void {\r\n    this._isTemplate = true;\r\n    this._template = template;\r\n  }\r\n\r\n  public evaluate(): any {\r\n    if (this._isTemplate) {\r\n      if (!this._template) {\r\n        return false;\r\n      }\r\n      else {\r\n        return this._template.templateInstance !== null;\r\n      }\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public clone(): IExpression {\r\n    let varExp: VeryTemplateExpression = new VeryTemplateExpression();\r\n    varExp._template = this._template;\r\n    varExp._isTemplate = this._isTemplate;\r\n    return varExp;\r\n  }\r\n\r\n  public toString(): string {\r\n    if (this._isTemplate) {\r\n      if (!this._template) {\r\n        return \"false\";\r\n      }\r\n      else {\r\n        return (this._template.templateInstance === null).toString();\r\n      }\r\n    }\r\n    else {\r\n      return \"false\";\r\n    }\r\n  }\r\n}\r\n\r\n\r\nBinaryExpression.init();","import { ParseError } from \"./positions\";\r\n\r\nexport abstract class ForwardQuery<T> {\r\n\r\n  protected itemBuffer: Array<T> = [];\r\n\r\n  protected endReached: boolean = false;\r\n\r\n  protected problemCollector: Array<ParseError> = [];\r\n\r\n  protected endOfInputIndicator: T | undefined = undefined;\r\n\r\n  public next(): T {\r\n    return this.nextOffset(1);\r\n  }\r\n\r\n  public nextOffset(offset: number): T {\r\n    while (this.itemBuffer.length <= offset && !this.endReached) {\r\n      let item: T | undefined = this.fetch();\r\n      if (item !== undefined) {\r\n        this.itemBuffer.push(item);\r\n      } else {\r\n        this.endReached = true;\r\n      }\r\n    }\r\n    if (offset >= this.itemBuffer.length) {\r\n      if (this.endOfInputIndicator === undefined) {\r\n        this.endOfInputIndicator = this.endOfInput();\r\n      }\r\n      return this.endOfInputIndicator;\r\n    } else {\r\n      return this.itemBuffer[offset];\r\n    }\r\n  }\r\n\r\n  public current(): T {\r\n    return this.nextOffset(0);\r\n  }\r\n\r\n  protected abstract endOfInput(): T;\r\n\r\n  protected abstract fetch(): T | undefined;\r\n\r\n  public consume(): T {\r\n    let result: T = this.current();\r\n    this.consumeNext(1);\r\n    return result;\r\n  }\r\n\r\n  public consumeNext(numberOfItems: number): void {\r\n    if (numberOfItems < 0) {\r\n      return;\r\n    }\r\n    while (numberOfItems-- > 0) {\r\n      if (this.itemBuffer.length !== 0) {\r\n        this.itemBuffer.shift();\r\n      } else {\r\n        if (this.endReached) {\r\n          return;\r\n        } else {\r\n          let item: T | undefined = this.fetch();\r\n          if (item === undefined) {\r\n            this.endReached = true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public getProblemCollector(): Array<ParseError> {\r\n    return this.problemCollector;\r\n  }\r\n\r\n  public setProblemCollector(problemCollector: Array<ParseError>): void {\r\n    this.problemCollector = problemCollector;\r\n  }\r\n\r\n\r\n}","import { IExpression } from \"./expressions\";\r\nimport { IFunction } from \"./functions\";\r\n\r\nexport class FunctionExpression implements IExpression {\r\n\r\n  public get expType(): string {\r\n    return this._function.expType;\r\n  }\r\n\r\n  public get className(): string {\r\n    return this._function.className;\r\n  }\r\n\r\n  private _function!: IFunction;\r\n  private _paras: IExpression[] = [];\r\n\r\n  public setFunction(func: IFunction): void {\r\n    this._function = func;\r\n  }\r\n\r\n  public addPara(exp: IExpression): void {\r\n    this._paras.push(exp);\r\n  }\r\n\r\n  public paraCount(): number {\r\n    return this._paras.length;\r\n  }\r\n\r\n  public evaluate(): any {\r\n    let r: any = null;\r\n    try {\r\n      r = this._function.evaluate(this._paras);\r\n    } catch (e) {\r\n      console.log('' + e);\r\n      return null;\r\n    }\r\n    return r;\r\n  }\r\n\r\n  public clone(): IExpression {\r\n    let expClone: FunctionExpression = new FunctionExpression();\r\n    expClone._function = this._function;\r\n    for (let i: number = 0; i < this._paras.length; i++) {\r\n      expClone._paras.push(this._paras[i].clone());\r\n    }\r\n    return expClone;\r\n  }\r\n\r\n  public toString(): string {\r\n    let printStr: string = this._function.className + '(';\r\n    for(let i: number = 0; i < this._paras.length; i++) {\r\n      if(i > 0) {\r\n        printStr += ',' + this._paras[i].toString();\r\n      } else {\r\n        printStr += this._paras[i].toString();\r\n      }\r\n    }\r\n    return printStr + ')';\r\n  }\r\n\r\n}","import { IExpression } from \"./expressions\";\r\nimport { ShowError } from \"../html\";\r\n\r\nexport interface IFunction {\r\n  expType: string;\r\n  className: string;\r\n  parameterNumber(): number;\r\n  evaluate(args: Array<IExpression>): any;\r\n}\r\n\r\nexport class Pow implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'pow';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 2;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.pow(args[0].evaluate(), args[1].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`Pow1${args[0].expType}1${args[0].evaluate()}2${args[1].expType}2${args[1].evaluate()}`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Ln implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'ln';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.log(args[0].evaluate());\r\n    if (value === NaN || value === Infinity) {\r\n      ShowError.showError(`Ln${args[0].expType}${args[0].evaluate()}`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Lg implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'lg';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.log10(args[0].evaluate());\r\n    if (value === NaN || value === Infinity) {\r\n      ShowError.showError(`Lg${args[0].expType}${args[0].evaluate()}`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Sqrt implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'sqrt';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.sqrt(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`Sqrt${args[0].expType}${args[0].evaluate()}`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Abs implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'abs';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.abs(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`Abs${args[0].expType}${args[0].evaluate()}`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Random implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'random';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 2;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let start: number = args[0].evaluate();\r\n    let distance: number = args[1].evaluate() - args[0].evaluate();\r\n    let value: number = Math.random() * distance + start;\r\n    if (value === NaN) {\r\n      ShowError.showError(`Random1${args[0].expType}1${args[0].evaluate()}2${args[1].expType}2${args[1].evaluate()}`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Round implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'round';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.round(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`Round${args[0].expType}${args[0].evaluate()}`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Sin implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'sin';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.sin(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`Sin${args[0].expType}${args[0].evaluate()}`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class ASin implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'asin';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.asin(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`ASin${args[0].expType}${args[0].evaluate()}`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Cos implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'cos';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.cos(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`Cos${args[0].expType}${args[0].evaluate()}`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class ACos implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'acos';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.acos(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`ACos${args[0].expType}${args[0].evaluate()}`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Tan implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'tan';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.tan(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`Tan${args[0].expType}${args[0].evaluate()}`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class ATan implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'atan';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.atan(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`ATan${args[0].expType}${args[0].evaluate()}`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport class CustomFunctions {\r\n  private static _functions: {[key:string]: IFunction} = {};\r\n\r\n  public static hasFunction(func_name: string): boolean {\r\n    func_name = func_name.toLowerCase();\r\n    if(this._functions[func_name]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static addFunction(func: IFunction): void {\r\n    let funcName: string = func.className.toLowerCase();\r\n    if(this._functions[funcName]) {\r\n      ShowError.showError(`IDID${funcName}ID`);\r\n    } else {\r\n      this._functions[funcName] = func;\r\n    }\r\n  }\r\n\r\n  public static createFunction(func_name: string): IFunction {\r\n    func_name = func_name.toLowerCase();\r\n    return Object.create(this._functions[func_name]);\r\n  }\r\n\r\n  public static remove(func_name: string): void {\r\n    func_name = func_name.toLowerCase();\r\n    delete this._functions[func_name];\r\n  }\r\n}\r\n\r\n\r\nCustomFunctions.addFunction(new Pow());\r\nCustomFunctions.addFunction(new Ln());\r\nCustomFunctions.addFunction(new Lg());\r\nCustomFunctions.addFunction(new Sqrt());\r\nCustomFunctions.addFunction(new Abs());\r\nCustomFunctions.addFunction(new Random());\r\nCustomFunctions.addFunction(new Round());\r\nCustomFunctions.addFunction(new Sin());\r\nCustomFunctions.addFunction(new ASin());\r\nCustomFunctions.addFunction(new Cos());\r\nCustomFunctions.addFunction(new ACos());\r\nCustomFunctions.addFunction(new Tan());\r\nCustomFunctions.addFunction(new ATan());\r\n\r\n","export * from './expressionEnum';\r\nexport * from './expressions';\r\nexport * from './functions';\r\nexport * from './positions';\r\nexport * from './expChar';\r\nexport * from './token';\r\nexport * from './forwardQuery';\r\nexport * from './tokenizer';\r\nexport * from './tokenReader';\r\nexport * from './variable';\r\nexport * from './variableExpression';\r\nexport * from './scope';\r\nexport * from './functionExpression';\r\nexport * from './expressionParsing';\r\nexport * from './expManager';\r\nexport * from './veryExpressions';","export interface IPosition {\r\n  getLine(): number;\r\n  getPos(): number;\r\n}\r\n\r\n\r\nexport class NameLocation implements IPosition {\r\n\r\n  private _value: string = '';\r\n  private _line: number = 0;\r\n  private _pos: number = 0;\r\n\r\n\r\n  constructor(value: string) {\r\n    this._value = value;\r\n    this._line = 1;\r\n    this._pos = 1;\r\n  }\r\n\r\n\r\n  public getValue(): string {\r\n    return this._value;\r\n  }\r\n\r\n  public getLine(): number {\r\n    return this._line;\r\n  }  \r\n  \r\n  \r\n  public getPos(): number {\r\n    return this._pos;\r\n  }\r\n}\r\n\r\nexport enum SeverityExp{\r\n  Warning,\r\n  Error\r\n}\r\n\r\nexport class ParseError{\r\n\r\n  private _pos: IPosition;\r\n  private _message: string;\r\n  private _severity: SeverityExp;\r\n\r\n  constructor(pos: IPosition, msg: string, severity: SeverityExp) {\r\n    this._pos = pos;\r\n    this._message = msg;\r\n    this._severity = severity;\r\n  }\r\n\r\n  public static Warning(pos: IPosition, msg: string): ParseError {\r\n    let message: string = msg;\r\n    if(pos.getLine() > 0) {\r\n      message = `>>>${pos.getLine()}${pos.getPos()}${msg}`;\r\n    }\r\n    return new ParseError(pos, message, SeverityExp.Warning);\r\n  }\r\n\r\n  public static Error(pos: IPosition, msg: string): ParseError {\r\n    let message: string = msg;\r\n    if(pos.getLine() > 0) {\r\n      message = `>>>${pos.getLine()}${pos.getPos()}${msg}`;\r\n    }\r\n    return new ParseError(pos, message, SeverityExp.Error);\r\n  }\r\n\r\n  public getPosition(): IPosition {\r\n    return this._pos;\r\n  }\r\n\r\n  public getMessage(): string {\r\n    return this._message;\r\n  }\r\n\r\n  public getSeverity(): SeverityExp {\r\n    return this._severity;\r\n  }\r\n\r\n  public toString(): string {\r\n    return `${this._severity.toString()}${this._message}`;\r\n  }\r\n\r\n}","import { Variable } from \"./variable\";\r\n\r\nexport class Scope {\r\n\r\n  private _parent: Scope | undefined = undefined;\r\n\r\n  private _context: { [key: string]: Variable } = {};\r\n\r\n  private static _root: Scope;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public static Create(): Scope {\r\n    let result: Scope = new Scope();\r\n    result._parent = Scope.GetRootScope();\r\n    return result;\r\n  }\r\n\r\n  public static GetRootScope(): Scope {\r\n    if (Scope._root === undefined) {\r\n      Scope._root = new Scope();\r\n      Scope._root.setVariable(\"PI\", 'number', Math.PI).makeConstant(Math.PI);\r\n      Scope._root.setVariable(\"EULER\", 'number', Math.E).makeConstant(Math.E);\r\n    }\r\n    return Scope._root;\r\n  }\r\n\r\n  public static CreateWithParent(parent: Scope): Scope {\r\n    let result: Scope = Scope.Create();\r\n    result._parent = parent;\r\n    return result;\r\n  }\r\n\r\n  public find(name: string): Variable | null {\r\n    if (this._context[name]) {\r\n      return this._context[name];\r\n    }\r\n    if (this._parent !== undefined) {\r\n      return this._parent.find(name);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  public setVariable(name: string, type: string, value: any): Variable {\r\n    let result: Variable | null = this.find(name);\r\n    if (result !== null) {\r\n      result.setType(type);\r\n      result.setValue(value);\r\n      return result;\r\n    }\r\n    return this.createVariable(name, type, value);\r\n  }\r\n\r\n  public createVariable(name: string, type: string, value: any): Variable {\r\n    if (this._context[name]) {\r\n      this._context[name].setType(type);\r\n      this._context[name].setValue(value);\r\n      return this._context[name];\r\n    }\r\n    let result: Variable = new Variable(name, type, value);\r\n    this._context[name] = result;\r\n    return result;\r\n  }\r\n\r\n\r\n  public setValue(name: string, value: any): void {\r\n    if (this._context[name]) {\r\n      this._context[name].setValue(value);\r\n    }\r\n  }\r\n\r\n  public isCreated(name: string): boolean {\r\n    if (this._context[name]) {\r\n      return true;\r\n    }\r\n    if (this._parent !== undefined) {\r\n      if (this._parent.find(name) !== null) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public clear(): void {\r\n    this._context = {};\r\n  }\r\n\r\n}","import { IPosition } from \"./positions\";\r\nimport { ExpressionType } from \"./expressionEnum\";\r\nimport { ExpChar } from \"./expChar\";\r\n\r\nexport class Token implements IPosition {\r\n\r\n  public type: ExpressionType = ExpressionType.STRING;\r\n\r\n  private _source: string = '';\r\n  private _contents: string = '';\r\n  private _trigger: string = '';\r\n\r\n  private _line: number = 0;\r\n  private _pos: number = 0;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public static Create(type: ExpressionType, pos: IPosition): Token {\r\n    let result: Token = new Token();\r\n    result.type = type;\r\n    result._line = pos.getLine();\r\n    result._pos = pos.getPos();\r\n    return result;\r\n  }\r\n\r\n  public static CreateAndFill(type: ExpressionType, ch: ExpChar): Token {\r\n    let result: Token = new Token();\r\n    result.type = type;\r\n    result._line = ch.getLine();\r\n    result._pos = ch.getPos();\r\n    result._contents = ch.getValue();\r\n    result._trigger = ch.getValue();\r\n    result._source = ch.toString();\r\n    return result;\r\n  }\r\n\r\n  public addToTrigger(ch: ExpChar): Token {\r\n    this._trigger += ch.getValue();\r\n    this._source += ch.getValue();\r\n    return this;\r\n  }\r\n\r\n  public addToSource(ch: ExpChar): Token {\r\n    this._source += ch.getValue();\r\n    return this;\r\n  }\r\n\r\n  public addToContentChar(ch: ExpChar): Token {\r\n    this.addToContent(ch.getValue());\r\n    return this;\r\n  }\r\n\r\n  public addToContent(ch: string): Token {\r\n    this._contents += ch;\r\n    this._source += ch;\r\n    return this;\r\n  }\r\n\r\n  public getTrigger(): string {\r\n    return this._trigger;\r\n  }\r\n\r\n  public getTokenType(): ExpressionType {\r\n    return this.type;\r\n  }\r\n\r\n  public getContents(): string {\r\n    return this._contents;\r\n  }\r\n\r\n  public getSource(): string {\r\n    return this._source;\r\n  }\r\n\r\n  public getLine(): number {\r\n    return this._line;\r\n  }\r\n\r\n  public getPos(): number {\r\n    return this._pos;\r\n  }\r\n\r\n  public setTokenType(new_type: ExpressionType): void {\r\n    this.type = new_type;\r\n  }\r\n\r\n  public setTrigger(trigger: string): void {\r\n    this._trigger = trigger;\r\n  }\r\n\r\n  public setContent(content: string): void {\r\n    this._contents = content;\r\n  }\r\n\r\n  public setSource(source: string): void {\r\n    this._source = source;\r\n  }\r\n\r\n  public isEnd(): boolean {\r\n    return this.type === ExpressionType.EOI;\r\n  }\r\n\r\n  public is(type: ExpressionType): boolean {\r\n    return this.type === type;\r\n  }\r\n\r\n  public matches(type: ExpressionType, trigger: string): boolean {\r\n    if (!this.is(type)) {\r\n      return false;\r\n    }\r\n    if (trigger === '') {\r\n      return false;\r\n    }\r\n    return this.getTrigger() === trigger;\r\n  }\r\n\r\n  public isOperator(symbols: string): boolean {\r\n    if (symbols.length === 0) {\r\n      return this.is(ExpressionType.OPERATOR);\r\n    }\r\n    for (let i: number = 0; i < symbols.length; i++) {\r\n      if (this.matches(ExpressionType.OPERATOR, symbols[i])) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public isStartBracket(): boolean {\r\n    if (this.is(ExpressionType.OPERATOR)) {\r\n      if (this._trigger === '(' || this._trigger === '') {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public isEndBracket(): boolean {\r\n    if (this.is(ExpressionType.OPERATOR)) {\r\n      if (this._trigger === ')' || this._trigger === '') {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public isStartSquareBracket(): boolean {\r\n    if (this.is(ExpressionType.OPERATOR)) {\r\n      if (this._trigger === '[' || this._trigger === '') {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public isEndSquareBracket(): boolean {\r\n    if (this.is(ExpressionType.OPERATOR)) {\r\n      if (this._trigger === ']' || this._trigger === '') {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public isStartBrace(): boolean {\r\n    if (this.is(ExpressionType.OPERATOR)) {\r\n      if (this._trigger === '{') {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public isEndBrace(): boolean {\r\n    if (this.is(ExpressionType.OPERATOR)) {\r\n      if (this._trigger === '}') {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public isKeyword(...keywords: string[]): boolean {\r\n    if (keywords.length === 0) {\r\n      return this.is(ExpressionType.KEYWORD);\r\n    }\r\n    for (let i: number = 0; i < keywords.length; i++) {\r\n      if (this.matches(ExpressionType.KEYWORD, keywords[i])) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public isIdentifier(...values: string[]): boolean {\r\n    if (values.length === 0) {\r\n      return this.is(ExpressionType.ID);\r\n    }\r\n    for (let i: number = 0; i < values.length; i++) {\r\n      if (this.matches(ExpressionType.ID, values[i])) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public isSpecialIdentifier(...triggers: string[]): boolean {\r\n    if (triggers.length === 0) {\r\n      return this.is(ExpressionType.SPECIAL_ID);\r\n    }\r\n    for (let i: number = 0; i < triggers.length; i++) {\r\n      if (this.matches(ExpressionType.SPECIAL_ID, triggers[i])) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public isSpecialIdentifierWithContent(trigger: string, ...contents: string[]): boolean {\r\n    if (!this.matches(ExpressionType.SPECIAL_ID, trigger)) {\r\n      return false;\r\n    }\r\n    if (contents.length === 0) {\r\n      return true;\r\n    }\r\n    for (let i: number = 0; i < contents.length; i++) {\r\n      if (this.getContents() === contents[i]) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public isNumber(): boolean {\r\n    return this.is(ExpressionType.NUMBER);\r\n  }\r\n\r\n  public isBool(): boolean {\r\n    return this.is(ExpressionType.BOOL);\r\n  }\r\n\r\n  public isString(): boolean {\r\n    return this.is(ExpressionType.STRING);\r\n  }\r\n\r\n  public isConstant(): boolean {\r\n    return this.isNumber() || this.isBool() || this.isString();\r\n  }\r\n\r\n  public toString(): string {\r\n    return this.getTokenType().toString() + ': ' + this.getContents() + ' (' + this._line + ': ' + this._pos + '), Trigger: ' + this.getTrigger();\r\n  }\r\n\r\n\r\n\r\n\r\n}","import { ForwardQuery } from \"./forwardQuery\";\r\nimport { ExpChar } from \"./expChar\";\r\n\r\nexport class TokenReader extends ForwardQuery<ExpChar> {\r\n\r\n  private _inputExp: string = '';\r\n  private _line: number = 1;\r\n  private _pos: number = 0;\r\n  private _count: number = 0;\r\n  private _operator: number = 0;\r\n\r\n  constructor(input_exp: string) {\r\n    super();\r\n    if (input_exp === '') {\r\n\r\n    }\r\n    this._inputExp = input_exp;\r\n    this._count = input_exp.length;\r\n    this._operator = 0;\r\n  }\r\n\r\n  protected endOfInput(): ExpChar {\r\n    return new ExpChar('\\0', this._line, this._pos);\r\n  }\r\n\r\n\r\n  protected fetch(): ExpChar | undefined {\r\n    if (this._operator <= this._count - 1) {\r\n      let readChar: string = this._inputExp[this._operator];\r\n      this._operator++;\r\n      if (readChar === '\\n') {\r\n        this._line++;\r\n        this._pos = 0;\r\n      }\r\n      this._pos++;\r\n      return new ExpChar(readChar, this._line, this._pos);\r\n    } else {\r\n      return undefined;\r\n    }\r\n  }\r\n\r\n  public toString(): string {\r\n    if (this.itemBuffer.length === 0) {\r\n      return this._line + ':' + this._pos + ': Buffer empty';\r\n    }\r\n    if (this.itemBuffer.length < 2) {\r\n      return this._line + ':' + this._pos + ': ' + this.current().toString();\r\n    }\r\n    return this._line + ':' + this._pos + ': ' + this.current().toString() + ', ' + this.next().toString();\r\n  }\r\n\r\n}","import { ForwardQuery } from \"./forwardQuery\";\r\nimport { Token } from \"./token\";\r\nimport { TokenReader } from \"./tokenReader\";\r\nimport { ExpressionType } from \"./expressionEnum\";\r\nimport { ParseError, IPosition } from \"./positions\";\r\nimport { ExpChar } from \"./expChar\";\r\n\r\nexport class Tokenizer extends ForwardQuery<Token> {\r\n\r\n  private _inputExp: TokenReader;\r\n\r\n  private _decimalSeparator: string = '.';\r\n  private _lineComment: string = '//';\r\n  private _blockCommentStart: string = '/*';\r\n  private _blockCommentEnd: string = '*/';\r\n  private _brackets: string[] = ['(', ')', '', '', '[', ']', '{', '}', '', ''];\r\n  private _treatSinglePipeAsBracket: boolean = true;\r\n  private _specialIdStarters: string[] = [];\r\n  private _specialIdTerminators: string[] = [];\r\n  private _keywords: { [key: string]: string } = {};\r\n  private _keywordsCaseSensitive: boolean = false;\r\n  private _stringDelimiters: { [key: string]: string } = {};\r\n  private _boolConstant: string[] = [];\r\n\r\n  constructor(input_exp: string) {\r\n    super();\r\n    this._inputExp = new TokenReader(input_exp);\r\n    this._stringDelimiters = {};\r\n    this._stringDelimiters['\\\"'] = '\\\\';\r\n    this._stringDelimiters['\\''] = '\\0';\r\n    this._boolConstant = [];\r\n    this._boolConstant.push('false');\r\n    this._boolConstant.push('true');\r\n    this._keywords = {};\r\n    this._keywords['this'] = 'this';\r\n    this._keywords['null'] = 'null';\r\n    this._keywords['none'] = 'none';\r\n    this._keywords['undefined'] = 'undefined';\r\n  }\r\n\r\n  public endOfInput(): Token {\r\n    return Token.CreateAndFill(ExpressionType.EOI, this._inputExp.current());\r\n  }\r\n\r\n  public fetch(): Token | undefined {\r\n    // \r\n    while (this._inputExp.current().isWhiteSpace()) {\r\n      this._inputExp.consume();\r\n    }\r\n\r\n    // \r\n    if (this._inputExp.current().isEndOfInput()) {\r\n      return undefined;\r\n    }\r\n\r\n    // \r\n    if (this.isAtStartOfLineComment(true)) {\r\n      this.skipToEndOfLine();\r\n      return this.fetch();\r\n    }\r\n\r\n    // \r\n    if (this.isAtStartOfBlockComment(true)) {\r\n      this.skipBlockComment();\r\n      return this.fetch();\r\n    }\r\n\r\n    // \r\n    if (this.isAtStartOfNumber()) {\r\n      return this.fetchNumber();\r\n    }\r\n\r\n    // \r\n    if (this.isAtStartOfIdentifier()) {\r\n      return this.fetchId();\r\n    }\r\n\r\n    // \r\n    if (this._stringDelimiters[this._inputExp.current().getValue()]) {\r\n      return this.fetchString();\r\n    }\r\n\r\n    //\r\n    if (this.isAtBracket(false)) {\r\n      return Token.CreateAndFill(ExpressionType.OPERATOR, this._inputExp.consume());\r\n    }\r\n\r\n    // ID$Test$\r\n    if (this.isAtStartOfSpecialId()) {\r\n      return this.fetchSpecialId();\r\n    }\r\n\r\n    // \r\n    if (this.isOperator(this._inputExp.current())) {\r\n      return this.fetchOperator();\r\n    }\r\n\r\n    //\r\n    this.problemCollector.push(ParseError.Error(this._inputExp.current(), \": \" + this._inputExp.current().getValue()));\r\n\r\n    this._inputExp.consume();\r\n    return this.fetch();\r\n  }\r\n\r\n  private fetchNumber(): Token {\r\n    let result: Token = Token.Create(ExpressionType.NUMBER, this._inputExp.current());\r\n    result.addToContentChar(this._inputExp.consume());\r\n    let hasDecimal: boolean = false;\r\n    while (this._inputExp.current().isDigit() || this._inputExp.current().is(this._decimalSeparator)) {\r\n      if (this._inputExp.current().is(this._decimalSeparator)) {\r\n        if (hasDecimal) {\r\n          this.problemCollector.push(ParseError.Error(this._inputExp.current(), \"\"));\r\n        }\r\n        hasDecimal = true;\r\n        result.addToContentChar(this._inputExp.consume());\r\n      } else {\r\n        result.addToContentChar(this._inputExp.consume());\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  private fetchId(): Token {\r\n    let result: Token = Token.Create(ExpressionType.ID, this._inputExp.current());\r\n    result.addToContentChar(this._inputExp.consume());\r\n    while (this.isIdentifierChar(this._inputExp.current())) {\r\n      result.addToContentChar(this._inputExp.consume());\r\n    }\r\n    //UnityEngine.Debug.LogWarning(result.GetContents());\r\n    if (!this._inputExp.current().isEndOfInput() && this._specialIdTerminators.indexOf(this._inputExp.current().getValue()) > -1) {\r\n      let specialId: Token = Token.Create(ExpressionType.SPECIAL_ID, result);\r\n      specialId.setTrigger(this._inputExp.current().getValue());\r\n      specialId.setContent(result.getContents());\r\n      specialId.setSource(result.getContents());\r\n      specialId.addToSource(this._inputExp.current());\r\n      this._inputExp.consume();\r\n      return this.handleKeywords(specialId);\r\n    }\r\n    return this.handleKeywords(result);\r\n  }\r\n\r\n  private fetchString(): Token {\r\n    //\r\n    let separator: string = this._inputExp.current().getValue();\r\n    //\r\n    //char escapeChar = _stringDelimiters[_inputExp.current().GetValue()];\r\n    let result: Token = Token.Create(ExpressionType.STRING, this._inputExp.current());\r\n    result.addToTrigger(this._inputExp.consume());\r\n    while (!this._inputExp.current().isNewLine() && !this._inputExp.current().is(separator) && !this._inputExp.current().isEndOfInput()) {\r\n      result.addToContentChar(this._inputExp.consume());\r\n    }\r\n    if (this._inputExp.current().is(separator)) {\r\n      result.addToSource(this._inputExp.consume());\r\n    }\r\n    else {\r\n      this.problemCollector.push(ParseError.Error(this._inputExp.current(), \"\"));\r\n    }\r\n    return result;\r\n  }\r\n\r\n  private isAtStartOfLineComment(consume: boolean): boolean {\r\n    if (this._lineComment !== '') {\r\n      return this.canConsumeThisString(this._lineComment, consume);\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  private canConsumeThisString(check_string: string, consume: boolean): boolean {\r\n    for (let i: number = 0; i < check_string.length; i++) {\r\n      //next//\r\n      if (!(this._inputExp.nextOffset(i).is(check_string[i]))) {\r\n        return false;\r\n      }\r\n    }\r\n    if (consume) {\r\n      this._inputExp.consumeNext(check_string.length);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private skipToEndOfLine(): void {\r\n    while (!this._inputExp.current().isEndOfInput() && !this._inputExp.current().isNewLine()) {\r\n      this._inputExp.consume();\r\n    }\r\n  }\r\n\r\n  private isAtStartOfBlockComment(consume: boolean): boolean {\r\n    return this.canConsumeThisString(this._blockCommentStart, consume);\r\n  }\r\n\r\n  private skipBlockComment(): void {\r\n    while (!this._inputExp.current().isEndOfInput()) {\r\n      if (this.isAtEndOfBlockComment()) {\r\n        return;\r\n      }\r\n      this._inputExp.consume();\r\n    }\r\n    this.problemCollector.push(ParseError.Error(this._inputExp.current(), ''));\r\n  }\r\n\r\n  private isAtEndOfBlockComment(): boolean {\r\n    return this.canConsumeThisString(this._blockCommentEnd, true);\r\n  }\r\n\r\n  private isAtStartOfNumber(): boolean {\r\n    if (this._inputExp.current().isDigit()) {\r\n      return true;\r\n    } else if (this._inputExp.current().is('.') && this._inputExp.next().isDigit()) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  private isAtStartOfIdentifier(): boolean {\r\n    return this._inputExp.current().isLetter() || this._inputExp.current().is('_') || this._inputExp.current().is('#');\r\n  }\r\n\r\n  private isIdentifierChar(current: ExpChar): boolean {\r\n    return current.isDigit() || current.isLetter() || current.is('_') || current.is('.') || current.is('#') || current.is(':') || current.is('');\r\n  }\r\n\r\n  private isAtBracket(in_symbol: boolean): boolean {\r\n    let r: boolean = true;\r\n    for (let i: number = 0; i < this._brackets.length; i++) {\r\n      if (!this._inputExp.current().is(this._brackets[i])) {\r\n        r = false;\r\n      }\r\n    }\r\n    if (r) {\r\n      return true;\r\n    }\r\n    if (!in_symbol && this._treatSinglePipeAsBracket && this._inputExp.current().is('|') && this._inputExp.next().is('|')) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private isAtStartOfSpecialId(): boolean {\r\n    return this._specialIdStarters.indexOf(this._inputExp.current().getValue()) > -1;\r\n  }\r\n\r\n  private fetchSpecialId(): Token {\r\n    let result: Token = Token.Create(ExpressionType.SPECIAL_ID, this._inputExp.current());\r\n    result.addToTrigger(this._inputExp.consume());\r\n    while (this.isIdentifierChar(this._inputExp.current())) {\r\n      result.addToContentChar(this._inputExp.consume());\r\n    }\r\n    return this.handleKeywords(result);\r\n  }\r\n\r\n  private handleKeywords(id_token: Token): Token {\r\n    let keyword: string = \"\";\r\n    if (this._keywordsCaseSensitive) {\r\n      if (this._keywords[id_token.getContents()]) {\r\n        keyword = this._keywords[id_token.getContents()];\r\n      }\r\n    } else {\r\n      if (this._keywords[id_token.getContents().toLowerCase()]) {\r\n        keyword = this._keywords[id_token.getContents().toLowerCase()];\r\n      }\r\n    }\r\n    if (keyword != \"\") { //\r\n      let keywordToken: Token = Token.Create(ExpressionType.KEYWORD, id_token);\r\n      keywordToken.setTrigger(keyword);\r\n      keywordToken.setContent(id_token.getContents());\r\n      keywordToken.setSource(id_token.getSource());\r\n      return keywordToken;\r\n    } else if (!id_token.is(ExpressionType.SPECIAL_ID)) { //bool\r\n      keyword = id_token.getContents().toLowerCase();\r\n      if (this._boolConstant.indexOf(keyword) > -1) {\r\n        id_token.setTokenType(ExpressionType.BOOL);\r\n      }\r\n    }\r\n    return id_token;\r\n  }\r\n\r\n  private isOperator(ch: ExpChar): boolean {\r\n    if (ch.isEndOfInput() || ch.isDigit() || ch.isLetter() || ch.isWhiteSpace()) {\r\n      return false;\r\n    }\r\n\r\n    // let c: string = ch.getValue();\r\n    // if (char.IsControl(c)) {\r\n    // \treturn false;\r\n    // }\r\n\r\n    if (this.isAtBracket(true) || this.isAtStartOfBlockComment(false) || this.isAtStartOfLineComment(false) || this.isAtStartOfNumber() || this.isAtStartOfIdentifier() || this._stringDelimiters[ch.getValue()]) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private fetchOperator(): Token {\r\n    let result: Token = Token.Create(ExpressionType.OPERATOR, this._inputExp.current());\r\n    result.addToTrigger(this._inputExp.consume());\r\n    if (result.isOperator(\"*\") && this._inputExp.current().is('*')) {\r\n      result.addToTrigger(this._inputExp.consume());\r\n    }\r\n    else if (result.isOperator(\"&\") && this._inputExp.current().is('&')) {\r\n      result.addToTrigger(this._inputExp.consume());\r\n    }\r\n    else if (result.isOperator(\"|\") && this._inputExp.current().is('|')) {\r\n      result.addToTrigger(this._inputExp.consume());\r\n    }\r\n    else if (result.isOperator(\"<\") && this._inputExp.current().is('=')) {\r\n      result.addToTrigger(this._inputExp.consume());\r\n    }\r\n    else if (result.isOperator(\">\") && this._inputExp.current().is('=')) {\r\n      result.addToTrigger(this._inputExp.consume());\r\n    }\r\n    else if (result.isOperator(\"!\") && this._inputExp.current().is('=')) {\r\n      result.addToTrigger(this._inputExp.consume());\r\n    }\r\n    else if (result.isOperator(\"=\") && this._inputExp.current().is('=')) {\r\n      result.addToTrigger(this._inputExp.consume());\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public addError(pos: IPosition, msg: string): void {\r\n    this.getProblemCollector().push(ParseError.Error(pos, msg));\r\n  }\r\n\r\n  public addWarning(pos: IPosition, msg: string): void {\r\n    this.getProblemCollector().push(ParseError.Warning(pos, msg));\r\n  }\r\n\r\n\r\n\r\n}","export class Variable {\r\n\r\n  public get expType(): string {\r\n    return this._expType;\r\n  }\r\n  private _expType: string = 'string';\r\n\r\n  private _value: any = null;\r\n\r\n  private _name: string = '';\r\n\r\n  private _constant: boolean = false;\r\n\r\n  constructor(name: string, type: string, value: any) {\r\n    this._name = name;\r\n    this._expType = type;\r\n    this._value = value;\r\n  }\r\n\r\n  public setType(type: string): void {\r\n    if(!this._constant) {\r\n      this._expType = type;\r\n    }\r\n  }\r\n\r\n  public setValue(value: any): void {\r\n    if(!this._constant) {\r\n      this._value = value;\r\n    }\r\n  }\r\n\r\n  public makeConstant(value: any): void {\r\n    this.setValue(value);\r\n    this._constant = true;\r\n  }\r\n\r\n  public getValue(): any {\r\n    return this._value;\r\n  }\r\n\r\n  public getName(): string {\r\n    return this._name;\r\n  }\r\n\r\n  public isConstant(): boolean {\r\n    return this._constant;\r\n  }\r\n\r\n  public toString(): string {\r\n    return `Type: ${this._expType} --- ${this._name}: ${this._value.toString()}`;\r\n  }\r\n\r\n}","import { IExpression } from \"./expressions\";\r\nimport { Variable } from \"./variable\";\r\n\r\nexport class VariableExpression implements IExpression {\r\n\r\n  public get expType(): string {\r\n    return this._value.expType;\r\n  }  \r\n\r\n  public get className(): string {\r\n    return 'VariableExpression';\r\n  }\r\n\r\n  private _value: Variable;\r\n  \r\n  constructor(value: Variable) {\r\n    this._value = value;\r\n  }\r\n  \r\n  public evaluate(): any {\r\n    return this._value.getValue();\r\n  }\r\n\r\n  public toString(): string {\r\n    return this._value.getName();\r\n  }\r\n\r\n  public clone(): IExpression {\r\n    let expClone: VariableExpression = new VariableExpression(this._value);\r\n    return expClone;\r\n  }\r\n  \r\n\r\n}","import { Scope } from \"./scope\";\r\nimport { ErrorInfo } from \"../utility\";\r\nimport { IExpression, VeryVarExpression, VeryTemplateExpression } from \"./expressions\";\r\nimport { VE_ExpressionParsing } from \"./expressionParsing\";\r\nimport { VariableScope } from \"../enum\";\r\nimport { ParseError } from \"./positions\";\r\nimport { VerySceneVariables } from \"../scene\";\r\nimport { IVeryVar, VE_Variables } from \"../variables\";\r\nimport { VE_Manager } from \"../manager\";\r\nimport { StateConst } from \"../state\";\r\nimport { VE_Objects, VeryEngineObject } from \"../object\";\r\nimport { Variable } from \"./variable\";\r\nimport { VE_Template } from \"../template\";\r\n\r\n\r\nexport class VE_Expressions {\r\n\r\n  public static _scope: Scope = Scope.Create();\r\n\r\n  // 1 - \r\n  // 2 -  + \r\n  // 3 -  +  +  + \r\n  // 4 -  +  +  + \r\n  // 5 -  +  +  + bool\r\n  // 6 - \r\n\r\n\r\n  // TODO == GameObject\r\n  // \r\n  public static createSceneExpression(name_id: string, expression_str: string, error_info: ErrorInfo): IExpression {\r\n    let sceneExp: IExpression = VE_ExpressionParsing.parsing(name_id, expression_str, VE_Expressions._scope, '', '', '', VariableScope.Scene);\r\n    if (VE_ExpressionParsing.errors.length > 0) {\r\n      error_info.isRight = false;\r\n      error_info.message = VE_Expressions.errorMessage(VE_ExpressionParsing.errors);\r\n    }\r\n    return sceneExp;\r\n  }\r\n\r\n  // \r\n  public static createGlobalExpression(name_id: string, expression_str: string, project_name: string, error_info: ErrorInfo): IExpression {\r\n    let globalExp: IExpression = VE_ExpressionParsing.parsing(name_id, expression_str, VE_Expressions._scope, project_name, '', '', VariableScope.Global);\r\n    if (VE_ExpressionParsing.errors.length > 0) {\r\n      error_info.isRight = false;\r\n      error_info.message = VE_Expressions.errorMessage(VE_ExpressionParsing.errors);\r\n    }\r\n    return globalExp;\r\n  }\r\n\r\n  // \r\n  public static createLocalExpression(name_id: string, expression_str: string, project_name: string, object_id: string, error_info: ErrorInfo): IExpression {\r\n    let localExp: IExpression = VE_ExpressionParsing.parsing(name_id, expression_str, VE_Expressions._scope, project_name, object_id, '', VariableScope.Local);\r\n    if (VE_ExpressionParsing.errors.length > 0) {\r\n      error_info.isRight = false;\r\n      error_info.message = VE_Expressions.errorMessage(VE_ExpressionParsing.errors);\r\n    }\r\n    return localExp;\r\n  }\r\n\r\n  // \r\n  public static createFsmExpression(name_id: string, expression_str: string, project_name: string, object_id: string, fsm_id: string, error_info: ErrorInfo): IExpression {\r\n    let fsmExp: IExpression = VE_ExpressionParsing.parsing(name_id, expression_str, VE_Expressions._scope, project_name, object_id, fsm_id, VariableScope.Fsm);\r\n    if (VE_ExpressionParsing.errors.length > 0) {\r\n      error_info.isRight = false;\r\n      error_info.message = VE_Expressions.errorMessage(VE_ExpressionParsing.errors);\r\n    }\r\n    return fsmExp;\r\n  }\r\n\r\n\r\n  // \r\n  public static getParseExpression(project_name: string, object_id: string, var_id: string, var_scope: VariableScope): Nullable<IExpression> {\r\n    // TODO: \r\n    // .*\r\n    if (var_id.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n      let varArray: string[] = var_id.split(StateConst.STATE_SEPARATOR);\r\n      if (varArray.length !== 2) {\r\n        return null;\r\n      } else {\r\n        object_id = varArray[0].trim();\r\n        var_id = varArray[1].trim().substring(1);\r\n        if (var_scope === VariableScope.Local || var_scope === VariableScope.Fsm) {\r\n          //  +  +  + \r\n          // 1. \r\n          // 2. \r\n          // 3. \r\n          // 4. \r\n          let objects: VE_Objects = VE_Manager.objects(project_name);\r\n          if (!objects) {\r\n            return null;\r\n          } else {\r\n            let veryObject: VeryEngineObject = objects.getVeryObject(object_id);\r\n            if (!veryObject) {\r\n              return null;\r\n            } else {\r\n              // \r\n              if (veryObject.isCreatedVariable(var_id)) {\r\n                let v: IVeryVar = veryObject.getVariable(var_id);\r\n                return new VeryVarExpression(v);\r\n              }\r\n              // \r\n              else if (veryObject.isCreatedExpression(var_id)) {\r\n                return veryObject.getExpression(var_id);\r\n              }\r\n              // \r\n              else if (veryObject.isCreatedFsm(var_id)) {\r\n                let v: IVeryVar = veryObject.getFsm(var_id).fsmVar;\r\n                return new VeryVarExpression(v);\r\n              }\r\n              else {\r\n                // \r\n                return null;\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n    }\r\n    // *\r\n    else {\r\n      if (var_id.startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n        var_id = var_id.substring(1);\r\n        if (var_scope === VariableScope.Local || var_scope === VariableScope.Fsm) {\r\n          //  +  +  + \r\n          // 1. \r\n          // 2. \r\n          // 3. \r\n          // 4. \r\n          let objects: VE_Objects = VE_Manager.objects(project_name);\r\n          if (!objects) {\r\n            return null;\r\n          } else {\r\n            let veryObject: VeryEngineObject = objects.getVeryObject(object_id);\r\n            if (!veryObject) {\r\n              return null;\r\n            } else {\r\n              //\r\n              if (veryObject.isCreatedVariable(var_id)) {\r\n                let v: IVeryVar = veryObject.getVariable(var_id);\r\n                return new VeryVarExpression(v);\r\n              }\r\n              //\r\n              else if (veryObject.isCreatedExpression(var_id)) {\r\n                return veryObject.getExpression(var_id);\r\n              }\r\n              //\r\n              else if (veryObject.isCreatedFsm(var_id)) {\r\n                let v: IVeryVar = veryObject.getFsm(var_id).fsmVar;\r\n                return new VeryVarExpression(v);\r\n              }\r\n              else {\r\n                //\r\n                return this.getParseGlobal(project_name, var_id);\r\n              }\r\n            }\r\n          }\r\n        } else if (var_scope === VariableScope.Global) {\r\n          // \r\n          return this.getParseGlobal(project_name, var_id);\r\n        } else {\r\n          // \r\n          return this.getParseScene(var_id);\r\n        }\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n  private static getParseGlobal(project_name: string, var_id: string): Nullable<IExpression> {\r\n    // \r\n    let variables: VE_Variables = VE_Manager.variables(project_name);\r\n    if (!variables) {\r\n      return null;\r\n    } else {\r\n      if (variables.isCreatedVariable(var_id)) {\r\n        let v: IVeryVar = variables.getVariable(var_id);\r\n        return new VeryVarExpression(v);\r\n      } else if (variables.isCreatedExpression(var_id)) {\r\n        return variables.getExpression(var_id);\r\n      } else {\r\n        // \r\n        return this.getParseScene(var_id);\r\n      }\r\n    }\r\n  }\r\n\r\n  // \r\n  private static getParseScene(var_id: string): Nullable<IExpression> {\r\n    // \r\n    if (VerySceneVariables.Variables.isCreated(var_id)) {\r\n      let v: IVeryVar = VerySceneVariables.Variables.getVariable(var_id);\r\n      return new VeryVarExpression(v);\r\n    } else if (VerySceneVariables.Variables.isCreatedExpression(var_id)) {\r\n      return VerySceneVariables.Variables.getExpression(var_id);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  private static errorMessage(errors: ParseError[]): string {\r\n    let errorStr: string = '';\r\n    for (let i: number = 0; i < errors.length; i++) {\r\n      errorStr += errors[i].getMessage() + ';\\n';\r\n    }\r\n    return errorStr;\r\n  }\r\n\r\n\r\n  public static getTemplateExpression(project_name: string, object_id: string, var_id: string, var_scope: VariableScope): Nullable<VeryTemplateExpression> {\r\n    // .*\r\n    if (var_id.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n      let varArray: string[] = var_id.split(StateConst.STATE_SEPARATOR);\r\n      if (varArray.length !== 2) {\r\n        //error_info = \".*ID\" + var_id + \"\";\r\n        return null;\r\n      }\r\n      else {\r\n        object_id = varArray[0].trim();\r\n        var_id = varArray[1].trim().substring(1);\r\n        if (var_scope === VariableScope.Local || var_scope === VariableScope.Fsm) {\r\n          let objects: VE_Objects = VE_Manager.objects(project_name);\r\n          if (!objects) {\r\n            return null;\r\n          }\r\n          else {\r\n            let veryObject: VeryEngineObject = objects.getVeryObject(object_id);\r\n            if (!veryObject) {\r\n              return null;\r\n            }\r\n            else {\r\n              // \r\n              if (veryObject.isCreatedTemplate(var_id)) {\r\n                let template: VE_Template = veryObject.getTemplate(var_id);\r\n                let r = new VeryTemplateExpression();\r\n                r.setTemplate(template);\r\n                return r;\r\n              }\r\n              else {\r\n                // \r\n                return null;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          return null;\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      // *\r\n      if (var_id.startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n        var_id = var_id.substring(1);\r\n        if (var_scope === VariableScope.Local || var_scope === VariableScope.Fsm) {\r\n          let objects: VE_Objects = VE_Manager.objects(project_name);\r\n          if (!objects) {\r\n            return null;\r\n          }\r\n          else {\r\n            let veryObject: VeryEngineObject = objects.getVeryObject(object_id);\r\n            if (!veryObject) {\r\n              return null;\r\n            }\r\n            else {\r\n              // \r\n              if (veryObject.isCreatedTemplate(var_id)) {\r\n                let template: VE_Template = veryObject.getTemplate(var_id);\r\n                let r: VeryTemplateExpression = new VeryTemplateExpression();\r\n                r.setTemplate(template);\r\n                return r;\r\n              }\r\n              else {\r\n                // \r\n                let variables: VE_Variables = VE_Manager.variables(project_name);\r\n                if (!variables) {\r\n                  return null;\r\n                }\r\n                else {\r\n                  if (variables.isCreatedTemplate(var_id)) {\r\n                    let template: VE_Template = variables.getTemplate(var_id);\r\n                    let r: VeryTemplateExpression = new VeryTemplateExpression();\r\n                    r.setTemplate(template);\r\n                    return r;\r\n                  }\r\n                  else {\r\n                    // \r\n                    return null;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        else if (var_scope === VariableScope.Global) {\r\n          // \r\n          let variables: VE_Variables = VE_Manager.variables(project_name);\r\n          if (!variables) {\r\n            return null;\r\n          }\r\n          else {\r\n            if (variables.isCreatedTemplate(var_id)) {\r\n              let template: VE_Template = variables.getTemplate(var_id);\r\n              let r: VeryTemplateExpression = new VeryTemplateExpression();\r\n              r.setTemplate(template);\r\n              return r;\r\n            }\r\n            else {\r\n              //\r\n              return null;\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          return null;\r\n        }\r\n      }\r\n      else {\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n","import { Severity } from \"../enum\";\r\n\r\nexport class VE_Error {\r\n  private _pos: string = '';\r\n  private _message: string = '';\r\n  private _tableName: string = '';\r\n  private _severity: Severity = Severity.Error;\r\n\r\n  /**\r\n   * \r\n   * @param pos \r\n   * @param message \r\n   * @param table_name \r\n   * @param severity \r\n   */\r\n  constructor(pos: string, message: string, table_name: string, severity: Severity) {\r\n    this._pos = pos;\r\n    this._message = message;\r\n    this._severity = severity;\r\n    this._tableName = table_name;\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param pos \r\n   * @param msg \r\n   * @param table_name \r\n   */\r\n  public static warning(pos: string, msg: string, table_name: string): VE_Error {\r\n    return new VE_Error(pos, msg, table_name, Severity.Warning);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param pos \r\n   * @param msg \r\n   * @param table_name \r\n   */\r\n  public static error(pos: string, msg: string, table_name: string): VE_Error {\r\n    return new VE_Error(pos, msg, table_name, Severity.Error);\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public getPos(): string {\r\n    return this._pos;\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public getMessage(): string {\r\n    return this._message;\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public getTableName(): string {\r\n    return this._tableName;\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public getSeverity(): Severity {\r\n    return this._severity;\r\n  }\r\n\r\n  public toString(): string {\r\n    return \"\" + this._pos + \"\" + this._message + \"\" + this._tableName;\r\n  }\r\n}\r\n\r\n\r\nexport class VE_ErrorManager {\r\n\r\n  private static _errorList: VE_Error[] = [];\r\n\r\n  /// <summary>\r\n  /// \r\n  /// </summary>\r\n  public static get count() {\r\n    return this._errorList.length;\r\n  }\r\n\r\n  /// <summary>\r\n  /// \r\n  /// </summary>\r\n  /// <param name=\"error\"></param>\r\n  public static add(error: VE_Error): void {\r\n    this._errorList.push(error);\r\n  }\r\n\r\n  /// <summary>\r\n  /// \r\n  /// </summary>\r\n  /// <param name=\"index\"></param>\r\n  /// <returns></returns>\r\n  public static getError(index: number): VE_Error {\r\n    return this._errorList[index];\r\n  }\r\n\r\n  /// <summary>\r\n  /// TODO: \r\n  /// </summary>\r\n  /// <param name=\"prefix\"></param>\r\n  public static print(prefix?: string): void {\r\n    if (prefix) {\r\n      for (let i: number = 0; i < this._errorList.length; i++) {\r\n        if (this._errorList[i].getSeverity() === Severity.Error) {\r\n          console.log('' + prefix + \" -> \" + this._errorList[i].toString());\r\n          this._errorList.splice(i, 1);\r\n          i--;\r\n        }\r\n        else if (this._errorList[i].getSeverity() === Severity.Warning) {\r\n          console.log('' + prefix + \" -> \" + this._errorList[i].toString());\r\n          this._errorList.splice(i, 1);\r\n          i--;\r\n        }\r\n      }\r\n    } else {\r\n      for (let i: number = 0; i < this._errorList.length; i++) {\r\n        if (this._errorList[i].getSeverity() === Severity.Error) {\r\n          console.log('' + this._errorList[i].toString());\r\n          this._errorList.splice(i, 1);\r\n          i--;\r\n        }\r\n        else if (this._errorList[i].getSeverity() === Severity.Warning) {\r\n          console.log('' + this._errorList[i].toString());\r\n          this._errorList.splice(i, 1);\r\n          i--;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /// <summary>\r\n  /// \r\n  /// </summary>\r\n  /// <param name=\"prefix\"></param>\r\n  public static printWarnning(prefix?: string): void {\r\n    if (prefix) {\r\n      for (let i: number = 0; i < this._errorList.length; i++) {\r\n        if (this._errorList[i].getSeverity() === Severity.Warning) {\r\n          console.log('' + prefix + \" -> \" + this._errorList[i].toString());\r\n          this._errorList.splice(i, 1);\r\n          i--;\r\n        }\r\n      }\r\n    } else {\r\n      for (let i: number = 0; i < this._errorList.length; i++) {\r\n        if (this._errorList[i].getSeverity() === Severity.Warning) {\r\n          console.log('' + this._errorList[i].toString());\r\n          this._errorList.splice(i, 1);\r\n          i--;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /// <summary>\r\n  /// \r\n  /// </summary>\r\n  /// <param name=\"prefix\"></param>\r\n  public static printError(prefix: string): void {\r\n    if (prefix) {\r\n      for (let i: number = 0; i < this._errorList.length; i++) {\r\n        if (this._errorList[i].getSeverity() === Severity.Error) {\r\n          console.log('' + prefix + \" -> \" + this._errorList[i].toString());\r\n          this._errorList.splice(i, 1);\r\n          i--;\r\n        }\r\n      }\r\n    } else {\r\n      for (let i: number = 0; i < this._errorList.length; i++) {\r\n        if (this._errorList[i].getSeverity() === Severity.Error) {\r\n          console.log('' + prefix + \" -> \" + this._errorList[i].toString());\r\n          this._errorList.splice(i, 1);\r\n          i--;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}","export class GameGlobal {\r\n\r\n  \r\n  public static PlatformLoaded: boolean = false;\r\n  \r\n\r\n}","export * from './gameGlobal';\r\nexport * from './time';\r\nexport * from './errorManager';","import { VeryEngine } from \"../veryEngine\";\r\n\r\nexport class Time {\r\n  \r\n  public static get frameCount(): number {\r\n    return this._frame;\r\n  }\r\n  private static _frame: number = 0;\r\n\r\n\r\n  public static get deltaTime(): number {\r\n    // return 1.0 / GameGlobal.Engine.getFps();\r\n    return VeryEngine.Engine.getDeltaTime() / 1000;\r\n  }\r\n\r\n  public static _sum(): void {\r\n    this._frame++;\r\n  }\r\n}","export * from './showError';","export class ShowError {\r\n\r\n  public static errorContentPrefix: string = '<div class=\"alert alert-error\"><button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>';\r\n  public static errorContentNow: string;\r\n  public static errorZone: HTMLElement;\r\n\r\n  public static initZone(): void {\r\n    if (!this.errorZone) {\r\n      this.errorZone = document.getElementById(\"errorZone\")!;\r\n    }\r\n  }\r\n  /**\r\n   * \r\n   * TODO: logerrorwarn\r\n   * @param error_msg \r\n   */\r\n  private static showMsg(prefix: string, error_msg: string): void {\r\n    this.initZone();\r\n    if (!this.errorContentNow) {\r\n      this.errorContentNow = this.errorContentPrefix;\r\n    }\r\n    this.errorContentNow += prefix + error_msg + \"<br/>\";\r\n    this.errorZone.style.display = \"block\";\r\n    this.errorZone.innerHTML = this.errorContentNow + '</div>';\r\n    // Close button error\r\n    let closeBtn = this.errorZone.querySelector(\".close\")!;\r\n    let that = this;\r\n    closeBtn.addEventListener(\"click\", function () {\r\n      that.errorZone.style.display = \"none\";\r\n    });\r\n  }\r\n\r\n  public static show(error_msg: string): void {\r\n    this.showMsg('>>>', error_msg);\r\n  }\r\n\r\n  public static showError(error_msg: string): void {\r\n    this.showMsg('>>>', error_msg);\r\n  }\r\n\r\n  public static showWarn(error_msg: string): void {\r\n    this.showMsg('>>>', error_msg);\r\n  }\r\n\r\n  public static clear(): void {\r\n    ShowError.initZone();\r\n    ShowError.errorContentNow = ShowError.errorContentPrefix;\r\n    ShowError.errorZone.innerHTML = ShowError.errorContentNow + '</div>';\r\n    // Close button error\r\n    let closeBtn = ShowError.errorZone.querySelector(\".close\")!;\r\n    let that = ShowError;\r\n    closeBtn.addEventListener(\"click\", function () {\r\n      that.errorZone.style.display = \"none\";\r\n    });\r\n  }\r\n\r\n  public static close(): void {\r\n    ShowError.initZone();\r\n    if(ShowError.errorZone.style.display === \"none\") {\r\n      ShowError.errorZone.style.display = \"block\";\r\n    } else {\r\n      ShowError.errorZone.style.display = \"none\";\r\n    }\r\n  }\r\n}","export * from './utility/index';\r\n\r\nexport * from './action/index';\r\nexport * from './dataSource/index';\r\nexport * from './enum/index';\r\nexport * from './expression/index';\r\nexport * from './global/index';\r\nexport * from './html/index';\r\nexport * from './manager/index';\r\nexport * from './object/index';\r\nexport * from './state/index';\r\nexport * from './template/index';\r\nexport * from './trigger/index';\r\nexport * from './loader/index';\r\n\r\nexport * from './variables/index';\r\nexport * from './scene/index';\r\n\r\nexport * from '../verytable/index';\r\n\r\nexport * from './library/action/index';\r\nexport * from './library/trigger/index';\r\n","export * from './translate';","import { VE_ActionBehaviour } from '../../index';\r\n\r\nexport class Action_Translate extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return '|Translate';\r\n  }  \r\n\r\n  private _refType: BABYLON.Space = BABYLON.Space.LOCAL;\r\n\r\n  \r\n\r\n  \r\n  public active(): void {\r\n    \r\n  }\r\n\r\n\r\n  public onUpdate(): void {\r\n    \r\n  }\r\n\r\n\r\n\r\n  public destroy(): void {\r\n    // \r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if(para_array) {\r\n\r\n    }\r\n    return true;\r\n  }\r\n\r\n}\r\n\r\n","export * from './input';","import { VE_TriggerBehaviour } from '../../index';\r\nimport { VE_Triggers } from '../../trigger';\r\n\r\nexport class Trigger_MouseDown extends VE_TriggerBehaviour {\r\n  \r\n\r\n  public get ID(): string {\r\n    return '|Mouse_Down';\r\n  }\r\n\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    let a: BABYLON.Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = this.scene.onPointerObservable.add(  (pointInfo) => {\r\n\r\n    })\r\n\r\n    this.scene.onPointerObservable.remove(a);\r\n\r\n    return true;\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    \r\n  }\r\n\r\n\r\n  public destroy(): void {\r\n    \r\n  }\r\n  \r\n\r\n}\r\n\r\n\r\n\r\nVE_Triggers.addTrigger(new Trigger_MouseDown());","import { VE_Templates, VE_Template } from \"../template\";\r\nimport { VE_Manager } from \"../manager\";\r\nimport { VE_Objects, VeryEngineObject } from \"../object\";\r\nimport { VE_Variables, VeryVarManager, IVeryVar, VeryExpression } from \"../variables\";\r\nimport { ErrorInfo, VE_StringFormat } from \"../utility\";\r\nimport { VE_ErrorManager, VE_Error } from \"../global\";\r\nimport { VE_Expressions, IExpression } from \"../expression\";\r\nimport { VE_FsmData, VE_StateData, VE_StateTriggerData, VE_StateActionData } from \"../dataSource\";\r\nimport { VE_Fsm, VE_State, VE_StateAction, VE_AssociatedState, StateConst } from \"../state\";\r\nimport { VE_Triggers, VE_TriggerBehaviour } from \"../trigger\";\r\nimport { VE_Actions, VE_ActionBehaviour, VE_Assignment } from \"../action\";\r\nimport { StateActionType, AssignType } from \"../enum\";\r\nimport { VE_TypeConvert } from \"../utility/typeConvert\";\r\nimport { VE_AssignmentTypeJudge } from \"../action/assignmentTypeJudge\";\r\nimport { VerySceneVariables } from \"../scene\";\r\n\r\nexport class CreateInstance {\r\n\r\n\r\n\r\n\r\n\r\n  public static createProject(project_name: string): boolean {\r\n    let templates: VE_Templates = VE_Manager.templates(project_name);\r\n    let objects: VE_Objects = VE_Manager.objects(project_name);\r\n    let globalVars: VE_Variables = VE_Manager.variables(project_name);\r\n\r\n    // 1. \r\n    // (1).\r\n    for (let i: number = 0; i < globalVars.varData.count; i++) {\r\n      let varID: string = globalVars.varData.getVariableID(i);\r\n      let varPara: string[] = globalVars.varData.getVariableParas(varID);\r\n      // 1.2.3.\r\n      // 1.\r\n      if (varPara[0] === \"\" || varPara[0].toLowerCase() === \"expression\") {\r\n        continue;\r\n      }\r\n      // 2.IVeryVar\r\n      else if (VeryVarManager.hasVarType(varPara[0])) {\r\n        let errorInfo: ErrorInfo = new ErrorInfo();\r\n        let newVar: Nullable<IVeryVar> = VeryVarManager.createVariable(varID, varPara[0], varPara[1], errorInfo);\r\n        // TODO: ListDictionary\r\n        if (!errorInfo.isRight || newVar === null) {\r\n          VE_ErrorManager.add(VE_Error.error(globalVars.varData.getPos(varID), \"\" + project_name + \"\" + varID + \"\" + varPara[0] + \"\" + varPara[1] + \"\" + errorInfo.message + \"\", ''));\r\n          return false;\r\n        } else {\r\n          globalVars.addVariable(varID, newVar);\r\n        }\r\n      }\r\n      // 3.\r\n      else if (templates.isCreatedTemplate(varPara[0])) {\r\n        globalVars.addTemplate(varID, templates.getTemplate(varPara[0]).clone('__global__', varID));\r\n      }\r\n      // \r\n      else {\r\n        VE_ErrorManager.add(VE_Error.error(globalVars.varData.getPos(varID), \"\" + project_name + \"\" + varID + \"\" + varPara[0] + \"\" + varPara[1] + \"\", ''));\r\n        return false;\r\n      }\r\n    }\r\n\r\n    // (2).\r\n    for (let i: number = 0; i < globalVars.varData.count; i++) {\r\n      let varID: string = globalVars.varData.getVariableID(i);\r\n      let varPara: string[] = globalVars.varData.getVariableParas(varID);\r\n      // \r\n      // 1.\r\n      if (varPara[0] === \"\" || varPara[0].toLowerCase() === \"expression\") {\r\n        // \r\n        let errorInfo: ErrorInfo = new ErrorInfo();\r\n        let globalExp: IExpression = VE_Expressions.createGlobalExpression(varID, varPara[1], project_name, errorInfo);\r\n        if (!errorInfo.isRight || !globalExp) {\r\n          VE_ErrorManager.add(VE_Error.error(globalVars.varData.getPos(varID), \"\" + project_name + \"\" + varID + \",\" + varPara[0] + \",\" + varPara[1] + \"\\n\" + errorInfo.message, \"\"));\r\n          return false;\r\n        }\r\n        globalVars.addExpression(varID, globalExp);\r\n      }\r\n      else {\r\n        continue;\r\n      }\r\n    }\r\n\r\n    // 2. ----\r\n    // 1.\r\n    for (let i: number = 0; i < objects.count; i++) {\r\n      let objectID: string = objects.getObjectID(i);\r\n      let veryObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n      for (let k: number = 0; k < veryObject.varData.count; k++) {\r\n        // (1). \r\n        let varID: string = veryObject.varData.getVariableID(k);\r\n        let varPara: string[] = veryObject.varData.getVariableParas(varID);\r\n        // 1.2.3.\r\n        // 1.\r\n        if (varPara[0] === \"\" || varPara[0].toLowerCase().trim() === \"expression\") {\r\n          continue;\r\n        }\r\n        // 2.IVeryVar\r\n        else if (VeryVarManager.hasVarType(varPara[0])) {\r\n          let errorInfo: ErrorInfo = new ErrorInfo();\r\n          let newVar: Nullable<IVeryVar> = VeryVarManager.createVariable(varID, varPara[0], varPara[1], errorInfo);\r\n          // TODO: ListDictionary\r\n          if (newVar === null || !errorInfo.isRight) {\r\n            VE_ErrorManager.add(VE_Error.error(veryObject.varData.getPos(varID), \"\" + project_name + \"\" + varID + \"\" + varPara[0] + \"\" + varPara[1] + \"\" + errorInfo.message + \"\", ''));\r\n            return false;\r\n          } else {\r\n            globalVars.addVariable(varID, newVar);\r\n          }\r\n        }\r\n        // 3.\r\n        else if (templates.isCreatedTemplate(varPara[0])) {\r\n          veryObject.addTemplate(varID, templates.getTemplate(varPara[0]).clone(objectID, varID));\r\n        }\r\n        // \r\n        else {\r\n          VE_ErrorManager.add(VE_Error.error(veryObject.varData.getPos(varID), \"\" + project_name + \"\" + objectID + \"\" + varID + \",\" + varPara[0] + \",\" + varPara[1] + \"\", \"\"));\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n\r\n    // 3.   \r\n    for (let i: number = 0; i < objects.count; i++) {\r\n      let objectID: string = objects.getObjectID(i);\r\n      let veryObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n      for (let k: number = 0; k < veryObject.dataSource.fsmCount; k++) {\r\n        let fsmID: string = veryObject.dataSource.getFsmID(k);\r\n        let fsmData: VE_FsmData = veryObject.dataSource.getFsmData(fsmID);\r\n        // \r\n        let errorInfo: ErrorInfo = new ErrorInfo();\r\n        let newVar: Nullable<IVeryVar> = VeryVarManager.createVariable(fsmID, fsmData.fsmType, fsmData.initialValStr, errorInfo);\r\n        // TODO: ListDictionary\r\n        if (newVar === null || !errorInfo.isRight) {\r\n          VE_ErrorManager.add(VE_Error.error(veryObject.dataSource.getFsmPos(fsmID), \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + errorInfo.message + \"\", ''));\r\n          return false;\r\n        }\r\n        // \r\n        let fsm: VE_Fsm = new VE_Fsm(project_name, objectID, fsmID, newVar, veryObject);\r\n        veryObject.addFsm(fsmID, fsm);\r\n      }\r\n    }\r\n\r\n    // \r\n    // 4. \r\n    for (let i: number = 0; i < objects.count; i++) {\r\n      let objectID: string = objects.getObjectID(i);\r\n      let veryObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n      for (let k: number = 0; k < veryObject.varData.count; k++) {\r\n        // (1). \r\n        let varID: string = veryObject.varData.getVariableID(k);\r\n        let varPara: string[] = veryObject.varData.getVariableParas(varID);\r\n        // 1.2.3.\r\n        // 1.\r\n        if (varPara[0] === \"\" || varPara[0].toLowerCase().trim() === \"expression\") {\r\n          // \r\n          let errorInfo: ErrorInfo = new ErrorInfo();\r\n          let newVar: IExpression = VE_Expressions.createLocalExpression(varID, varPara[1], project_name, objectID, errorInfo);\r\n          if (!errorInfo.isRight || !newVar) {\r\n            VE_ErrorManager.add(VE_Error.error(veryObject.varData.getPos(varID), \"\" + project_name + \"\" + objectID + \"\" + varID + \",\" + varPara[0] + \",\" + varPara[1] + \"\\n\" + errorInfo.message, ''));\r\n            return false;\r\n          }\r\n          veryObject.addExpression(varID, newVar);\r\n        }\r\n        else {\r\n          continue;\r\n        }\r\n      }\r\n    }\r\n\r\n    // TODO: UI\r\n\r\n    // 6. \r\n    for (let i: number = 0; i < objects.count; i++) {\r\n      let objectID: string = objects.getObjectID(i);\r\n      let veryObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n      for (let k: number = 0; k < veryObject.dataSource.triggerCount; k++) {\r\n        let triggerID: string = veryObject.dataSource.getTriggerID(k);\r\n        //Debug.Log(\"ID\" + triggerID);\r\n        let triggerPara: string[] = veryObject.dataSource.getTriggerPara(triggerID);\r\n\r\n        if (!VE_Triggers.hasTrigger(triggerPara[0])) {\r\n          VE_ErrorManager.add(VE_Error.error(veryObject.dataSource.getTriggerPos(triggerID), \"\" + project_name + \"\" + objectID + \"\" + triggerID + \"\" + triggerPara[0] + \"\", \"\"));\r\n          return false;\r\n        } else {\r\n          // TODO: Trigger\r\n          let trigger: VE_TriggerBehaviour = VE_Triggers.createTrigger(triggerPara[0]);\r\n          veryObject.addTrigger(triggerID, trigger);\r\n        }\r\n      }\r\n    }\r\n\r\n    // 5. \r\n    for (let i: number = 0; i < objects.count; i++) {\r\n      let objectID: string = objects.getObjectID(i);\r\n      let veryObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n      for (let k: number = 0; k < veryObject.dataSource.actionCount; k++) {\r\n        let actionID: string = veryObject.dataSource.getActionID(k);\r\n        let actionPara: string[] = veryObject.dataSource.getActionPara(actionID);\r\n\r\n        if (!VE_Actions.hasAction(actionPara[0])) {\r\n          VE_ErrorManager.add(VE_Error.error(veryObject.dataSource.getActionPos(actionID), \"\" + project_name + \"\" + objectID + \"\" + actionID + \"\" + actionPara[0] + \"\", \"\"));\r\n          return false;\r\n        } else {\r\n          // TODO: Action\r\n          let action: VE_ActionBehaviour = VE_Actions.createAction(actionPara[0]);\r\n          veryObject.addAction(actionID, action);\r\n        }\r\n      }\r\n    }\r\n\r\n    // 7.    +  + \r\n    for (let i: number = 0; i < objects.count; i++) {\r\n      let objectID: string = objects.getObjectID(i);\r\n      let veryObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n      for (let k: number = 0; k < veryObject.dataSource.fsmCount; k++) {\r\n        let fsmID: string = veryObject.dataSource.getFsmID(k);\r\n        let fsmData: VE_FsmData = veryObject.dataSource.getFsmData(fsmID);\r\n        // \r\n        let fsm: VE_Fsm = veryObject.getFsm(fsmID);\r\n        // \r\n        for (let p: number = 0; p < fsmData.count; p++) {\r\n          let stateData: VE_StateData = fsmData.getStateData(p);\r\n          let state: VE_State = new VE_State(fsm, fsm.count + 1);\r\n          // \r\n          if (stateData.isInitialValue) {\r\n            state.setInitialValue(fsm.fsmVar.getValue());\r\n          }\r\n          else {\r\n            // TODO: \r\n            if (!this.stateAssignment(project_name, objectID, fsmID, globalVars, objects, veryObject, fsm, stateData, state)) {\r\n              return false;\r\n            }\r\n          }\r\n\r\n          // \r\n          if (stateData.isSequence) {\r\n            state.setSequence();\r\n          }\r\n\r\n          // \r\n          if (stateData.logicalExp !== '') {\r\n            let errorInfo: ErrorInfo = new ErrorInfo();\r\n            let logicalExp: IExpression = VE_Expressions.createFsmExpression('', stateData.logicalExp, project_name, objectID, fsmID, errorInfo);\r\n            if (!errorInfo.isRight || !logicalExp) {\r\n              VE_ErrorManager.add(VE_Error.error(\"\" + stateData.rowIndex.toString() + \"E\", \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + stateData.logicalExp + \"\\n\" + errorInfo.message, \"\"));\r\n              return false;\r\n            }\r\n            state.logicalAssociated = logicalExp;\r\n          }\r\n\r\n          // \r\n          for (let s: number = 0; s < stateData.triggerCount; s++) {\r\n            let triggerData: VE_StateTriggerData = stateData.getTrigger(s);\r\n            let triggerPos: string = stateData.getTriggerPos(s);\r\n            // \r\n            let trigger: Nullable<VE_TriggerBehaviour> = VE_Triggers.findTrigger(veryObject, triggerData.triggerID);\r\n            if (trigger === null) {\r\n              VE_ErrorManager.add(VE_Error.error(triggerPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + triggerData.triggerID + \"\", \"\"));\r\n              return false;\r\n            }\r\n            // \r\n            let logicalExp: Nullable<IExpression> = null;\r\n            // Debug.LogWarning(\"\" + triggerData.LogicalExp);\r\n            if (triggerData.logicalExp !== '') {\r\n              // \r\n              let errorInfo: ErrorInfo = new ErrorInfo();\r\n              logicalExp = VE_Expressions.createFsmExpression('', triggerData.logicalExp, project_name, objectID, fsmID, errorInfo);\r\n              // Debug.LogWarning(logicalExp);\r\n              if (!errorInfo.isRight || logicalExp === null) {\r\n                VE_ErrorManager.add(VE_Error.error(triggerPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + triggerData.logicalExp + \"\\n\" + errorInfo.message, \"\"));\r\n                return false;\r\n              }\r\n            }\r\n            trigger.addTriggerTarget(logicalExp!, state);\r\n            // \r\n            if (triggerData.logicalSwitch !== '') {\r\n              // \r\n              let errorInfo: ErrorInfo = new ErrorInfo();\r\n              let logicalSwitch: IExpression = VE_Expressions.createFsmExpression('', triggerData.logicalSwitch, project_name, objectID, fsmID, errorInfo);\r\n              if (!errorInfo.isRight || logicalSwitch === null) {\r\n                VE_ErrorManager.add(VE_Error.error(triggerPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + triggerData.logicalSwitch + \"\\n\" + errorInfo.message, \"\"));\r\n                return false;\r\n              }\r\n              trigger.addLogicalSwitch(logicalSwitch);\r\n            }\r\n          }\r\n\r\n          // \r\n          for (let s: number = 0; s < stateData.actionCount; s++) {\r\n            let actionData: VE_StateActionData = stateData.getAction(s);\r\n            let actionPos: string = stateData.getActionPos(s);\r\n            // \r\n            if (actionData.type === StateActionType.Action) {\r\n              // \r\n              let action: Nullable<VE_ActionBehaviour> = VE_Actions.findAction(veryObject, actionData.actionID);\r\n              if (action === null) {\r\n                VE_ErrorManager.add(VE_Error.error(actionPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + actionData.actionID + \"\", \"\"));\r\n                return false;\r\n              }\r\n              // bool\r\n              // \r\n              let errorInfo: ErrorInfo = new ErrorInfo();\r\n              let enabledFlag: boolean = VE_TypeConvert.boolConvert(actionData.enabled, errorInfo);\r\n              if (!errorInfo.isRight) {\r\n                VE_ErrorManager.add(VE_Error.error(actionPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + actionData.actionID + \"booltruefalse\", \"\"));\r\n                return false;\r\n              }\r\n\r\n              // \r\n              let everyFrameFlag = VE_TypeConvert.boolConvert(actionData.everyFrame, errorInfo);\r\n              if (!errorInfo.isRight) {\r\n                VE_ErrorManager.add(VE_Error.error(actionPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + actionData.actionID + \"booltruefalse\", \"\"));\r\n                return false;\r\n              }\r\n              // \r\n              let isSequence = VE_TypeConvert.boolConvert(actionData.everyFrame, errorInfo);\r\n              if (!errorInfo.isRight) {\r\n                VE_ErrorManager.add(VE_Error.error(actionPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + actionData.actionID + \"booltruefalse\", \"\"));\r\n                return false;\r\n              }\r\n              let stateAction: VE_StateAction = new VE_StateAction();\r\n              stateAction.setAction(action)\r\n              state.addAction(stateAction);\r\n            }\r\n            //\r\n            else {\r\n              // TODO\r\n              if (!this.assignmentAction(project_name, objectID, fsmID, globalVars, objects, veryObject, actionData, state)) {\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n\r\n          // \r\n          if (fsm.isCreatedState(stateData.stateIndex)) {\r\n            VE_ErrorManager.add(VE_Error.error(\"\" + stateData.rowIndex.toString() + \"I\", \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + stateData.ValStr + \"ID\", \"\"));\r\n            return false;\r\n          }\r\n          else {\r\n            fsm.addState(state, stateData.stateIndex);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // 8.   \r\n    for (let i: number = 0; i < objects.count; i++) {\r\n      let objectID: string = objects.getObjectID(i);\r\n      let veryObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n      for (let k: number = 0; k < veryObject.dataSource.fsmCount; k++) {\r\n        let fsmID: string = veryObject.dataSource.getFsmID(k);\r\n        let fsmData: VE_FsmData = veryObject.dataSource.getFsmData(fsmID);\r\n        // \r\n        let fsm: VE_Fsm = veryObject.getFsm(fsmID);\r\n        // \r\n        for (let p: number = 0; p < fsmData.count; p++) {\r\n          let stateData: VE_StateData = fsmData.getStateData(p);\r\n          let state: Nullable<VE_State> = fsm.getState(p);\r\n\r\n          // \r\n          for (let s: number = 0; s < stateData.associatedStateCount; s++) {\r\n            let associatedStateInfo: string = stateData.getAssociatedState(s);\r\n            let associatedPos: string = stateData.getAssociatedStatePos(s);\r\n            let associatedState: VE_AssociatedState = new VE_AssociatedState(state!);\r\n            let multipleAssociatedState: string[] = associatedStateInfo.split(/,|/);\r\n\r\n            for (let www: number = 0; www < multipleAssociatedState.length; www++) {\r\n              associatedStateInfo = multipleAssociatedState[www].trim();\r\n              let stateIndex: number = StateConst.STATE_INDEX;\r\n              let strArray: string[] = associatedStateInfo.split('=');\r\n              if (strArray.length === 1) {\r\n                stateIndex = StateConst.STATE_INDEX;\r\n              }\r\n              else if (strArray.length === 2) {\r\n                let errorInfo: ErrorInfo = new ErrorInfo();\r\n                stateIndex = VE_TypeConvert.intConvert(strArray[1].trim(), errorInfo);\r\n                if (!errorInfo.isRight) {\r\n                  VE_ErrorManager.add(VE_Error.error(associatedPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + associatedStateInfo + \"=ID\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                VE_ErrorManager.add(VE_Error.error(associatedPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + associatedStateInfo + \"=ID\", \"\"));\r\n                return false;\r\n              }\r\n\r\n              // 1. \r\n              // 2. .\r\n              // 3. *.\r\n              // 4. .*.\r\n\r\n              let aFsmID: string = strArray[0].trim();\r\n              if (aFsmID.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n                let stateArray: string[] = aFsmID.split(StateConst.STATE_SEPARATOR);\r\n                for (let q: number = 0; q < stateArray.length; q++) {\r\n                  stateArray[q] = stateArray[q].trim();\r\n                }\r\n                // .*.\r\n                if (stateArray.length === 3) {\r\n                  if (objects.isCreated(stateArray[0])) {\r\n                    let aObject: VeryEngineObject = objects.getVeryObject(stateArray[0]);\r\n                    if (stateArray[1].startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n                      let varID: string = stateArray[1].substring(1);\r\n                      if (aObject.isCreatedTemplate(varID)) {\r\n                        let template: VE_Template = aObject.getTemplate(varID);\r\n                        if (template.dataSource.isCreatedFsm(stateArray[2])) {\r\n                          associatedState.addTemplate(template, stateArray[2], stateIndex);\r\n                          // VE_AssociatedState associatedState = new VE_AssociatedState(state, template, stateArray[2], stateIndex);\r\n                          // state.AddAssociatedState(associatedState);\r\n                        }\r\n                        else {\r\n                          VE_ErrorManager.add(VE_Error.error(associatedPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + associatedStateInfo + \".*.\", \"\"));\r\n                          return false;\r\n                        }\r\n                      }\r\n                      else {\r\n                        VE_ErrorManager.add(VE_Error.error(associatedPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + associatedStateInfo + \".*.\", \"\"));\r\n                        return false;\r\n                      }\r\n                    }\r\n                    else {\r\n                      VE_ErrorManager.add(VE_Error.error(associatedPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + associatedStateInfo + \".*.\", \"\"));\r\n                      return false;\r\n                    }\r\n                  }\r\n                  else {\r\n                    VE_ErrorManager.add(VE_Error.error(associatedPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + associatedStateInfo + \".*.\", \"\"));\r\n                    return false;\r\n                  }\r\n                }\r\n                else if (stateArray.length === 2) {\r\n                  let aObjectID: string = stateArray[0].trim();\r\n                  aFsmID = stateArray[1].trim();\r\n                  // *.\r\n                  if (aObjectID.startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n                    aObjectID = aObjectID.substring(1);\r\n                    if (veryObject.isCreatedTemplate(aObjectID)) {\r\n                      let template: VE_Template = veryObject.getTemplate(aObjectID);\r\n                      if (template.dataSource.isCreatedFsm(stateArray[1])) {\r\n                        associatedState.addTemplate(template, stateArray[1], stateIndex);\r\n                        // VE_AssociatedState associatedState = new VE_AssociatedState(state, template, stateArray[1], stateIndex);\r\n                        // state.AddAssociatedState(associatedState);\r\n                      }\r\n                      else {\r\n                        VE_ErrorManager.add(VE_Error.error(associatedPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + associatedStateInfo + \"*.\", \"\"));\r\n                        return false;\r\n                      }\r\n                    }\r\n                    else {\r\n                      if (globalVars.isCreatedTemplate(aObjectID)) {\r\n                        let template: VE_Template = globalVars.getTemplate(aObjectID);\r\n                        if (template.dataSource.isCreatedFsm(stateArray[1])) {\r\n                          associatedState.addTemplate(template, stateArray[1], stateIndex);\r\n                          // VE_AssociatedState associatedState = new VE_AssociatedState(state, template, stateArray[1], stateIndex);\r\n                          // state.AddAssociatedState(associatedState);\r\n                        }\r\n                        else {\r\n                          VE_ErrorManager.add(VE_Error.error(associatedPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + associatedStateInfo + \"*.\", \"\"));\r\n                          return false;\r\n                        }\r\n                      }\r\n                      else {\r\n                        VE_ErrorManager.add(VE_Error.error(associatedPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + associatedStateInfo + \"*.\", \"\"));\r\n                        return false;\r\n                      }\r\n                    }\r\n                  }\r\n                  // .\r\n                  else {\r\n                    let aObject: VeryEngineObject = objects.getVeryObject(aObjectID);\r\n                    if (aObject === null) {\r\n                      VE_ErrorManager.add(VE_Error.error(associatedPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + associatedStateInfo + \".\", \"\"));\r\n                      return false;\r\n                    }\r\n                    let aFsm: VE_Fsm = aObject.getFsm(aFsmID);\r\n                    if (aFsm === null) {\r\n                      VE_ErrorManager.add(VE_Error.error(associatedPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + associatedStateInfo + \".\", \"\"));\r\n                      return false;\r\n                    }\r\n                    let toState: Nullable<VE_State> = aFsm.getState(stateIndex);\r\n                    if (toState === null) {\r\n                      VE_ErrorManager.add(VE_Error.error(associatedPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + associatedStateInfo + \".\", \"\"));\r\n                      return false;\r\n                    }\r\n                    associatedState.add(toState, stateIndex);\r\n                    // VE_AssociatedState associatedState = new VE_AssociatedState(state, toState);\r\n                    // state.AddAssociatedState(associatedState);\r\n                  }\r\n                }\r\n                else {\r\n                  VE_ErrorManager.add(VE_Error.error(associatedPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + associatedStateInfo + \"\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              //\r\n              else {\r\n                let aFsm: VE_Fsm = veryObject.getFsm(aFsmID);\r\n                if (aFsm === null) {\r\n                  VE_ErrorManager.add(VE_Error.error(associatedPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + associatedStateInfo + \"\", \"\"));\r\n                  return false;\r\n                }\r\n\r\n                let toState: Nullable<VE_State> = aFsm.getState(stateIndex);\r\n                if (toState === null) {\r\n                  VE_ErrorManager.add(VE_Error.error(associatedPos, \"\" + project_name + \"\" + objectID + \"\" + fsmID + \"\" + associatedStateInfo + \"\", \"\"));\r\n                  return false;\r\n                }\r\n                associatedState.add(toState, stateIndex);\r\n                //VE_AssociatedState associatedState = new VE_AssociatedState(state, toState);\r\n                //state.AddAssociatedState(associatedState);\r\n              }\r\n            }\r\n            state!.addAssociatedState(associatedState);\r\n          }\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n\r\n  private static stateAssignment(project_name: string, object_id: string, fsm_id: string, global_vars: VE_Variables, objects: VE_Objects, very_object: VeryEngineObject, fsm: VE_Fsm, state_data: VE_StateData, state: VE_State): boolean {\r\n    // \r\n    // \r\n    let assignStr: string = state_data.ValStr;\r\n    // *\r\n    // .*\r\n    // *.*\r\n    // .*.*\r\n    if (assignStr.indexOf(StateConst.VARIABLE_SYMBOL) > -1)  // \r\n    {\r\n      if (assignStr.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n        let valArray: string[] = assignStr.split(StateConst.STATE_SEPARATOR);\r\n        for (let q: number = 0; q < valArray.length; q++) {\r\n          valArray[q] = valArray[q].trim();\r\n        }\r\n        if (valArray.length === 2) {\r\n          if (!valArray[1].startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n            VE_ErrorManager.add(VE_Error.error(\"\" + state_data.rowIndex + \"F\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + state_data.ValStr + \"1*2.*3*.*4.*.*\", \"\"));\r\n            return false;\r\n          }\r\n          else {\r\n            // *.*\r\n            if (valArray[0].startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n              let templateVarID: string = valArray[0].substring(1);\r\n              let varID: string = valArray[1].substring(1);\r\n              if (very_object.isCreatedTemplate(templateVarID)) {\r\n                let template: VE_Template = very_object.getTemplate(templateVarID);\r\n                if (template.varData.isCreatedVariable(varID) || template.dataSource.isCreatedFsm(varID)) {\r\n                  state.setTemplateInfo(template, varID, assignStr);\r\n                }\r\n                else {\r\n                  VE_ErrorManager.add(VE_Error.error(\"\" + state_data.rowIndex + \"F\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + state_data.ValStr + \"*.***\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                if (global_vars.isCreatedTemplate(templateVarID)) {\r\n                  let template: VE_Template = global_vars.getTemplate(templateVarID);\r\n                  if (template.varData.isCreatedVariable(varID) || template.dataSource.isCreatedFsm(varID)) {\r\n                    state.setTemplateInfo(template, varID, assignStr);\r\n                  }\r\n                  else {\r\n                    VE_ErrorManager.add(VE_Error.error(\"\" + state_data.rowIndex + \"F\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + state_data.ValStr + \"*.***\", \"\"));\r\n                    return false;\r\n                  }\r\n                }\r\n                else {\r\n                  VE_ErrorManager.add(VE_Error.error(\"\" + state_data.rowIndex + \"F\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + state_data.ValStr + \"*.**\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n            }\r\n            // .*\r\n            else {\r\n              if (valArray[0] === object_id && valArray[1].substring(1) === fsm_id) {\r\n                VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + state_data.ValStr + \".*\", \"\"));\r\n                return false;\r\n              }\r\n              let errorInfo: ErrorInfo = new ErrorInfo();\r\n\r\n              let veryVar: Nullable<IVeryVar> = VeryVarManager.getVariable(valArray[1].substring(1), project_name, valArray[0], errorInfo);\r\n              if (!errorInfo.isRight || veryVar === null) {\r\n                VE_ErrorManager.add(VE_Error.error(\"\" + state_data.rowIndex + \"F\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + state_data.ValStr + \".**\" + valArray[1] + \"\" + errorInfo, \"\"));\r\n                return false;\r\n              }\r\n              else {\r\n                // \r\n                if (VE_AssignmentTypeJudge.allow(fsm.fsmVar, veryVar)) {\r\n                  state.setStateVariable(veryVar);\r\n                }\r\n                else {\r\n                  VE_ErrorManager.add(VE_Error.error(\"\" + state_data.rowIndex + \"F\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + state_data.ValStr + \".*\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        else if (valArray.length === 3) {\r\n          // .*.*\r\n          if (valArray[0].startsWith(StateConst.STATE_SEPARATOR) || !valArray[1].startsWith(StateConst.STATE_SEPARATOR) || !valArray[2].startsWith(StateConst.STATE_SEPARATOR)) {\r\n            VE_ErrorManager.add(VE_Error.error(\"\" + state_data.rowIndex + \"F\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + state_data.ValStr + \"1*2.*3*.*4.*.*\", \"\"));\r\n            return false;\r\n          }\r\n          else {\r\n            let templateVarID: string = valArray[1].substring(1);\r\n            let varID: string = valArray[2].substring(1);\r\n            if (objects.isCreated(valArray[0])) {\r\n              let tObject: VeryEngineObject = objects.getVeryObject(valArray[0]);\r\n              if (tObject.isCreatedTemplate(templateVarID)) {\r\n                let template: VE_Template = tObject.getTemplate(templateVarID);\r\n                if (template.varData.isCreatedVariable(varID) || template.dataSource.isCreatedFsm(varID)) {\r\n                  state.setTemplateInfo(template, varID, assignStr);\r\n                }\r\n                else {\r\n                  VE_ErrorManager.add(VE_Error.error(\"\" + state_data.rowIndex + \"F\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + state_data.ValStr + \".*.*.**\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                VE_ErrorManager.add(VE_Error.error(\"\" + state_data.rowIndex + \"F\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + state_data.ValStr + \".*.**\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n            else {\r\n              VE_ErrorManager.add(VE_Error.error(\"\" + state_data.rowIndex + \"F\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + state_data.ValStr + \".*.*\", \"\"));\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          VE_ErrorManager.add(VE_Error.error(\"\" + state_data.rowIndex + \"F\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + state_data.ValStr + \"1*2.*3*.*4.*.*\", \"\"));\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        // *\r\n        let varID: string = assignStr.substring(1);\r\n        if (varID == fsm_id) {\r\n          VE_ErrorManager.add(VE_Error.error(\"\" + state_data.rowIndex + \"F\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + state_data.ValStr + \"*\", \"\"));\r\n          return false;\r\n        }\r\n        let errorInfo: ErrorInfo = new ErrorInfo();\r\n        let stateVar: Nullable<IVeryVar> = VeryVarManager.getVariable(varID, project_name, object_id, errorInfo);\r\n        if (stateVar === null) {\r\n          VE_ErrorManager.add(VE_Error.error(\"\" + state_data.rowIndex + \"F\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + state_data.ValStr + \"\" + errorInfo, \"\"));\r\n          return false;\r\n        }\r\n        else {\r\n          //\r\n          if (VE_AssignmentTypeJudge.allow(fsm.fsmVar, stateVar)) {\r\n            state.setStateVariable(stateVar);\r\n          }\r\n          else {\r\n            VE_ErrorManager.add(VE_Error.error(\"\" + state_data.rowIndex + \"F\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + state_data.ValStr + \"*\", \"\"));\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    //\r\n    else {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let val: any = fsm.fsmVar.initValue(assignStr, errorInfo);\r\n      if (!errorInfo.isRight) {\r\n        VE_ErrorManager.add(VE_Error.error(\"\" + state_data.rowIndex + \"F\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + state_data.ValStr + \"\", \"\"));\r\n        return false;\r\n      }\r\n      state.setConstValue(val);\r\n    }\r\n    return true;\r\n  }\r\n\r\n\r\n  private static assignmentAction(project_name: string, object_id: string, fsm_id: string, global_vars: VE_Variables, objects: VE_Objects, very_object: VeryEngineObject, action_data: VE_StateActionData, state: VE_State): boolean {\r\n    // \r\n    let assignment: VE_Assignment = new VE_Assignment(state, action_data.totalString);\r\n    let varID: string = action_data.varID;\r\n    // Debug.LogWarning(\"\" + action_data.TotalString);\r\n    // 1 1*2.*3*.*4.*.*\r\n    if (varID.indexOf(StateConst.VARIABLE_SYMBOL) > -1)  // \r\n    {\r\n      if (varID.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n        let valArray: string[] = varID.split(StateConst.STATE_SEPARATOR);\r\n        for (let q: number = 0; q < valArray.length; q++) {\r\n          valArray[q] = valArray[q].trim();\r\n        }\r\n        // .* or *.*\r\n        if (valArray.length === 2) {\r\n          // *.*\r\n          if (valArray[0].startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n            let templateVarID: string = valArray[0].substring(1);\r\n            varID = valArray[1].substring(1);\r\n            if (very_object.isCreatedTemplate(templateVarID)) {\r\n              let template: VE_Template = very_object.getTemplate(templateVarID);\r\n              if (template.varData.isCreatedVariable(varID)) {\r\n                let varPara: string[] = template.varData.getVariableParas(varID);\r\n                if (varPara[1].toLowerCase() === \"expression\" || varPara[1].toLowerCase() === \"\") {\r\n                  VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"*.*\", \"\"));\r\n                  return false;\r\n                }\r\n                else {\r\n                  assignment.setLeftTemplateVar(template, varID);\r\n                }\r\n              }\r\n              else if (template.dataSource.isCreatedFsm(varID)) {\r\n                assignment.setLeftTemplateVar(template, varID);\r\n              }\r\n              else {\r\n                VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"*.***\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n            else {\r\n              if (global_vars.isCreatedTemplate(templateVarID)) {\r\n                let template: VE_Template = global_vars.getTemplate(templateVarID);\r\n                if (template.varData.isCreatedVariable(varID)) {\r\n                  let varPara: string[] = template.varData.getVariableParas(varID);\r\n                  if (varPara[1].toLowerCase() === \"expression\" || varPara[1].toLowerCase() === \"\") {\r\n                    VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"*.*\", \"\"));\r\n                    return false;\r\n                  }\r\n                  else {\r\n                    assignment.setLeftTemplateVar(template, varID);\r\n                  }\r\n                }\r\n                else if (template.dataSource.isCreatedFsm(varID)) {\r\n                  assignment.setLeftTemplateVar(template, varID);\r\n                }\r\n                else {\r\n                  VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"*.***\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"*.**\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n          //.*\r\n          else {\r\n            if (objects.isCreated(valArray[0])) {\r\n              let aObject: VeryEngineObject = objects.getVeryObject(valArray[0]);\r\n              varID = varID.substring(1);\r\n              if (aObject.isCreatedExpression(varID)) {\r\n                VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \".*\", \"\"));\r\n                return false;\r\n              }\r\n              else if (aObject.isCreatedFsm(varID)) {\r\n                let v: IVeryVar = aObject.getFsm(varID).fsmVar;\r\n                assignment.setLeftVariable(v);\r\n              }\r\n              else if (aObject.isCreatedVariable(varID)) {\r\n                let v: IVeryVar = aObject.getVariable(varID);\r\n                assignment.setLeftVariable(v);\r\n              }\r\n              else if (aObject.isCreatedTemplate(varID)) {\r\n                let template: VE_Template = aObject.getTemplate(varID);\r\n                assignment.setLeftTemplate(template);\r\n              }\r\n              else {\r\n                VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \".*\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n            else {\r\n              VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \".*\", \"\"));\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        else if (valArray.length === 3)  // .*.*\r\n        {\r\n          // .*.*\r\n          if (valArray[0].startsWith(StateConst.STATE_SEPARATOR) || !valArray[1].startsWith(StateConst.STATE_SEPARATOR) || !valArray[2].startsWith(StateConst.STATE_SEPARATOR)) {\r\n            VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"1*2.*3*.*4.*.*\", \"\"));\r\n            return false;\r\n          }\r\n          else {\r\n            let templateVarID: string = valArray[1].substring(1);\r\n            varID = valArray[2].substring(1);\r\n            if (objects.isCreated(valArray[0])) {\r\n              let tObject: VeryEngineObject = objects.getVeryObject(valArray[0]);\r\n              if (tObject.isCreatedTemplate(templateVarID)) {\r\n                let template: VE_Template = tObject.getTemplate(templateVarID);\r\n                if (template.dataSource.isCreatedFsm(varID)) {\r\n                  assignment.setLeftTemplateVar(template, varID);\r\n                }\r\n                else if (template.varData.isCreatedVariable(varID)) {\r\n                  let varParas: string[] = template.varData.getVariableParas(varID);\r\n                  if (varParas[1].toLowerCase() === \"expression\" || varParas[1].toLowerCase() === \"\") {\r\n                    VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \".*.*.*.*\", \"\"));\r\n                    return false;\r\n                  }\r\n                  else {\r\n                    assignment.setLeftTemplateVar(template, varID);\r\n                  }\r\n                }\r\n                else {\r\n                  VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \".*.*.**\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \".*.**\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n            else {\r\n              VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \".*.*\", \"\"));\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"1*2.*3*.*4.*.*\", \"\"));\r\n          return false;\r\n        }\r\n      }\r\n      else // *\r\n      {\r\n        varID = varID.substring(1);\r\n        if (very_object.isCreatedExpression(varID)) {\r\n          VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"*\", \"\"));\r\n          return false;\r\n        }\r\n        else if (very_object.isCreatedFsm(varID)) {\r\n          let v: IVeryVar = very_object.getFsm(varID).fsmVar;\r\n          assignment.setLeftVariable(v);\r\n        }\r\n        else if (very_object.isCreatedVariable(varID)) {\r\n          let v: IVeryVar = very_object.getVariable(varID);\r\n          assignment.setLeftVariable(v);\r\n        }\r\n        else if (very_object.isCreatedTemplate(varID)) {\r\n          let template: VE_Template = very_object.getTemplate(varID);\r\n          assignment.setLeftTemplate(template);\r\n        }\r\n        else {\r\n          // \r\n          if (global_vars.isCreatedExpression(varID)) {\r\n            VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"*\", \"\"));\r\n            return false;\r\n          }\r\n          else if (global_vars.isCreatedVariable(varID)) {\r\n            let v: IVeryVar = global_vars.getVariable(varID);\r\n            assignment.setLeftVariable(v);\r\n          }\r\n          else if (global_vars.isCreatedTemplate(varID)) {\r\n            let template: VE_Template = global_vars.getTemplate(varID);\r\n            assignment.setLeftTemplate(template);\r\n          }\r\n          else {\r\n            // \r\n            // if (VerySceneVariables.Variables.isCreatedExpression(varID)) {\r\n            //   VE_ErrorManager.Add(VE_Error.Error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.TotalString + \"*\", \"\"));\r\n            //   return false;\r\n            // }\r\n            // else if (VerySceneVariables.Variables.IsCreatedVariable(varID)) {\r\n            //   IVeryVar v = VerySceneVariables.Variables.GetVariable(varID);\r\n            //   assignment.SetLeft(v);\r\n            // }\r\n            // else {\r\n            //   VE_ErrorManager.Add(VE_Error.Error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.TotalString + \"*\", \"\"));\r\n            //   return false;\r\n            // }\r\n            VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"*\", \"\"));\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"\", \"\"));\r\n      return false;\r\n    }\r\n\r\n\r\n    // 2 1*2.*3*.*4.*.*5\r\n    varID = action_data.varValue.trim();\r\n\r\n    // \r\n    if (varID.startsWith(\"\\\"\") || varID.startsWith(\"'\") || varID.startsWith(\"\") || varID.startsWith(\"\")) {\r\n      assignment.setRightConst(varID.substring(1, varID.length - 2).trim());\r\n    }\r\n    else if (VE_StringFormat.isFormulaString(varID))  // \r\n    {\r\n      // Debug.LogError(varID);\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      StateConst.AssignmentFormulaCount++;\r\n      let localExp: IExpression = VE_Expressions.createLocalExpression(StateConst.AssignmentPrefix + StateConst.AssignmentFormulaCount.toString(), varID, project_name, object_id, errorInfo);\r\n      if (!errorInfo.isRight || !localExp) {\r\n        // errorInfo = \"\\n\" + errorInfo + \"\" + errorPos;\r\n        // return null;\r\n        VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"\" + errorInfo, \"\"));\r\n        return false;\r\n      }\r\n      assignment.setRightVariable(new VeryExpression(localExp));\r\n    }\r\n    else {\r\n      if (varID.indexOf(StateConst.VARIABLE_SYMBOL) > -1)  // \r\n      {\r\n        if (varID.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n          let valArray: string[] = varID.split(StateConst.STATE_SEPARATOR);\r\n          for (let q: number = 0; q < valArray.length; q++) {\r\n            valArray[q] = valArray[q].trim();\r\n          }\r\n          // .* or *.*\r\n          if (valArray.length === 2) {\r\n            // *.*\r\n            if (valArray[0].startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n              let templateVarID: string = valArray[0].substring(1);\r\n              varID = valArray[1].substring(1);\r\n              if (very_object.isCreatedTemplate(templateVarID)) {\r\n                let template: VE_Template = very_object.getTemplate(templateVarID);\r\n                if (template.varData.isCreatedVariable(varID) || template.dataSource.isCreatedFsm(varID)) {\r\n                  // \r\n                  assignment.setRightTemplateVariable(template, varID);\r\n                }\r\n                else {\r\n                  VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"*.***\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                if (global_vars.isCreatedTemplate(templateVarID)) {\r\n                  let template: VE_Template = global_vars.getTemplate(templateVarID);\r\n                  if (template.varData.isCreatedVariable(varID) || template.dataSource.isCreatedFsm(varID)) {\r\n                    // \r\n                    assignment.setRightTemplateVariable(template, varID);\r\n                  }\r\n                  else {\r\n                    VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"*.***\", \"\"));\r\n                    return false;\r\n                  }\r\n                }\r\n                else {\r\n                  VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"*.**\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n            }\r\n            // .*\r\n            else {\r\n              if (objects.isCreated(valArray[0])) {\r\n                let aObject: VeryEngineObject = objects.getVeryObject(valArray[0]);\r\n                varID = varID.substring(1);\r\n                let rightVar: Nullable<IVeryVar> = null;\r\n                let rightTemplate: Nullable<VE_Template> = null;\r\n                if (aObject.isCreatedExpression(varID)) {\r\n                  rightVar = new VeryExpression(aObject.getExpression(varID));\r\n                }\r\n                else if (aObject.isCreatedFsm(varID)) {\r\n                  rightVar = aObject.getFsm(varID).fsmVar;\r\n                }\r\n                else if (aObject.isCreatedVariable(varID)) {\r\n                  rightVar = aObject.getVariable(varID);\r\n                }\r\n                else if (aObject.isCreatedTemplate(varID)) {\r\n                  rightTemplate = aObject.getTemplate(varID);\r\n                }\r\n                else {\r\n                  VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \".*\", \"\"));\r\n                  return false;\r\n                }\r\n                // \r\n                if (rightVar !== null) {\r\n                  if (assignment.leftType === AssignType.Template) {\r\n                    VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"\", \"\"));\r\n                    return false;\r\n                  }\r\n                  else if (assignment.leftType === AssignType.Variable) {\r\n                    if (VE_AssignmentTypeJudge.allow(assignment.leftVariable!, rightVar)) {\r\n                      assignment.setRightVariable(rightVar);\r\n                    }\r\n                    else {\r\n                      VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"\", \"\"));\r\n                      return false;\r\n                    }\r\n                  }\r\n                  else {\r\n                    // \r\n                    assignment.setRightVariable(rightVar);\r\n                  }\r\n                }\r\n                else if (rightTemplate != null) {\r\n                  if (assignment.leftType === AssignType.Template) {\r\n                    assignment.setRightTemplate(rightTemplate);\r\n                  }\r\n                  else {\r\n                    VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"\", \"\"));\r\n                    return false;\r\n                  }\r\n                }\r\n                else {\r\n                  VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \".*\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n          else if (valArray.length === 3)  // .*.*\r\n          {\r\n            // .*.*\r\n            if (valArray[0].startsWith(StateConst.STATE_SEPARATOR) || !valArray[1].startsWith(StateConst.STATE_SEPARATOR) || !valArray[2].startsWith(StateConst.STATE_SEPARATOR)) {\r\n              VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"1*2.*3*.*4.*.*\", \"\"));\r\n              return false;\r\n            }\r\n            else {\r\n              let templateVarID: string = valArray[1].substring(1);\r\n              varID = valArray[2].substring(1);\r\n              if (objects.isCreated(valArray[0])) {\r\n                let tObject: VeryEngineObject = objects.getVeryObject(valArray[0]);\r\n                if (tObject.isCreatedTemplate(templateVarID)) {\r\n                  let template: VE_Template = tObject.getTemplate(templateVarID);\r\n                  // \r\n                  if (template.dataSource.isCreatedFsm(varID) || template.varData.isCreatedVariable(varID)) {\r\n                    // \r\n                    assignment.setRightTemplateVariable(template, varID);\r\n                  }\r\n                  else {\r\n                    VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \".*.*.**\", \"\"));\r\n                    return false;\r\n                  }\r\n                }\r\n                else {\r\n                  VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \".*.**\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \".*.*\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n          else {\r\n            VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"1*2.*3*.*4.*.*\", \"\"));\r\n            return false;\r\n          }\r\n        }\r\n        else // *\r\n        {\r\n          varID = varID.substring(1);\r\n          let rightVar: Nullable<IVeryVar> = null;\r\n          let rightTemplate: Nullable<VE_Template> = null;\r\n          if (very_object.isCreatedExpression(varID)) {\r\n            rightVar = new VeryExpression(very_object.getExpression(varID));\r\n          }\r\n          else if (very_object.isCreatedFsm(varID)) {\r\n            rightVar = very_object.getFsm(varID).fsmVar;\r\n          }\r\n          else if (very_object.isCreatedVariable(varID)) {\r\n            rightVar = very_object.getVariable(varID);\r\n          }\r\n          else if (very_object.isCreatedTemplate(varID)) {\r\n            rightTemplate = very_object.getTemplate(varID);\r\n          }\r\n          else {\r\n            // \r\n            if (global_vars.isCreatedExpression(varID)) {\r\n              rightVar = new VeryExpression(global_vars.getExpression(varID));\r\n            }\r\n            else if (global_vars.isCreatedVariable(varID)) {\r\n              rightVar = global_vars.getVariable(varID);\r\n            }\r\n            else if (global_vars.isCreatedTemplate(varID)) {\r\n              rightTemplate = global_vars.getTemplate(varID);\r\n            }\r\n            else {\r\n              //\r\n              if (VerySceneVariables.Variables.isCreatedExpression(varID)) {\r\n                rightVar = new VeryExpression(VerySceneVariables.Variables.getExpression(varID));\r\n              }\r\n              else if (VerySceneVariables.Variables.isCreatedVariable(varID)) {\r\n                rightVar = VerySceneVariables.Variables.getVariable(varID);\r\n              }\r\n              else {\r\n                VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"*\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n          // \r\n          if (rightVar != null) {\r\n            if (assignment.leftType === AssignType.Template) {\r\n              VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"\", \"\"));\r\n              return false;\r\n            }\r\n            else if (assignment.leftType === AssignType.Variable) {\r\n              if (VE_AssignmentTypeJudge.allow(assignment.leftVariable!, rightVar)) {\r\n                assignment.setRightVariable(rightVar);\r\n              }\r\n              else {\r\n                VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n            else {\r\n              // \r\n              assignment.setRightVariable(rightVar);\r\n            }\r\n          }\r\n          else if (rightTemplate != null) {\r\n            if (assignment.leftType === AssignType.Template) {\r\n              assignment.setRightTemplate(rightTemplate);\r\n            }\r\n            else {\r\n              VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"\", \"\"));\r\n              return false;\r\n            }\r\n          }\r\n          else {\r\n            VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"\", \"\"));\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      else  // \r\n      {\r\n        if (assignment.leftType === AssignType.Template) {\r\n          if (varID.trim().toLowerCase() === \"null\") {\r\n            assignment.setRightNull();\r\n          }\r\n          else {\r\n            VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"null\", \"\"));\r\n            return false;\r\n          }\r\n        }\r\n        else if (assignment.leftType === AssignType.TemplateVariable) {\r\n          assignment.setRightConst(varID);\r\n        }\r\n        else {\r\n          if (assignment.leftVariable !== null) {\r\n            let errorInfo: ErrorInfo = new ErrorInfo();\r\n            let newValue: any = assignment.leftVariable.initValue(varID, errorInfo);\r\n            if (!errorInfo.isRight || !newValue) {\r\n              VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"\" + errorInfo + \"\", \"\"));\r\n              return false;\r\n            }\r\n            else {\r\n              assignment.setRightConstValue(newValue);\r\n            }\r\n          }\r\n          else {\r\n            VE_ErrorManager.add(VE_Error.error(\"\", \"\" + project_name + \"\" + object_id + \"\" + fsm_id + \"\" + action_data.totalString + \"\", \"\"));\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    let stateAction: VE_StateAction = new VE_StateAction();\r\n    stateAction.setAssignment(assignment);\r\n    state.addAction(stateAction);\r\n    return true;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  public static createInstance(project_name: string, object_id: string, var_id: string, template: VE_Template, object_name: string, error_info: ErrorInfo, destroy_on_create_new: boolean): VE_Template {\r\n\r\n\r\n    return template;\r\n  }\r\n\r\n\r\n}","export * from './loaderManager';\r\nexport * from './createInstance';","import { VeryTable } from '../index';\r\nimport { VE_Template, VE_Templates } from '../template';\r\nimport { VeryEngineObject, VE_Objects } from '../object';\r\nimport { VE_FsmData, VE_StateData, VE_StateTriggerData, VE_StateActionData } from '../dataSource';\r\nimport { VE_Manager } from '../manager';\r\nimport { VE_Variables, GameObject, VeryVarManager } from '../variables';\r\nimport { VE_StringFormat } from '../utility';\r\nimport { VE_ErrorManager, VE_Error } from '../global';\r\nimport { StateConst } from '../state';\r\nimport { CreateInstance } from './createInstance';\r\n\r\n\r\nexport enum AnalisysType { Global, Object, Template }\r\n\r\nexport class LoaderManager {\r\n\r\n  private _currentType: AnalisysType = AnalisysType.Global;\r\n\r\n  private _table!: VeryTable;\r\n\r\n  private _projectName: string = '';\r\n\r\n  private _lastFsmID: string = '';\r\n  private _activeTemplate: Nullable<VE_Template> = null;\r\n  private _activeObject: Nullable<VeryEngineObject> = null;\r\n  private _activeFsmData: Nullable<VE_FsmData> = null;\r\n  private _activeStateData: Nullable<VE_StateData> = null;\r\n\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public load(project_name: string, table: VeryTable): boolean {\r\n    this._projectName = project_name;\r\n    this._table = table;\r\n\r\n    // \r\n    VE_Manager.createProject(project_name);\r\n\r\n    let templates: VE_Templates = VE_Manager.templates(project_name);\r\n    let objects: VE_Objects = VE_Manager.objects(project_name);\r\n    let globalVars: VE_Variables = VE_Manager.variables(project_name);\r\n\r\n    // console.log(table);\r\n    if (table) {\r\n      for (let i: number = 1; i < table.RowCount; i++) {\r\n        // console.log(`${i+1}${table.getData(i, 0)}`);\r\n        // \r\n        if(table.getData(i, 0).startsWith('//')) {\r\n          continue;\r\n        }\r\n        // \r\n        if(table.getRow(i)!.isEmpty()) {\r\n          continue;\r\n          // console.log('' + (i + 1));\r\n        }\r\n        // 1\r\n        if (table.getData(i, 0).startsWith(\"_\")) {\r\n          this._activeFsmData = null;\r\n          this._activeStateData = null;\r\n          this._currentType = AnalisysType.Template;\r\n          let templateID = table.getData(i, 0).replace(' ', '').substring(3);\r\n          // TODO: \r\n          if (templateID.indexOf(':') > -1 || templateID.indexOf('') > -1) {\r\n\r\n          } else {\r\n            if (!VE_StringFormat.isIDLegal(templateID)) {\r\n              VE_ErrorManager.add(VE_Error.error(table.pos(i, 0), \"\" + table.getData(i, 0) + \"\", table.ID))\r\n              return false;\r\n            }\r\n            if (!templates.isCreatedTemplate(templateID)) {\r\n              let template: VE_Template = new VE_Template(project_name, templateID);\r\n              templates.addTemplate(templateID, template);\r\n              this._activeTemplate = template;\r\n            } else {\r\n              VE_ErrorManager.add(VE_Error.error(table.pos(i, 0), \"\" + table.getData(i, 0) + \"\", table.ID))\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        // 2\r\n        else if (table.getData(i, 0) !== '') {\r\n          this._activeFsmData = null;\r\n          this._activeStateData = null;\r\n          this._currentType = AnalisysType.Object;\r\n          let objectID: string = table.getData(i, 0);\r\n          let objName: string = '';\r\n          if (objectID.indexOf('=') > -1) {\r\n            let nameArray: string[] = objectID.split('=');\r\n            if (nameArray.length === 2) {\r\n              objectID = nameArray[0].trim();\r\n              objName = nameArray[1].trim();\r\n            } else {\r\n              VE_ErrorManager.add(VE_Error.error(table.pos(i, 0), \"\" + table.getData(i, 0) + \"=\", table.ID))\r\n              return false;\r\n            }\r\n          }\r\n          if (!VE_StringFormat.isIDLegal(objectID)) {\r\n            VE_ErrorManager.add(VE_Error.error(table.pos(i, 0), \"\" + table.getData(i, 0) + \"\", table.ID))\r\n            return false;\r\n          }\r\n          // GameObject\r\n          let activeGameObject: Nullable<GameObject> = null;\r\n          if (objName === '') {\r\n            activeGameObject = new GameObject(`__${objectID}_Empty`);\r\n          } else {\r\n            activeGameObject = GameObject.find(objName);\r\n            if (activeGameObject === null) {\r\n              VE_ErrorManager.add(VE_Error.error(table.pos(i, 0), \"\" + objName + \"\", table.ID))\r\n              return false;\r\n            }\r\n          }\r\n          if (!objects.isCreated(objectID)) {\r\n            // \r\n            let tempObject: VeryEngineObject = new VeryEngineObject(project_name, objectID, activeGameObject);\r\n            objects.add(objectID, tempObject);\r\n            this._activeObject = tempObject;\r\n          } else {\r\n            VE_ErrorManager.add(VE_Error.error(table.pos(i, 0), \"\" + table.getData(i, 0) + \"\", table.ID))\r\n            return false;\r\n          }\r\n        }\r\n        // 3\r\n        else if (table.getData(i, 5) !== \"\" && table.getData(i, 1) === \"\" && table.getData(i, 2) === \"\" && table.getData(i, 3) === \"\" && table.getData(i, 4) === \"\" && table.getData(i, 6) === \"\" && table.getData(i, 7) === \"\" && table.getData(i, 8) === \"\") {\r\n          let paraData: string = table.getData(i, 5);\r\n          // \r\n          if (this._currentType === AnalisysType.Global) {\r\n            // \r\n            let varArray: string[] = VE_StringFormat.paraSegment(paraData);\r\n            if (varArray.length === 2 || varArray.length === 3) {\r\n              let varID: string = varArray[0].trim();\r\n              if (!VE_StringFormat.isIDLegal(varID)) {\r\n                VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                return false;\r\n              }\r\n              let paraArray: string[] = [varArray[1].trim()];\r\n              if (varArray.length === 2) {\r\n                paraArray[1] = '';\r\n              } else {\r\n                paraArray[1] = varArray[2].trim();\r\n              }\r\n              if (!globalVars.varData.isCreatedVariable(varID)) {\r\n                globalVars.varData.addVariable(varID, paraArray, table.pos(i, 5));\r\n              } else {\r\n                VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                return false;\r\n              }\r\n            } else {\r\n              VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"\", table.ID))\r\n              return false;\r\n            }\r\n          }\r\n          // \r\n          else if (paraData.indexOf('=') > -1) {\r\n            let paraArray: string[] = paraData.split('=');\r\n            // \r\n            // \r\n            if (paraArray.length === 2 && paraArray[0].trim() === this._lastFsmID) {\r\n              if (this._activeFsmData === null) {\r\n                VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                return false;\r\n              } else {\r\n                let stateInfo: string[] = paraArray[1].trim().split(/,|/);\r\n                let stateIndex: number = StateConst.STATE_INDEX;\r\n                let stateData: Nullable<VE_StateData> = null;\r\n                if (stateInfo.length === 2) {\r\n                  stateInfo[0] = stateInfo[0].trim();\r\n                  stateInfo[1] = stateInfo[1].trim();\r\n                  if (stateInfo[1].startsWith('#')) {\r\n                    stateIndex = parseInt(stateInfo[1].substring(1));\r\n                    if (stateIndex === NaN) {\r\n                      VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"IDIDID=#ID\", table.ID))\r\n                      return false;\r\n                    }\r\n                  } else {\r\n                    VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"IDIDID=#ID\", table.ID))\r\n                    return false;\r\n                  }\r\n                }\r\n                stateData = new VE_StateData(this._activeFsmData, stateInfo[0].trim(), false, stateIndex);\r\n                stateData.rowIndex = i;\r\n                this._activeFsmData.addState(stateData);\r\n                this._activeStateData = stateData;\r\n              }\r\n            }\r\n            // \r\n            else {\r\n              let varArray: string[] = VE_StringFormat.paraSegment(paraData);\r\n              if (varArray.length === 3) {\r\n                let varID: string = varArray[0].trim();\r\n                if (!VE_StringFormat.isIDLegal(varID)) {\r\n                  VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                  return false;\r\n                }\r\n                let para2Array: string[] = [varArray[1].trim(), varArray[2].trim()];\r\n                // \r\n                if (this._currentType === AnalisysType.Object) {\r\n                  if (this._activeObject!.varData.isCreatedVariable(varID)) {\r\n                    VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + this._activeObject!.objectID + \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                    return false;\r\n                  }\r\n                  // \r\n                  if (this._activeObject!.dataSource.isCreatedFsm(varID)) {\r\n                    VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + this._activeObject!.objectID + \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                    return false;\r\n                  }\r\n                  this._activeObject!.varData.addVariable(varID, para2Array, table.pos(i, 5));\r\n                }\r\n                else if (this._currentType === AnalisysType.Template) {\r\n                  if (this._activeTemplate!.varData.isCreatedVariable(varID)) {\r\n                    VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + this._activeTemplate!.templateID + \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                    return false;\r\n                  }\r\n                  // \r\n                  if (this._activeTemplate!.dataSource.isCreatedFsm(varID)) {\r\n                    VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                    return false;\r\n                  }\r\n                  this._activeTemplate!.varData.addVariable(varID, para2Array, table.pos(i, 5));\r\n                }\r\n                else {\r\n                  VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                  return false;\r\n                }\r\n              } else {\r\n                VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n          // \r\n          else {\r\n            let varArray: string[] = VE_StringFormat.paraSegment(paraData);\r\n            if (varArray.length === 2 || varArray.length === 3) {\r\n              let varID: string = varArray[0].trim();\r\n              if (!VE_StringFormat.isIDLegal(varID)) {\r\n                VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                return false;\r\n              }\r\n              let paraArray: string[] = [varArray[1].trim()];\r\n              if (varArray.length === 2) {\r\n                paraArray[1] = '';\r\n              } else {\r\n                paraArray[1] = varArray[2].trim();\r\n              }\r\n              // \r\n              if (this._currentType === AnalisysType.Object) {\r\n                if (this._activeObject!.varData.isCreatedVariable(varID)) {\r\n                  VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + this._activeObject!.objectID + \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                  return false;\r\n                }\r\n                // \r\n                if (this._activeObject!.dataSource.isCreatedFsm(varID)) {\r\n                  VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + this._activeObject!.objectID + \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                  return false;\r\n                }\r\n                this._activeObject!.varData.addVariable(varID, paraArray, table.pos(i, 5));\r\n              }\r\n              else if (this._currentType === AnalisysType.Template) {\r\n                if (this._activeTemplate!.varData.isCreatedVariable(varID)) {\r\n                  VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + this._activeTemplate!.templateID + \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                  return false;\r\n                }\r\n                // \r\n                if (this._activeTemplate!.dataSource.isCreatedFsm(varID)) {\r\n                  VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + this._activeTemplate!.templateID + \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                  return false;\r\n                }\r\n                this._activeTemplate!.varData.addVariable(varID, paraArray, table.pos(i, 5));\r\n              }\r\n              else {\r\n                VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                return false;\r\n              }\r\n            } else {\r\n              VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"\", table.ID))\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        // 4 +  +  +  + \r\n        else {\r\n          // \r\n          if (table.getData(i, 5) !== '') {\r\n            let paraData: string = table.getData(i, 5);\r\n            // \r\n            if (paraData.indexOf('=') > -1) {\r\n              let stateArray: string[] = paraData.split('=');\r\n              let fsmID: string = stateArray[0].trim();\r\n              // \r\n              if (stateArray.length === 2 && fsmID === this._lastFsmID) {\r\n                if (this._activeFsmData === null) {\r\n                  VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                  return false;\r\n                } else {\r\n                  let stateInfo: string[] = stateArray[1].trim().split(/,|/);\r\n                  let stateIndex: number = StateConst.STATE_INDEX;\r\n                  let stateData: Nullable<VE_StateData> = null;\r\n                  if (stateInfo.length === 2) {\r\n                    stateInfo[0] = stateInfo[0].trim();\r\n                    stateInfo[1] = stateInfo[1].trim();\r\n                    if (stateInfo[1].startsWith('#')) {\r\n                      stateIndex = parseInt(stateInfo[1].substring(1));\r\n                      if (stateIndex === NaN) {\r\n                        VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"IDIDID=#ID\", table.ID))\r\n                        return false;\r\n                      }\r\n                    } else {\r\n                      VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"IDIDID=#ID\", table.ID))\r\n                      return false;\r\n                    }\r\n                  }\r\n                  stateData = new VE_StateData(this._activeFsmData, stateInfo[0].trim(), false, stateIndex);\r\n                  stateData.rowIndex = i;\r\n                  this._activeFsmData.addState(stateData);\r\n                  this._activeStateData = stateData;\r\n                }\r\n              } else {\r\n                VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"\" + fsmID + \"\", table.ID))\r\n                return false;\r\n              }\r\n            }\r\n            // \r\n            else {\r\n              let varArray: string[] = VE_StringFormat.paraSegment(paraData);\r\n              if (varArray.length === 2 || varArray.length === 3 || varArray.length === 4) {\r\n                let fsmID: string = varArray[0].trim();\r\n                if (!VE_StringFormat.isIDLegal(fsmID)) {\r\n                  VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                  return false;\r\n                }\r\n                this._lastFsmID = fsmID;\r\n                let paraArray: string[] = [varArray[1].trim()];\r\n                if (varArray.length === 2) {\r\n                  paraArray[1] = '';\r\n                } else {\r\n                  paraArray[1] = varArray[2].trim();\r\n                }\r\n                let stateIndex: number = StateConst.STATE_INDEX;\r\n                if (varArray.length === 4) {\r\n                  if (varArray[3].startsWith('#')) {\r\n                    stateIndex = parseInt(varArray[3].substring(1));\r\n                    if (stateIndex === NaN) {\r\n                      VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + varArray[3] + \"IDIDID#ID\", table.ID))\r\n                      return false;\r\n                    }\r\n                  } else {\r\n                    VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + varArray[3] + \"IDIDID#ID\", table.ID))\r\n                    return false;\r\n                  }\r\n                }\r\n                // \r\n                if (this._currentType === AnalisysType.Object) {\r\n                  if (this._activeObject!.varData.isCreatedVariable(fsmID)) {\r\n                    VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + this._activeObject!.objectID + \"\" + fsmID + \"\", table.ID))\r\n                    return false;\r\n                  }\r\n                  // \r\n                  if (this._activeObject!.dataSource.isCreatedFsm(fsmID)) {\r\n                    VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + this._activeObject!.objectID + \"\" + fsmID + \"\", table.ID))\r\n                    return false;\r\n                  }\r\n                  // \r\n                  this._activeObject!.dataSource.createFsm(fsmID, table.pos(i, 5));\r\n                  this._activeFsmData = this._activeObject!.dataSource.getFsmData(fsmID);\r\n                  // \r\n                  if (VeryVarManager.hasVarType(paraArray[0])) {\r\n                    this._activeFsmData.initFsm(paraArray[0], paraArray[1]);\r\n                    // \r\n                    let stateData: VE_StateData = new VE_StateData(this._activeFsmData, paraArray[1], true, stateIndex);\r\n                    stateData.rowIndex = i;\r\n                    this._activeFsmData.addState(stateData);\r\n                    this._activeStateData = stateData;\r\n                  } else {\r\n                    VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + this._activeObject!.objectID + \"\" + fsmID + \"\" + paraArray[0] + \"\", table.ID))\r\n                    return false;\r\n                  }\r\n                }\r\n                else if (this._currentType === AnalisysType.Template) {\r\n                  if (this._activeTemplate!.varData.isCreatedVariable(fsmID)) {\r\n                    VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + this._activeTemplate!.templateID + \"\" + fsmID + \"\", table.ID))\r\n                    return false;\r\n                  }\r\n                  // \r\n                  if (this._activeTemplate!.dataSource.isCreatedFsm(fsmID)) {\r\n                    VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + this._activeTemplate!.templateID + \"\" + fsmID + \"\", table.ID))\r\n                    return false;\r\n                  }\r\n                  // \r\n                  this._activeTemplate!.dataSource.createFsm(fsmID, table.pos(i, 5));\r\n                  this._activeFsmData = this._activeTemplate!.dataSource.getFsmData(fsmID);\r\n                  // \r\n                  if (VeryVarManager.hasVarType(paraArray[0])) {\r\n                    this._activeFsmData.initFsm(paraArray[0], paraArray[1]);\r\n                    // \r\n                    let stateData: VE_StateData = new VE_StateData(this._activeFsmData, paraArray[1], true, stateIndex);\r\n                    stateData.rowIndex = i;\r\n                    this._activeFsmData.addState(stateData);\r\n                    this._activeStateData = stateData;\r\n                  } else {\r\n                    VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + this._activeTemplate!.objectID + \"\" + fsmID + \"\" + paraArray[0] + \"\", table.ID))\r\n                    return false;\r\n                  }\r\n                }\r\n                else {\r\n                  VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                  return false;\r\n                }\r\n              } else {\r\n                VE_ErrorManager.add(VE_Error.error(table.pos(i, 5), \"\" + table.getData(i, 5) + \"\", table.ID))\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n\r\n          // \r\n          if (table.getData(i, 2) !== '') {\r\n            if (this._activeFsmData === null || this._activeStateData === null) {\r\n              VE_ErrorManager.add(VE_Error.error(table.pos(i, 2), \"\" + table.getData(i, 2) + \"\", table.ID))\r\n              return false;\r\n            }\r\n            // DataSource\r\n            let triggerID: string = table.getData(i, 2);\r\n            if (!VE_StringFormat.isIDLegal(triggerID)) {\r\n              VE_ErrorManager.add(VE_Error.error(table.pos(i, 2), \"\" + table.getData(i, 2) + \"\", table.ID))\r\n              return false;\r\n            }\r\n            if (table.getData(i, 3) !== '') {\r\n              if (!this._activeFsmData!.dataSource.isCreatedTrigger(triggerID)) {\r\n                this._activeFsmData!.dataSource.addTrigger(triggerID, VE_StringFormat.paraSegment(table.getData(i, 3)), table.pos(i, 2));\r\n              } else {\r\n                VE_ErrorManager.add(VE_Error.error(table.pos(i, 2), \"\" + table.getData(i, 2) + \"\", table.ID))\r\n                return false;\r\n              }\r\n            }\r\n\r\n            // StateData\r\n            let triggerData: VE_StateTriggerData = new VE_StateTriggerData(triggerID);\r\n            this._activeStateData.addTrigger(triggerData, table.pos(i, 2));\r\n\r\n            // \r\n            if (table.getData(i, 1) !== '') {\r\n              triggerData.logicalSwitch = table.getData(i, 1);\r\n            }\r\n\r\n            // \r\n            if (table.getData(i, 4) !== '') {\r\n              triggerData.logicalExp = table.getData(i, 4);\r\n            }\r\n          } else {\r\n            // \r\n            if (table.getData(i, 1) !== '') {\r\n              VE_ErrorManager.add(VE_Error.error(table.pos(i, 1), \"\" + table.getData(i, 1) + \"\", table.ID))\r\n              return false;\r\n            }\r\n\r\n            // \r\n            if (table.getData(i, 4) !== '') {\r\n              if (this._activeFsmData === null || this._activeStateData === null) {\r\n                VE_ErrorManager.add(VE_Error.error(table.pos(i, 4), \"\" + table.getData(i, 4) + \"\", table.ID))\r\n                return false;\r\n              }\r\n              if (this._activeStateData.logicalExp !== '') {\r\n                VE_ErrorManager.add(VE_Error.error(table.pos(i, 4), \"\" + table.getData(i, 4) + \"12\", table.ID))\r\n                return false;\r\n              } else {\r\n                this._activeStateData.logicalExp = table.getData(i, 4);\r\n              }\r\n            }\r\n\r\n            if (table.getData(i, 3) !== '') {\r\n              VE_ErrorManager.add(VE_Error.warning(table.pos(i, 3), \"\" + table.getData(i, 3) + \"\", table.ID))\r\n            }\r\n          }\r\n\r\n          // \r\n          if (table.getData(i, 6) !== '') {\r\n            if (this._activeFsmData === null || this._activeStateData === null) {\r\n              VE_ErrorManager.add(VE_Error.error(table.pos(i, 6), \"\" + table.getData(i, 6) + \"\", table.ID))\r\n              return false;\r\n            }\r\n            // \r\n            let tempStr: string = table.getData(i, 6).toLowerCase();\r\n            if (tempStr.startsWith('log(') || tempStr.startsWith('log') || tempStr.startsWith('') || tempStr.startsWith('(')) {\r\n              let newActionID: string = project_name + '___' + StateConst.LogCount++;\r\n              let actionData: VE_StateActionData = new VE_StateActionData(newActionID, 'true', 'false');\r\n              this._activeStateData.addAction(actionData, table.pos(i, 6));\r\n              let actionPara: string = table.getData(i, 6).substring(4);\r\n              if (tempStr.startsWith('')) {\r\n                actionPara = table.getData(i, 6).substring(3);\r\n              }\r\n              this._activeFsmData.dataSource.addAction(newActionID, ['', '', actionPara.substring(0, actionPara.length - 1)], ['false', 'false'], table.pos(i, 6));\r\n              if (table.getData(i, 7) !== '') {\r\n                VE_ErrorManager.add(VE_Error.warning(table.pos(i, 7), \"\" + table.getData(i, 7) + \"\", table.ID))\r\n              }\r\n            }\r\n            else if (tempStr.startsWith('error(') || tempStr.startsWith('error') || tempStr.startsWith('') || tempStr.startsWith('(')) {\r\n              let newActionID: string = project_name + '___' + StateConst.LogCount++;\r\n              let actionData: VE_StateActionData = new VE_StateActionData(newActionID, 'true', 'false');\r\n              this._activeStateData.addAction(actionData, table.pos(i, 6));\r\n              let actionPara: string = table.getData(i, 6).substring(6);\r\n              if (tempStr.startsWith('')) {\r\n                actionPara = table.getData(i, 6).substring(3);\r\n              }\r\n              this._activeFsmData.dataSource.addAction(newActionID, ['', '', actionPara.substring(0, actionPara.length - 1)], ['false', 'false'], table.pos(i, 6));\r\n              if (table.getData(i, 7) !== '') {\r\n                VE_ErrorManager.add(VE_Error.warning(table.pos(i, 7), \"\" + table.getData(i, 7) + \"\", table.ID))\r\n              }\r\n            }\r\n            else if (tempStr.startsWith('warn(') || tempStr.startsWith('warn') || tempStr.startsWith('') || tempStr.startsWith('(')) {\r\n              let newActionID: string = project_name + '___' + StateConst.LogCount++;\r\n              let actionData: VE_StateActionData = new VE_StateActionData(newActionID, 'true', 'false');\r\n              this._activeStateData.addAction(actionData, table.pos(i, 6));\r\n              let actionPara: string = table.getData(i, 6).substring(5);\r\n              if (tempStr.startsWith('')) {\r\n                actionPara = table.getData(i, 6).substring(3);\r\n              }\r\n              this._activeFsmData.dataSource.addAction(newActionID, ['', '', actionPara.substring(0, actionPara.length - 1)], ['false', 'false'], table.pos(i, 6));\r\n              if (table.getData(i, 7) !== '') {\r\n                VE_ErrorManager.add(VE_Error.warning(table.pos(i, 7), \"\" + table.getData(i, 7) + \"\", table.ID))\r\n              }\r\n            }\r\n            else if (table.getData(i, 6).indexOf('=') > -1) {\r\n              if (table.getData(i, 7) !== '') {\r\n                VE_ErrorManager.add(VE_Error.warning(table.pos(i, 7), \"\" + table.getData(i, 7) + \"\", table.ID))\r\n              }\r\n\r\n              // = \r\n              let equalIndex: number = table.getData(i, 6).indexOf('=');\r\n              let actionData: VE_StateActionData = new VE_StateActionData('');\r\n              actionData.setAssignmentAction(table.getData(i, 6), table.getData(i, 6).substring(0, equalIndex).trim(), table.getData(i, 6).substring(equalIndex + 1).trim());\r\n              this._activeStateData.addAction(actionData, table.pos(i, 6));\r\n            }\r\n            else {\r\n              // ID\r\n              let actionArray: string[] = VE_StringFormat.paraSegment(table.getData(i, 6));\r\n              if (actionArray.length === 2 || actionArray.length === 3 || actionArray.length === 4) {\r\n                let actionData: VE_StateActionData;\r\n                if (actionArray.length === 2) {\r\n                  actionData = new VE_StateActionData(actionArray[0], actionArray[1]);\r\n                } else if (actionArray.length === 3) {\r\n                  actionData = new VE_StateActionData(actionArray[0], actionArray[1], actionArray[2]);\r\n                } else {\r\n                  actionData = new VE_StateActionData(actionArray[0], actionArray[1], actionArray[2], actionArray[3]);\r\n                }\r\n                this._activeStateData.addAction(actionData, table.pos(i, 6));\r\n              } else {\r\n                VE_ErrorManager.add(VE_Error.error(table.pos(i, 6), \"\" + table.getData(i, 6) + \"IDboolbool\", table.ID))\r\n                return false;\r\n              }\r\n\r\n              // \r\n              if (table.getData(i, 7) !== '') {\r\n                if (!VE_StringFormat.isIDLegal(actionArray[0])) {\r\n                  VE_ErrorManager.add(VE_Error.error(table.pos(i, 6), \"\" + table.getData(i, 6) + \"\", table.ID))\r\n                  return false;\r\n                }\r\n                if (!this._activeFsmData.dataSource.isCreatedAction(actionArray[0])) {\r\n                  if (actionArray.length == 2) {\r\n                    this._activeFsmData.dataSource.addAction(actionArray[0], VE_StringFormat.paraSegment(table.getData(i, 7)), [actionArray[1], 'false'], table.pos(i, 6));\r\n                  } else {\r\n                    this._activeFsmData.dataSource.addAction(actionArray[0], VE_StringFormat.paraSegment(table.getData(i, 7)), [actionArray[1], actionArray[2]], table.pos(i, 6));\r\n                  }\r\n                } else {\r\n                  VE_ErrorManager.add(VE_Error.error(table.pos(i, 6), \"\" + table.getData(i, 6) + \"\", table.ID))\r\n                  return false;\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            if (table.getData(i, 7) !== '') {\r\n              VE_ErrorManager.add(VE_Error.warning(table.pos(i, 7), \"\" + table.getData(i, 7) + \"\", table.ID))\r\n            }\r\n          }\r\n\r\n          // \r\n          if (table.getData(i, 8) !== '') {\r\n            if (this._activeFsmData === null || this._activeStateData === null) {\r\n              VE_ErrorManager.add(VE_Error.error(table.pos(i, 8), \"\" + table.getData(i, 8) + \"\", table.ID))\r\n              return false;\r\n            }\r\n            this._activeStateData!.addAssociatedState(table.getData(i, 8), table.pos(i, 8));\r\n          }\r\n        }\r\n      }\r\n\r\n      return CreateInstance.createProject(project_name);\r\n    } else {\r\n      VE_ErrorManager.add(VE_Error.error('', '', 'null'));\r\n      return false;\r\n    }\r\n\r\n  }\r\n\r\n\r\n}","export * from './projects';\r\nexport * from './manager';\r\nexport * from './reset';","import { VE_Projects } from \"./projects\";\r\nimport { VE_Objects } from \"../object\";\r\nimport { VE_Templates } from \"../template\";\r\nimport { VE_Variables } from \"../variables\";\r\nimport { VE_VariableData } from \"../dataSource\";\r\n\r\nexport class VE_Manager {\r\n\r\n  public static get projects(): VE_Projects {\r\n    if(this._projects === null) {\r\n      this._projects = new VE_Projects();\r\n    }\r\n    return this._projects;\r\n  }\r\n  private static _projects: VE_Projects | null = null; \r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public static createProject(project_name: string): void {\r\n    if(!VE_Manager.projects.isCreatedObjects(project_name)) {\r\n      VE_Manager.projects.addObjects(project_name, new VE_Objects(project_name));\r\n    }\r\n    if(!VE_Manager.projects.isCreatedTemplates(project_name)) {\r\n      VE_Manager.projects.addTemplates(project_name, new VE_Templates(project_name));\r\n    }\r\n    if(!VE_Manager.projects.isCreatedVariables(project_name)) {\r\n      VE_Manager.projects.addVariables(project_name, new VE_Variables(project_name));\r\n    }\r\n  }\r\n\r\n  public static globalVarData(project_name: string): VE_VariableData {\r\n    if(!VE_Manager.projects.isCreatedGlobals(project_name)) {\r\n      VE_Manager.projects.addVariables(project_name, new VE_Variables(project_name));\r\n    }\r\n    return VE_Manager.projects.getGlobalVars(project_name);\r\n  }\r\n\r\n  public static templates(project_name: string): VE_Templates {\r\n    if(!VE_Manager.projects.isCreatedTemplates(project_name)) {\r\n      VE_Manager.projects.addTemplates(project_name, new VE_Templates(project_name));\r\n    }\r\n    return VE_Manager.projects.getTemplates(project_name);\r\n  }\r\n\r\n  public static variables(project_name: string): VE_Variables {\r\n    if(!VE_Manager.projects.isCreatedVariables(project_name)) {\r\n      VE_Manager.projects.addVariables(project_name, new VE_Variables(project_name));\r\n    }\r\n    return VE_Manager.projects.getVariables(project_name);\r\n  }\r\n\r\n  public static objects(project_name: string): VE_Objects {\r\n    if(!VE_Manager.projects.isCreatedObjects(project_name)) {\r\n      VE_Manager.projects.addObjects(project_name, new VE_Objects(project_name));\r\n    }\r\n    return VE_Manager.projects.getObjects(project_name);\r\n  }\r\n\r\n  public static clear(): void {\r\n    VE_Manager.projects.clear()\r\n    this._projects = null;\r\n  }\r\n\r\n  public static clearProject(project_name: string): void {\r\n    VE_Manager.projects.clearProject(project_name);\r\n  }\r\n\r\n\r\n}","import { VE_Objects } from \"../object\";\r\nimport { VE_VariableData } from \"../dataSource\";\r\nimport { VE_Templates } from \"../template\";\r\nimport { VE_Variables } from \"../variables\";\r\n\r\n\r\nexport class VE_Projects {\r\n\r\n  private _objects: { [key: string]: VE_Objects } = {};\r\n  private _variables: { [key: string]: VE_Variables } = {};\r\n  private _templates: { [key: string]: VE_Templates } = {};\r\n\r\n  public projects: string[] = [];\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public isCreatedObjects(project_name: string): boolean {\r\n    if(this._objects[project_name]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addObjects(project_name: string, objects: VE_Objects): void {\r\n    this._objects[project_name] = objects;\r\n  }\r\n\r\n  public getObjects(project_name: string): VE_Objects {\r\n    return this._objects[project_name];\r\n  }\r\n\r\n  public isCreatedVariables(project_name: string): boolean {\r\n    if(this._variables[project_name]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addVariables(project_name: string, variables: VE_Variables): void {\r\n    this._variables[project_name] = variables;\r\n  }\r\n\r\n  public getVariables(project_name: string): VE_Variables {\r\n    return this._variables[project_name];\r\n  }\r\n\r\n  public isCreatedTemplates(project_name: string): boolean {\r\n    if(this._templates[project_name]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addTemplates(project_name: string, templates: VE_Templates): void {\r\n    this._templates[project_name] = templates;\r\n  }\r\n\r\n  public getTemplates(project_name: string): VE_Templates {\r\n    return this._templates[project_name];\r\n  }\r\n\r\n  public isCreatedGlobals(project_name: string): boolean {\r\n    if(this._variables[project_name]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getGlobalVars(project_name: string): VE_VariableData {\r\n    return this._variables[project_name].varData;\r\n  }\r\n\r\n  public clear(): void {\r\n    // TODO\r\n    this._objects = {};\r\n    this._templates = {};\r\n    this._variables = {};\r\n  }\r\n\r\n  public clearProject(project_name: string): void {\r\n    delete this._objects[project_name];\r\n    delete this._templates[project_name];\r\n    delete this._variables[project_name];\r\n  }\r\n\r\n  public sleep(): void {\r\n    \r\n  }\r\n\r\n\r\n}","import { VE_Manager } from \"./manager\";\r\n\r\nexport class VE_Reset {\r\n\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public static dispose(): void {\r\n\r\n    // \r\n    VE_Manager.clear();\r\n\r\n    // \r\n\r\n    // \r\n\r\n    // \r\n\r\n  }\r\n\r\n\r\n\r\n}","export * from './veryengineObject';\r\nexport * from './objects';","import { VeryEngineObject } from \"./veryengineObject\";\r\nimport { ArrayUtility } from \"../utility\";\r\n\r\nexport class VE_Objects {\r\n\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = '';\r\n\r\n  private _objectIDs: string[] = [];\r\n  private _objectDics: { [key: string]: VeryEngineObject } = {};\r\n\r\n  public get count(): number {\r\n    return this._objectIDs.length;\r\n  }\r\n\r\n  constructor(project_name: string) {\r\n    this._projectName = project_name;\r\n  }\r\n\r\n  public isCreated(object_id: string): boolean {\r\n    if (this._objectDics[object_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public add(object_id: string, very_object: VeryEngineObject): void {\r\n    if (!this.isCreated(object_id)) {\r\n      this._objectIDs.push(object_id);\r\n      this._objectDics[object_id] = very_object;\r\n    }\r\n  }\r\n\r\n  public getObjectID(index: number): string {\r\n    if(index >= 0 && index < this._objectIDs.length) {\r\n      return this._objectIDs[index];\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  public getVeryObject(object_id: string): VeryEngineObject {\r\n    return this._objectDics[object_id];\r\n  }\r\n\r\n  public unloadObject(object_id: string): void {\r\n    // this._objectIDs.re\r\n    ArrayUtility.remove(this._objectIDs, object_id);\r\n    delete this._objectDics.object_id;\r\n\r\n  }\r\n\r\n  public clear(): void {\r\n    for(let i: number = 0; i < this._objectIDs.length; i++) {\r\n      let tempObject = this._objectDics[this._objectIDs[i]];\r\n      if(tempObject) {\r\n        tempObject.clear();\r\n      }\r\n    }\r\n    this._objectIDs = [];\r\n    this._objectDics = {};\r\n  }\r\n}","import { GameObject, IVeryVar } from \"../variables\";\r\nimport { IExpression } from \"../expression\";\r\nimport { VE_ActionBehaviour } from \"../action\";\r\nimport { VE_TriggerBehaviour } from \"../trigger\";\r\nimport { VE_Fsm } from \"../state\";\r\nimport { VE_Template } from \"../template\";\r\nimport { VE_DataSource, VE_VariableData } from \"../dataSource\";\r\n\r\nexport class VeryEngineObject {\r\n\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = '';\r\n\r\n  public get objectID(): string {\r\n    return this._objectID;\r\n  }\r\n  private _objectID: string = '';\r\n\r\n  public gameObject: GameObject = new GameObject('');\r\n\r\n  private _variables: { [key: string]: IVeryVar } = {};\r\n  private _expressions: { [key: string]: IExpression } = {};\r\n  private _actions: { [key: string]: VE_ActionBehaviour } = {};\r\n  private _triggers: { [key: string]: VE_TriggerBehaviour } = {};\r\n  private _fsms: { [key: string]: VE_Fsm } = {};\r\n  private _templates: { [key: string]: VE_Template } = {};\r\n\r\n  public dataSource: VE_DataSource;\r\n\r\n  public varData: VE_VariableData;\r\n\r\n\r\n\r\n  constructor(project_name: string, object_id: string, game_object: GameObject) {\r\n    this._projectName = projectName;\r\n    this._objectID = object_id;\r\n    this.gameObject = game_object;\r\n    this.dataSource = new VE_DataSource(project_name, object_id, false);\r\n    this.varData = new VE_VariableData(project_name);\r\n  }\r\n\r\n  public isCreatedFsm(fsm_id: string): boolean {\r\n    if (this._fsms[fsm_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addFsm(fsm_id: string, fsm: VE_Fsm): void {\r\n    this._fsms[fsm_id] = fsm;\r\n  }\r\n\r\n  public getFsm(fsm_id: string): VE_Fsm {\r\n    return this._fsms[fsm_id];\r\n  }\r\n\r\n  public isCreatedTrigger(trigger_id: string): boolean {\r\n    if (this._triggers[trigger_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addTrigger(trigger_id: string, trigger: VE_TriggerBehaviour): void {\r\n    this._triggers[trigger_id] = trigger;\r\n  }\r\n\r\n  public getTrigger(trigger_id: string): VE_TriggerBehaviour {\r\n    return this._triggers[trigger_id];\r\n  }\r\n\r\n  public isCreatedAction(action_id: string): boolean {\r\n    if (this._actions[action_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addAction(action_id: string, action: VE_ActionBehaviour): void {\r\n    this._actions[action_id] = action;\r\n  }\r\n\r\n  public getAction(action_id: string): VE_ActionBehaviour {\r\n    return this._actions[action_id];\r\n  }\r\n\r\n  public isCreatedVariable(var_id: string): boolean {\r\n    if (this._variables[var_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addVariable(var_id: string, variable: IVeryVar): void {\r\n    this._variables[var_id] = variable;\r\n  }\r\n\r\n  public getVariable(var_id: string): IVeryVar {\r\n    return this._variables[var_id];\r\n  }\r\n\r\n  public isCreatedExpression(exp_id: string): boolean {\r\n    if (this._expressions[exp_id]) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public addExpression(exp_id: string, expression: IExpression): void {\r\n    this._expressions[exp_id] = expression;\r\n  }\r\n\r\n  public getExpression(exp_id: string): IExpression {\r\n    return this._expressions[exp_id];\r\n  }\r\n\r\n  public isCreatedTemplate(template_id: string): boolean {\r\n    if (this._templates[template_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addTemplate(template_id: string, template: VE_Template): void {\r\n    this._templates[template_id] = template;\r\n  }\r\n\r\n  public getTemplate(template_id: string): VE_Template {\r\n    return this._templates[template_id];\r\n  }\r\n\r\n  public isCreatedVar(var_id: string): boolean {\r\n    if (this._variables[var_id] || this._expressions[var_id] || this._templates[var_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // getState(fsm_id: string, index: number): VE_State {\r\n\r\n  // }\r\n\r\n  unload(): void { }\r\n\r\n  // setUnloadCallback(callback): void {}\r\n\r\n\r\n\r\n\r\n  public clear(): void {\r\n\r\n    if (this.dataSource) {\r\n      this.dataSource.clear();\r\n    }\r\n    if (this.varData) {\r\n      this.varData.clear();\r\n    }\r\n    this._variables = {};\r\n    this._expressions = {};\r\n\r\n    if (this._templates) {\r\n      Object.keys(this._templates).forEach(key => {\r\n        this._templates[key].clear();\r\n      })\r\n      this._templates = {};\r\n    }\r\n\r\n    this._fsms = {};\r\n\r\n    if (this._actions) {\r\n      Object.keys(this._actions).forEach(key => {\r\n        this._actions[key].destroy();\r\n      })\r\n      this._actions = {};\r\n    }\r\n\r\n    if (this._triggers) {\r\n      Object.keys(this._triggers).forEach(key => {\r\n        this._triggers[key].destroy();\r\n      })\r\n      this._triggers = {};\r\n    }\r\n  }\r\n\r\n\r\n}","export * from './verySceneVariables';","import { VE_Variables } from \"../variables\";\r\n\r\nexport class VerySceneVariables {\r\n\r\n  public static get Variables(): VE_Variables {\r\n    if(VerySceneVariables._variables === null) {\r\n      VerySceneVariables._variables = new VE_Variables('__scene_varibale__');\r\n    }\r\n    return VerySceneVariables._variables;\r\n  }\r\n  private static _variables: Nullable<VE_Variables> = null;\r\n\r\n  public static get HasLoaded(): boolean {\r\n    return this._hasLoaded;\r\n  }\r\n  private static _hasLoaded: boolean = false;\r\n\r\n  public static initIfNeeded(): void {\r\n    if(!this._hasLoaded) {\r\n      console.log('TODO: ');\r\n    }\r\n  }\r\n}","import { VE_State } from \"./state\";\r\nimport { AssociatedFsmType } from \"../enum\";\r\nimport { VE_Template } from \"../template\";\r\n\r\nexport class VE_AssociatedState {\r\n\r\n  private _types: AssociatedFsmType[] = [];\r\n  private _indexs: number[] = [];\r\n\r\n  private _numberIndex: { [key: number]: number } = {};\r\n  private _states: { [key: number]: VE_State } = {};\r\n  private _templates: { [key: number]: VE_Template } = {};\r\n  private _templateIDs: { [key: number]: string } = {};\r\n\r\n  public get FromState(): VE_State {\r\n    return this._fromState;\r\n  }\r\n  private _fromState: VE_State;\r\n\r\n  constructor(from_state: VE_State) {\r\n    this._fromState = from_state;\r\n  }\r\n  \r\n  public add(state: VE_State, index: number): void {\r\n    this._types.push(AssociatedFsmType.Object);\r\n    let key: number = this._types.length;\r\n    this._indexs.push(key);\r\n    this._numberIndex[key] = index;\r\n    this._states[key] = state;\r\n  }\r\n\r\n  public addTemplate(template: VE_Template, fsm_id: string, index: number): void {\r\n    this._types.push(AssociatedFsmType.Object);\r\n    let key: number = this._types.length;\r\n    this._indexs.push(key);\r\n    this._numberIndex[key] = index;\r\n    this._templates[key] = template;\r\n    this._templateIDs[key] = fsm_id;\r\n  }\r\n\r\n  public connect(): void {\r\n\r\n  }\r\n\r\n\r\n}","import { Dictionary } from \"../utility/dictionary\";\r\nimport { VE_State } from \"./state\";\r\nimport { Time } from \"../global\";\r\nimport { StateConst } from \"./stateConst\";\r\nimport { IVeryVar, VeryString } from \"../variables\";\r\nimport { VeryEngineObject } from \"../object\";\r\n\r\nexport class VE_Fsm {\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = \"\";\r\n\r\n  public get ID(): string {\r\n    return this._id;\r\n  }\r\n  private _id: string = \"\";\r\n\r\n  public get objectID(): string {\r\n    return this._objectID;\r\n  }\r\n  private _objectID: string = \"\";\r\n\r\n  public get fsmID(): string {\r\n    return this._fsmID;\r\n  }\r\n  private _fsmID: string = \"\";\r\n\r\n  public get fsmVar(): IVeryVar {\r\n    return this._fsmVar;\r\n  }\r\n  private _fsmVar: IVeryVar;\r\n\r\n  public get VeryObject(): VeryEngineObject {\r\n    return this._veryObject;\r\n  }\r\n  private _veryObject: VeryEngineObject;\r\n\r\n  private _stateDics: Dictionary<number, VE_State> = new Dictionary<\r\n    number,\r\n    VE_State\r\n  >();\r\n  private _states: VE_State[] = [];\r\n\r\n  public get count(): number {\r\n    return this._states.length;\r\n  }\r\n\r\n  private _frameCount: number = -1;\r\n  private _triggerIDs: string[] = [];\r\n\r\n  constructor(\r\n    project_name: string,\r\n    object_id: string,\r\n    fsm_id: string,\r\n    fsm_variable: IVeryVar,\r\n    very_object: VeryEngineObject\r\n  ) {\r\n    this._projectName = project_name;\r\n    this._objectID = object_id;\r\n    this._fsmID = fsm_id;\r\n    this._fsmVar = fsm_variable;\r\n    this._veryObject = very_object;\r\n  }\r\n\r\n  public isCreatedState(state_index: number): boolean {\r\n    return this._stateDics.ContainsKey(state_index);\r\n  }\r\n\r\n  public addState(state: VE_State, state_index: number): void {\r\n    if (!this._stateDics.ContainsKey(state_index)) {\r\n      this._stateDics.Add(state_index, state);\r\n      this._states.push(state);\r\n    }\r\n  }\r\n\r\n  public getState(state_index: number): Nullable<VE_State> {\r\n    return this._stateDics.GetValue(state_index);\r\n  }\r\n\r\n  public removeState(state_index: number): boolean {\r\n    if (this.isCreatedState(state_index)) {\r\n      this._stateDics.Remove(state_index);\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public receiveEvent(trigger_id: string): boolean {\r\n    if (Time.frameCount != this._frameCount) {\r\n      this._frameCount = Time.frameCount;\r\n      this._triggerIDs = [];\r\n      this._triggerIDs.push(trigger_id);\r\n      return true;\r\n    } else {\r\n      if (trigger_id.startsWith(StateConst.ASSOCIATED_STATE_PREFIX)) {\r\n        // console.log(`ID: ${trigger_id} Return True`);\r\n        return true;\r\n      } else {\r\n        if (this._triggerIDs.indexOf(trigger_id) !== -1) {\r\n          return false;\r\n        } else {\r\n          this._triggerIDs.push(trigger_id);\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public setValue(value: any): void {\r\n    this._fsmVar.setValue(value);\r\n  }\r\n}\r\n","export * from './state';\r\nexport * from './fsm';\r\nexport * from './stateAction';\r\nexport * from './associatedState';\r\nexport * from './stateConst';","import { VE_Fsm } from \"./fsm\";\r\nimport { VE_StateAction } from \"./stateAction\";\r\nimport { VE_AssociatedState } from \"./associatedState\";\r\nimport {\r\n  AssignmentType,\r\n  StateActionType,\r\n  ActionType,\r\n  SequenceActionState\r\n} from \"../enum\";\r\nimport { VE_Template } from \"../template\";\r\nimport { IVeryVar, VeryExpression } from \"../variables\";\r\nimport { IExpression } from \"../expression\";\r\nimport { VE_SequenceActions, VE_Assignment } from \"../action\";\r\n\r\nexport class VE_State {\r\n  public get Fsm(): VE_Fsm {\r\n    return this._fsm;\r\n  }\r\n  private _fsm: VE_Fsm;\r\n\r\n  public get isInitialValue(): boolean {\r\n    return this._isInitialValue;\r\n  }\r\n  private _isInitialValue: boolean = false;\r\n\r\n  public get Value(): any {\r\n    return this._value;\r\n  }\r\n  private _value: any = \"\";\r\n\r\n  private _assignmentType: AssignmentType = AssignmentType.Const;\r\n\r\n  public get isTemplateVar(): boolean {\r\n    return this._isTemplateVar;\r\n  }\r\n  private _isTemplateVar: boolean = false;\r\n\r\n  private _template: Nullable<VE_Template> = null;\r\n  private _varID: string = \"\";\r\n  private _templateVar: Nullable<IVeryVar> = null;\r\n  private _assignmentStr: string = \"\";\r\n\r\n  public get logicalExpression(): Nullable<IExpression> {\r\n    return this._logicalExpression;\r\n  }\r\n  private _logicalExpression: Nullable<IExpression> = null;\r\n\r\n  public get index(): number {\r\n    return this._index;\r\n  }\r\n  private _index: number = 0;\r\n\r\n  public get stateVariable(): Nullable<IVeryVar> {\r\n    return this._stateVariable;\r\n  }\r\n  private _stateVariable: Nullable<IVeryVar> = null;\r\n\r\n  public logicalAssociated: Nullable<IExpression> = null;\r\n\r\n  private _stateActions: VE_StateAction[] = [];\r\n  private _assocaitedStates: VE_AssociatedState[] = [];\r\n\r\n  public get IsSequence(): boolean {\r\n    return this._isSequence;\r\n  }\r\n  private _isSequence: boolean = false;\r\n\r\n  public _sequenceActions: Nullable<VE_SequenceActions> = null;\r\n\r\n  // \r\n  // 1.\r\n\r\n  constructor(fsm: VE_Fsm, index: number) {\r\n    this._fsm = fsm;\r\n    this._index = index;\r\n  }\r\n\r\n  public setInitialValue(value: any): void {\r\n    this._value = value;\r\n    this._assignmentType = AssignmentType.Const;\r\n  }\r\n\r\n  public setSequence(): void {\r\n    this._isSequence = true;\r\n  }\r\n\r\n  public setLogicalExpression(logical_exp: IExpression): void {\r\n    this._logicalExpression = logical_exp;\r\n  }\r\n\r\n  public setTemplateInfo(\r\n    template: VE_Template,\r\n    var_id: string,\r\n    assign_str: string\r\n  ): void {\r\n    this._isTemplateVar = true;\r\n    this._template = template;\r\n    this._varID = var_id;\r\n    this._assignmentStr = assign_str;\r\n  }\r\n\r\n  public setConstValue(value: any): void {\r\n    this._value = value;\r\n    this._assignmentType = AssignmentType.Const;\r\n  }\r\n\r\n  public setStateVariable(very_var: IVeryVar): void {\r\n    this._stateVariable = very_var;\r\n    this._assignmentType = AssignmentType.Variable;\r\n  }\r\n\r\n  public addAction(state_action: VE_StateAction): void {\r\n    this._stateActions.push(state_action);\r\n    if (\r\n      state_action.type === StateActionType.Action &&\r\n      state_action.action!.isSequence\r\n    ) {\r\n      this._isSequence = true;\r\n    }\r\n  }\r\n\r\n  public addAssignment(assignment: VE_Assignment): void {\r\n    let stateAction: VE_StateAction = new VE_StateAction();\r\n    stateAction.setAssignment(assignment);\r\n    this._stateActions.push(stateAction);\r\n  }\r\n\r\n  public addAssociatedState(associated_state: VE_AssociatedState): void {\r\n    this._assocaitedStates.push(associated_state);\r\n  }\r\n\r\n  // TODO\r\n  public action(trigger_id: string): void {\r\n    // Parent\r\n    if (this._fsm.receiveEvent(trigger_id)) {\r\n      if (this._isTemplateVar) {\r\n        // TODO:null\r\n        if (this._templateVar === null) {\r\n          this.getTemplateVar();\r\n        } else {\r\n          if (this._templateVar.className === \"VeryExpression\") {\r\n            // TODO\r\n            if ((<VeryExpression>this._templateVar).isNull) {\r\n              this.getTemplateVar();\r\n            } else {\r\n              this.Fsm.setValue(this._templateVar.getValue());\r\n            }\r\n          } else {\r\n            this.Fsm.setValue(this._templateVar.getValue());\r\n          }\r\n        }\r\n      } else {\r\n        // \r\n        if (this._assignmentType == AssignmentType.Const) {\r\n          // \r\n          this.Fsm.setValue(this.Value);\r\n        } else if (this._assignmentType == AssignmentType.Variable) {\r\n          // \r\n          this.Fsm.setValue(this._stateVariable!.getValue());\r\n        } // \r\n        else {\r\n          // \r\n          // this.Fsm.setValue(this._stateExpression.evaluate());\r\n        }\r\n      }\r\n\r\n      // \r\n      for (let i: number = 0; i < this._stateActions.length; i++) {\r\n        //\r\n        if (\r\n          this._stateActions[i].type === StateActionType.Action &&\r\n          this._stateActions[i]!.action!.Type === ActionType.Animation\r\n        ) {\r\n          if (\r\n            this._stateActions[i]!.action!.SequenceState ===\r\n              SequenceActionState.Prepared ||\r\n            this._stateActions[i]!.action!.SequenceState ===\r\n              SequenceActionState.Running\r\n          ) {\r\n            console.log(\r\n              \"\" +\r\n                this._fsm.projectName +\r\n                \"\" +\r\n                this._fsm.objectID +\r\n                \"\" +\r\n                this._fsm.fsmID +\r\n                \"ID\" +\r\n                this._index +\r\n                \"\" +\r\n                this._stateActions[i]!.action!.actionID +\r\n                \"\"\r\n            );\r\n            return;\r\n          } else if (\r\n            this._stateActions[i]!.action!.SequenceState ===\r\n            SequenceActionState.Pause\r\n          ) {\r\n            console.log(\r\n              \"\" +\r\n                this._fsm.projectName +\r\n                \"\" +\r\n                this._fsm.objectID +\r\n                \"\" +\r\n                this._fsm.fsmID +\r\n                \"ID\" +\r\n                this._index +\r\n                \"\" +\r\n                this._stateActions[i]!.action!.actionID +\r\n                \"\"\r\n            );\r\n            return;\r\n          }\r\n        }\r\n      }\r\n\r\n      //, TODO: \r\n      if (this._isSequence) {\r\n        // TODO: \r\n        // this._sequenceActions = this._fsm.VeryObject.gameObject.AddComponent<\r\n        //   VE_SequenceActions\r\n        // >();\r\n        // this._sequenceActions!.sequenceAction(\r\n        //   this._stateActions,\r\n        //   this._associatedStates\r\n        // );\r\n      } else {\r\n        // \r\n        for (let i: number = 0; i < this._stateActions.length; i++) {\r\n          let stateAction: VE_StateAction = this._stateActions[i];\r\n          // \r\n          if (stateAction.type === StateActionType.Action) {\r\n            // TODO: \r\n            stateAction!.action!.action(\r\n              stateAction.enabled,\r\n              stateAction.everyFrame\r\n            );\r\n          }\r\n          // \r\n          else {\r\n            stateAction!.assignment!.assign();\r\n          }\r\n        }\r\n        // \r\n        if (this._assocaitedStates.length > 0) {\r\n          // \r\n          // \r\n          for (let i: number = 0; i < this._assocaitedStates.length; i++) {\r\n            this._assocaitedStates[i].connect();\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private getTemplateVar(): void {\r\n    if (this._template!.templateInstance === null) {\r\n      console.log(\r\n        \"\" +\r\n          this._fsm.projectName +\r\n          \"\" +\r\n          this._fsm.objectID +\r\n          \"\" +\r\n          this._fsm.fsmID +\r\n          \"\" +\r\n          this._assignmentStr +\r\n          \"\"\r\n      );\r\n      this._templateVar = null;\r\n      return;\r\n    } else {\r\n      if (this._template!.templateInstance.isCreatedVariable(this._varID)) {\r\n        this._templateVar = this._template!.templateInstance.getVariable(\r\n          this._varID\r\n        );\r\n      } else if (\r\n        this._template!.templateInstance.isCreatedExpression(this._varID)\r\n      ) {\r\n        this._templateVar = new VeryExpression(\r\n          this._template!.templateInstance.getExpression(this._varID)\r\n        );\r\n      } else if (this._template!.templateInstance.isCreatedFsm(this._varID)) {\r\n        this._templateVar = this._template!.templateInstance.getFsm(\r\n          this._varID\r\n        ).fsmVar;\r\n      } else {\r\n        console.log(\r\n          \"\" +\r\n            this._fsm.projectName +\r\n            \"\" +\r\n            this._fsm.objectID +\r\n            \"\" +\r\n            this._fsm.fsmID +\r\n            \"\" +\r\n            this._assignmentStr +\r\n            \"\" +\r\n            this._varID +\r\n            \"\"\r\n        );\r\n        this._templateVar = null;\r\n        return;\r\n      }\r\n      this._fsm.setValue(this._templateVar.getValue());\r\n    }\r\n  }\r\n}\r\n","\r\nimport { VE_ActionBehaviour } from \"../action/actionBehaviour\";\r\nimport { StateActionType } from \"../enum\";\r\nimport { VE_Assignment } from \"../action\";\r\n\r\nexport class VE_StateAction {\r\n\r\n  public get type(): StateActionType {\r\n    return this._type;\r\n  }\r\n  private _type: StateActionType = StateActionType.Action;\r\n\r\n  public get action(): Nullable<VE_ActionBehaviour> {\r\n    return this._action;\r\n  }\r\n  private _action: Nullable<VE_ActionBehaviour> = null;\r\n\r\n  public get enabled(): boolean {\r\n    return this._enabled;\r\n  }\r\n  private _enabled: boolean = false;\r\n\r\n  public get everyFrame(): boolean {\r\n    return this._everyFrame;\r\n  }\r\n  private _everyFrame: boolean = false;\r\n\r\n  public get assignment(): Nullable<VE_Assignment> {\r\n    return this._assignment;\r\n  }\r\n  private _assignment: Nullable<VE_Assignment> = null;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public setAction(action: VE_ActionBehaviour, enabled: boolean = false, every_frame: boolean = false, sequence: boolean = false): void {\r\n    this._action = action;\r\n    this._enabled = enabled;\r\n    this._everyFrame = every_frame;\r\n    this._action.isSequence = sequence;\r\n  }\r\n\r\n  public setAssignment(assignment: VE_Assignment): void {\r\n    this._assignment = assignment;\r\n  }\r\n\r\n\r\n}","export class StateConst {\r\n\r\n  public static readonly STATE_SEPARATOR: string = '.';\r\n  public static readonly ASSOCIATED_STATE_PREFIX: string = 'Associated_State:';\r\n  public static readonly VARIABLE_SYMBOL: string = '*';\r\n  public static readonly STATE_INDEX: number = -1;\r\n  public static LogCount: number = -1;\r\n\r\n  public static AssignmentPrefix: string = \"AssignmentFormula_\";\r\n  public static AssignmentFormulaCount: number = 0;\r\n\r\n\r\n}","export * from './template';\r\nexport * from './templates';","import { VeryEngineObject } from \"../object\";\r\nimport { VE_DataSource, VE_VariableData } from \"../dataSource\";\r\n\r\nexport class VE_Template {\r\n\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = '';\r\n\r\n  public get templateID(): string {\r\n    return this._templateID;\r\n  }\r\n  private _templateID: string = '';\r\n\r\n  public get templateVarID(): string {\r\n    return this._templateVarID;\r\n  }\r\n  private _templateVarID: string = '';\r\n\r\n  public get objectID(): string {\r\n    return this._objectID;\r\n  }\r\n  private _objectID: string = '';\r\n\r\n  public templateInstance: VeryEngineObject | null = null;\r\n\r\n  public dataSource: VE_DataSource;\r\n\r\n  public varData: VE_VariableData;\r\n\r\n  public instanceCount(): number {\r\n    return this._instanceCount;\r\n  }\r\n  private _instanceCount: number = 0;\r\n\r\n\r\n  constructor(project_name: string, template_id: string) {\r\n    this._projectName = project_name;\r\n    this._templateID = template_id;\r\n    this.dataSource = new VE_DataSource(project_name, template_id, true);\r\n    this.varData = new VE_VariableData(project_name);\r\n  }\r\n\r\n  public setInstance(instance_obj: VeryEngineObject): void {\r\n    this.templateInstance = instance_obj;\r\n  }\r\n\r\n  public isCreatedVariable(var_id: string): boolean {\r\n    return this.varData.isCreatedVariable(var_id);\r\n  }\r\n\r\n  public addVariable(var_id: string, var_paras: string[], pos: string): void {\r\n    this.varData.addVariable(var_id, var_paras, pos);\r\n  }\r\n\r\n  public unload(): void {\r\n    //TODO: \r\n  }\r\n\r\n  public clone(object_id: string, template_var_id: string): VE_Template {\r\n    let cloneTemplate: VE_Template = new VE_Template(this._projectName, this._templateID);\r\n    cloneTemplate._objectID = object_id;\r\n    cloneTemplate._templateVarID = template_var_id;\r\n    cloneTemplate.dataSource = this.dataSource;\r\n    cloneTemplate.varData = this.varData;\r\n    cloneTemplate._instanceCount = this._instanceCount;\r\n    return cloneTemplate;\r\n  }\r\n\r\n  public clear(): void {\r\n    if (this.dataSource) {\r\n      this.dataSource.clear();\r\n    }\r\n    if (this.varData) {\r\n      this.varData.clear();\r\n    }\r\n    if (this.templateInstance) {\r\n      this.templateInstance.clear();\r\n    }\r\n  }\r\n\r\n}","import { VE_Template } from \"./template\";\r\nimport { ErrorInfo } from \"../utility\";\r\n\r\nexport class VE_Templates {\r\n\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = '';\r\n\r\n  private _templateDic: { [key: string]: VE_Template } = {};\r\n\r\n  private _instanceDic: { [key: string]: { [key: string]: VE_Template } } = {};\r\n\r\n\r\n  constructor(project_name: string) {\r\n    this._projectName = project_name;\r\n  }\r\n\r\n  public isCreatedTemplate(template_id: string): boolean {\r\n    if(this._templateDic[template_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addTemplate(template_id: string, template: VE_Template): void {\r\n    this._templateDic[template_id] = template;\r\n  }\r\n\r\n  public getTemplate(template_id: string): VE_Template {\r\n    return this._templateDic[template_id];\r\n  }\r\n\r\n  public isCreatedInstance(object_id: string, var_id: string): boolean {\r\n    if(this._instanceDic[object_id] && this._instanceDic[object_id][var_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getInstance(object_id: string, var_id: string): VE_Template {\r\n    return this._instanceDic[object_id][var_id];\r\n  }\r\n\r\n  // public getState(var_id: string, state_id: string, index: number): VE_State {\r\n    \r\n  // } \r\n\r\n  public clear(): void {\r\n    if(this._templateDic) {\r\n      Object.keys(this._templateDic).forEach(key => {\r\n        this._templateDic[key].clear();\r\n      })\r\n      this._templateDic = {};\r\n    }\r\n  }\r\n\r\n  // TODO\r\n  public createInstance (object_id: string, var_id: string, template: VE_Template, object_name: string, error_info: ErrorInfo, destory_on_create_new: boolean): VE_Template\r\n  {\r\n\r\n    return new VE_Template(this._projectName, var_id);\r\n  }\r\n\r\n}","export * from './triggerBehaviour';\r\nexport * from './triggers';","import { VE_State } from \"../state/state\";\r\nimport { StateConst } from \"../state/stateConst\";\r\nimport { IExpression } from \"../expression\";\r\n\r\nexport abstract class VE_TriggerBehaviour {\r\n\r\n  public abstract get ID(): string;\r\n\r\n  protected scene!: BABYLON.Scene;\r\n\r\n  public get enabled(): boolean {\r\n    return this._enabled;\r\n  }\r\n  public set enabled(val: boolean) {\r\n    this._enabled = val;\r\n  }\r\n  private _enabled: boolean = true;\r\n\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = '';\r\n\r\n  public get isEnabled(): boolean {\r\n    if (this._logicalSwitch) {\r\n      for (let i: number = 0; i < this._logicalSwitch.length; i++) {\r\n        if (!this._logicalSwitch[i].evaluate()) {\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  // Logical\r\n  private _logicalSwitch: IExpression[] = [];\r\n  private _logicalExp: IExpression[] = [];\r\n  // State\r\n  private _triggerTargets: VE_State[] = [];\r\n\r\n  // protected GameObject ObjectInstance = null;\r\n  // protected VeryEngineObject VeryObject = null;\r\n\r\n  public get objectID(): string {\r\n    return this._objectID;\r\n  }\r\n  private _objectID: string = 'object-axxx';\r\n\r\n  public get triggerID(): string {\r\n    return this._triggerID;\r\n  }\r\n  private _triggerID: string = '';\r\n\r\n  private _id: string = '';\r\n\r\n  public call(): void {\r\n    console.log(this._objectID);\r\n  }\r\n\r\n\r\n  public set(scene: BABYLON.Scene): void {\r\n    this.scene = scene;\r\n  }\r\n\r\n  public setTriggerID(trigger_id: string, object_id: string): void {\r\n    this._triggerID = trigger_id;\r\n    this._objectID = object_id;\r\n    this._id = object_id + StateConst.STATE_SEPARATOR + trigger_id;\r\n  }\r\n\r\n  public addLogicalSwitch(exp: IExpression): void {\r\n    this._logicalSwitch.push(exp);\r\n  }\r\n\r\n  public addTriggerTarget(exp: IExpression, state: VE_State): void {\r\n    this._logicalExp.push(exp);\r\n    this._triggerTargets.push(state);\r\n  }\r\n\r\n  public sendEvent(): void {\r\n    if(this.isEnabled) {\r\n      this.eventProcess();\r\n    }\r\n  }\r\n\r\n  // \r\n  private eventProcess(): void {\r\n    if (this._triggerTargets) {\r\n      for (let i: number = 0; i < this._triggerTargets.length; i++) {\r\n        if (this._logicalExp[i].evaluate()) {\r\n          this._triggerTargets[i].action(this._id);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    return true;\r\n  }\r\n\r\n  public update(): void {\r\n    if(this.isEnabled) {\r\n      this.onUpdate();\r\n    }\r\n  }\r\n\r\n  public onUpdate(): void {\r\n\r\n  }\r\n\r\n  public abstract destroy(): void;\r\n\r\n\r\n}","import { VE_TriggerBehaviour } from \"./triggerBehaviour\";\r\nimport { ShowError } from \"../html\";\r\nimport { VeryEngineObject, VE_Objects } from \"../object\";\r\nimport { StateConst } from \"../state\";\r\nimport { VE_Manager } from \"../manager\";\r\nimport { GameGlobal } from \"../global\";\r\n\r\nexport class VE_Triggers {\r\n\r\n  private static _triggerDics: { [key: string]: VE_TriggerBehaviour } = {};\r\n\r\n  public static addTrigger(trigger: VE_TriggerBehaviour): void {\r\n    // \r\n    if (!GameGlobal.PlatformLoaded) {\r\n      let ids: string[] = trigger.ID.split('|');\r\n      for (let i: number = 0; i < ids.length; i++) {\r\n        let id: string = ids[i].trim().toLowerCase();\r\n        if (this._triggerDics[id]) {\r\n          ShowError.showError(`IDID${id}ID`);\r\n        } else {\r\n          this._triggerDics[id] = trigger;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static hasTrigger(trigger_id: string): boolean {\r\n    trigger_id = trigger_id.toLowerCase();\r\n    if (this._triggerDics[trigger_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static createTrigger(trigger_id: string): VE_TriggerBehaviour {\r\n    trigger_id = trigger_id.toLowerCase();\r\n    // console.log(this._triggerDics[trigger_id]);\r\n    return Object.create(this._triggerDics[trigger_id]);\r\n  }\r\n\r\n  public static remove(trigger_id: string): void {\r\n    trigger_id = trigger_id.toLowerCase();\r\n    delete this._triggerDics[trigger_id];\r\n  }\r\n\r\n  public static findTrigger(very_object: VeryEngineObject, trigger_id: string): Nullable<VE_TriggerBehaviour> {\r\n    if (very_object.isCreatedTrigger(trigger_id)) {\r\n      return very_object.getTrigger(trigger_id);\r\n    } else {\r\n      let triggerArray: string[] = trigger_id.split(StateConst.STATE_SEPARATOR);\r\n      if (triggerArray.length === 2) {\r\n        let objects: VE_Objects = VE_Manager.objects(very_object.projectName);\r\n        let objectID: string = triggerArray[0].trim();\r\n        let triggerID: string = triggerArray[1].trim();\r\n        if (objects.isCreated(objectID)) {\r\n          let otherObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n          if (otherObject.isCreatedTrigger(triggerID)) {\r\n            return otherObject.getTrigger(triggerID);\r\n          } else {\r\n            return null;\r\n          }\r\n        } else {\r\n          return null;\r\n        }\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n  public static dispose(): void {\r\n    VE_Triggers._triggerDics = {};\r\n  }\r\n\r\n}","export class ArrayUtility {\r\n  public static remove<T>(arr: Array<T>, ele: T): void {\r\n    let index = arr.indexOf(ele);\r\n    if (index > -1) {\r\n      arr.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  public static clear<T>(arr: Array<T>): void {\r\n    arr = [];\r\n  }\r\n\r\n}\r\n\r\n","/** */\r\nexport class Dictionary<KT, VT> {\r\n  private _keys: KT[] = [];\r\n  private _values: VT[] = [];\r\n  public get count(): number {\r\n    return this.Count();\r\n  }\r\n\r\n  public constructor() {\r\n  }\r\n\r\n  /**, */\r\n  public Add(key: any, value: any): number {\r\n    this._keys.push(key);\r\n    return this._values.push(value);\r\n  }\r\n\r\n  public Remove(key: any) {\r\n    var index = this._keys.indexOf(key, 0);\r\n    this._keys.splice(index, 1);\r\n    this._values.splice(index, 1);\r\n  }\r\n\r\n  private Count(): number {\r\n    return this._keys.length;\r\n  }\r\n\r\n  /**SetValue() */\r\n  public SetValue(key: any, value: any): boolean {\r\n    var index = this._keys.indexOf(key, 0);\r\n    if (index != -1) {\r\n      this._keys[index] = key;\r\n      this._values[index] = value;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n\t/**\r\n\t *\r\n\t */\r\n  public GetValue(key: KT): VT | null {\r\n    var index = this._keys.indexOf(key, 0);\r\n    if (index != -1) {\r\n      return this._values[index];\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public ContainsKey(key: any): boolean {\r\n    let ks = this._keys;\r\n    for (let i = 0; i < ks.length; ++i) {\r\n      if (ks[i] == key) {\r\n        return true;;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public GetKeys(): KT[] {\r\n    return this._keys;\r\n  }\r\n\r\n  public GetValues(): VT[] {\r\n    return this._values;\r\n  }\r\n}","export class ErrorInfo {\r\n\r\n  public isRight: boolean = true;\r\n  public message: string = '';\r\n\r\n  constructor() {\r\n    \r\n  }\r\n\r\n  public clear(): void {\r\n    this.isRight = true;\r\n    this.message = '';\r\n  }\r\n\r\n}","export * from './arrayUtility';\r\nexport * from './dictionary';\r\nexport * from './errorInfo';\r\nexport * from './stringFormat';","export class VE_StringFormat {\r\n\r\n  private static _illegalChar: { [key: string]: boolean } = {};\r\n  private static _formulaChar: { [key: string]: boolean } = {};\r\n  private static _escapeCharacters: { [key: string]: string } = {};\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public static init() {\r\n    this._escapeCharacters['n'] = '\\n';\r\n    this._escapeCharacters['b'] = '\\b';\r\n    this._escapeCharacters['r'] = '\\r';\r\n    this._escapeCharacters['t'] = '\\t';\r\n    this._escapeCharacters['v'] = '\\v';\r\n    this._escapeCharacters['f'] = '\\f';\r\n    this._escapeCharacters['0'] = '\\0';\r\n\r\n    this._illegalChar['='] = true;\r\n    this._illegalChar[','] = true;\r\n    this._illegalChar[''] = true;\r\n    this._illegalChar[':'] = true;\r\n    this._illegalChar[''] = true;\r\n    this._illegalChar['*'] = true;\r\n    this._illegalChar['('] = true;\r\n    this._illegalChar[''] = true;\r\n    this._illegalChar[')'] = true;\r\n    this._illegalChar[''] = true;\r\n    this._illegalChar['@'] = true;\r\n    this._illegalChar['#'] = true;\r\n    this._illegalChar['$'] = true;\r\n    this._illegalChar['%'] = true;\r\n    this._illegalChar['&'] = true;\r\n    this._illegalChar['^'] = true;\r\n    this._illegalChar['-'] = true;\r\n    this._illegalChar['+'] = true;\r\n    this._illegalChar['|'] = true;\r\n    this._illegalChar['/'] = true;\r\n    this._illegalChar['['] = true;\r\n    this._illegalChar[''] = true;\r\n    this._illegalChar[']'] = true;\r\n    this._illegalChar[''] = true;\r\n    this._illegalChar['{'] = true;\r\n    this._illegalChar['}'] = true;\r\n    this._illegalChar['.'] = true;\r\n    this._illegalChar[''] = true;\r\n    this._illegalChar['<'] = true;\r\n    this._illegalChar['>'] = true;\r\n    this._illegalChar[';'] = true;\r\n    this._illegalChar[''] = true;\r\n    this._illegalChar['?'] = true;\r\n    this._illegalChar['\\\"'] = true;\r\n    this._illegalChar[''] = true;\r\n    this._illegalChar[''] = true;\r\n    this._illegalChar['\\''] = true;\r\n    this._illegalChar[''] = true;\r\n    this._illegalChar[''] = true;\r\n    this._illegalChar['!'] = true;\r\n    this._illegalChar[''] = true;\r\n    this._illegalChar['`'] = true;\r\n    this._illegalChar[''] = true;\r\n    this._illegalChar['~'] = true;\r\n\r\n    this._formulaChar['('] = true; this._formulaChar[')'] = true; this._formulaChar[''] = true; this._formulaChar[''] = true;\r\n    this._formulaChar['!'] = true; this._formulaChar[''] = true;\r\n    this._formulaChar['^'] = true; this._formulaChar['%'] = true; this._formulaChar['&'] = true; this._formulaChar['-'] = true; this._formulaChar['+'] = true; this._formulaChar['='] = true;\r\n    this._formulaChar['<'] = true; this._formulaChar['>'] = true; this._formulaChar['|'] = true;\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param para_str \r\n   */\r\n  public static strEscapeCharacterAction(para_str: string): string {\r\n    let tmpStr: string = \"\";\r\n    for (let i: number = 0; i < para_str.length; i++) {\r\n      if (para_str[i] == '\\\\' && i != para_str.length - 1) {\r\n        tmpStr += this.getEscapeCharacter(para_str[i + 1]);\r\n        i++;\r\n      }\r\n      else {\r\n        tmpStr += para_str[i];\r\n      }\r\n    }\r\n    return tmpStr;\r\n  }\r\n\r\n  /**\r\n   *  \r\n   * @param para_str \r\n   */\r\n  public static strSubsectionAction(para_str: string): string[] {\r\n    let strBuilder: string = '';\r\n    let rStr: string[] = [];\r\n    let bracketFlag: boolean = false;\r\n    let hasQuote: boolean = false;\r\n    for (let i: number = 0; i < para_str.length; i++) {\r\n      if (para_str[i] == '\\\\') {\r\n        if (i < para_str.length - 1) {\r\n          strBuilder += para_str[i + 1];\r\n          i++;\r\n          continue;\r\n        }\r\n        else {\r\n          strBuilder += para_str[i];\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (!hasQuote && (para_str[i] === '\\\"' || para_str[i] === '')) {\r\n        hasQuote = true;\r\n        bracketFlag = true;\r\n        strBuilder += '\\\"';\r\n      }\r\n      else if (hasQuote && (para_str[i] === '\\\"' || para_str[i] === '')) {\r\n        strBuilder += '\\\"';\r\n        bracketFlag = false;\r\n        hasQuote = false;\r\n        if (strBuilder !== '') {\r\n          rStr.push(strBuilder);\r\n        }\r\n        strBuilder = '';\r\n      }\r\n      else if (para_str[i] === ',' || para_str[i] === '') {\r\n        if (!bracketFlag) {\r\n          if (strBuilder !== \"\") {\r\n            rStr.push(strBuilder);\r\n          }\r\n          strBuilder = '';\r\n        }\r\n        else {\r\n          strBuilder += para_str[i];\r\n        }\r\n      }\r\n      else if (para_str[i] === ' ') {\r\n        continue;\r\n      }\r\n      else {\r\n        strBuilder += para_str[i];\r\n      }\r\n    }\r\n    if (strBuilder !== \"\") {\r\n      rStr.push(strBuilder);\r\n    }\r\n    return rStr;\r\n  }\r\n\r\n\r\n  private static getEscapeCharacter(para_char: string): string {\r\n    if (this._escapeCharacters[para_char])\r\n      return this._escapeCharacters[para_char];\r\n    else\r\n      return para_char;\r\n  }\r\n\r\n  private static getEscapeCharacter2(para_char: string, is_escape: boolean[]): string {\r\n    if (this._escapeCharacters[para_char]) {\r\n      is_escape[0] = true;\r\n      return this._escapeCharacters[para_char];\r\n    }\r\n    else {\r\n      is_escape[0] = false;\r\n      return para_char;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \"XXX\"\"XXX\"XXX\r\n   * @param para_str \r\n   */\r\n  public static strSubsection(para_str: string): string[] {\r\n    let strBuilder: string = '';\r\n    let rStr: string[] = [];\r\n    let bracketFlag: boolean = false;\r\n    let needSpace: boolean = false;\r\n    for (let i: number = 0; i < para_str.length; i++) {\r\n      if (para_str[i] == '\\\\') {\r\n        if (i < para_str.length - 1) {\r\n          strBuilder += this.getEscapeCharacter(para_str[i + 1]);\r\n          i++;\r\n          continue;\r\n        }\r\n        else {\r\n          strBuilder += para_str[i];\r\n          break;\r\n        }\r\n      }\r\n      if (para_str[i] === '(' || para_str[i] === '' || para_str[i] === '\\\"' || para_str[i] === '') {\r\n        bracketFlag = true;\r\n        needSpace = false;\r\n      }\r\n      else if (para_str[i] === ')' || para_str[i] === '' || para_str[i] === '\\\"' || para_str[i] === '') {\r\n        bracketFlag = false;\r\n        if (strBuilder !== \"\") {\r\n          rStr.push(strBuilder);\r\n        }\r\n        strBuilder = '';\r\n        needSpace = false;\r\n      }\r\n      else if (para_str[i] === ',' || para_str[i] === '') {\r\n        if (!bracketFlag) {\r\n          if (strBuilder !== \"\") {\r\n            rStr.push(strBuilder);\r\n          }\r\n          strBuilder = '';\r\n        }\r\n        else {\r\n          strBuilder += para_str[i];\r\n        }\r\n        needSpace = false;\r\n      }\r\n      else if (para_str[i] === ' ' && !needSpace) {\r\n        continue;\r\n      }\r\n      else {\r\n        strBuilder += para_str[i];\r\n        needSpace = true;\r\n      }\r\n    }\r\n    if (strBuilder !== \"\") {\r\n      rStr.push(strBuilder);\r\n    }\r\n    return rStr;\r\n  }\r\n\r\n  /**\r\n   * $\r\n   * @param project_name \r\n   * @param para_array \r\n   */\r\n  public static getParaArrayAll(project_name: string, para_array: string[]): string[] {\r\n    let coloneStr: string[] = para_array.slice();\r\n    for (let i: number = 0; i < coloneStr.length; i++) {\r\n      if (coloneStr[i].startsWith(\"$\")) {\r\n        //\r\n        if (coloneStr[i].indexOf(\",\") > -1 || coloneStr[i].indexOf(\"\")) {\r\n          let paraArray: string[] = coloneStr[i].split(/,|/);\r\n          paraArray = this.getParaArrayAll(project_name, paraArray);\r\n          let newPara: string = '';\r\n          for (let j: number = 0; j < paraArray.length; j++) {\r\n            if (j === paraArray.length - 1) {\r\n              newPara += paraArray[j];\r\n            }\r\n            else {\r\n              newPara += paraArray[j];\r\n              newPara += \",\";\r\n            }\r\n          }\r\n          coloneStr[i] = newPara;\r\n        }\r\n        else {\r\n          // TODO\r\n          console.log(\"\" + coloneStr[i] + \"\");\r\n        }\r\n      }\r\n      else if (coloneStr[i].startsWith(\"%\")) {\r\n        //\r\n        if (coloneStr[i].indexOf(\",\") > -1 || coloneStr[i].indexOf(\"\") > -1) {\r\n          let paraArray: string[] = coloneStr[i].split(/,|/);\r\n          paraArray = this.getParaArrayAll(project_name, paraArray);\r\n          let newPara: string = '';\r\n          for (let j: number = 0; j < paraArray.length; j++) {\r\n            if (j == paraArray.length - 1) {\r\n              newPara += paraArray[j];\r\n            }\r\n            else {\r\n              newPara += paraArray[j];\r\n              newPara += \",\";\r\n            }\r\n          }\r\n          coloneStr[i] = newPara;\r\n        }\r\n        else {\r\n          // TODO\r\n          console.log(\"\" + coloneStr[i] + \"BlurVar\");\r\n        }\r\n      }\r\n      //\r\n      else if (coloneStr[i].indexOf(\",\") > -1 || coloneStr[i].indexOf(\"\") > -1) {\r\n        let paraArray: string[] = coloneStr[i].split(/,|/);\r\n        paraArray = this.getParaArrayAll(project_name, paraArray);\r\n        let newPara: string = '';\r\n        for (let j: number = 0; j < paraArray.length; j++) {\r\n          if (j == paraArray.length - 1) {\r\n            newPara += paraArray[j];\r\n          }\r\n          else {\r\n            newPara += paraArray[j];\r\n            newPara += \",\";\r\n          }\r\n        }\r\n        coloneStr[i] = newPara;\r\n      }\r\n    }\r\n    return coloneStr;\r\n  }\r\n\r\n  /**\r\n   * \r\n     1\r\n     2\r\n        1\r\n        2 +\r\n        3+ \r\n        412123\r\n    \r\n   * @param para_str \r\n   */\r\n  public static paraSegment(para_str: string): string[] {\r\n    let strBuilder = '';\r\n    let rStr: string[] = [];\r\n    let bracketFlag: boolean = false;\r\n    let innerBracket: number = 0;\r\n    let saveBracket: boolean = false;\r\n\r\n    let quotationMark: boolean = false;\r\n\r\n    for (let i: number = 0; i < para_str.length; i++) {\r\n      //\r\n      if (para_str[i] == '\\\\') {\r\n        if (i < para_str.length - 1) {\r\n          let isEscape: boolean[] = [true];\r\n          let c: string = this.getEscapeCharacter2(para_str[i + 1], isEscape);\r\n          if (isEscape[0]) {\r\n            i++;\r\n            strBuilder += c;\r\n          }\r\n          else {\r\n            i++;\r\n            strBuilder += para_str[i];\r\n          }\r\n          continue;\r\n        }\r\n        else {\r\n          strBuilder += para_str[i];\r\n          break;\r\n        }\r\n      }\r\n      if (para_str[i] === '(' || para_str[i] === '') {\r\n        if (quotationMark) {\r\n          strBuilder += para_str[i];\r\n        }\r\n        else {\r\n          if (bracketFlag) {\r\n            innerBracket++;\r\n            strBuilder += para_str[i];\r\n          }\r\n          else if (strBuilder.trim() !== \"\") {\r\n            strBuilder += para_str[i];\r\n            saveBracket = true;\r\n          }\r\n          else if (i < para_str.length - 1) {\r\n            if (this.needSaveBracket(para_str.substring(i + 1))) {\r\n              strBuilder += para_str[i];\r\n              saveBracket = true;\r\n            }\r\n          }\r\n          bracketFlag = true;\r\n        }\r\n      }\r\n      else if (para_str[i] === ')' || para_str[i] === '') {\r\n        if (quotationMark) {\r\n          strBuilder += para_str[i];\r\n        }\r\n        else {\r\n          if (innerBracket > 0) {\r\n            innerBracket--;\r\n            bracketFlag = true;\r\n            strBuilder += para_str[i];\r\n          }\r\n          else if (bracketFlag && saveBracket) {\r\n            strBuilder += para_str[i];\r\n            saveBracket = false;\r\n            bracketFlag = false;\r\n          }\r\n          else {\r\n            bracketFlag = false;\r\n          }\r\n        }\r\n      }\r\n      else if (para_str[i] === '\"') {\r\n        strBuilder += para_str[i];\r\n        quotationMark = !quotationMark;\r\n      }\r\n      else if (para_str[i] === ',' || para_str[i] === '') {\r\n        if (quotationMark) {\r\n          strBuilder += para_str[i];\r\n        }\r\n        else {\r\n          if (!bracketFlag) {\r\n            if (strBuilder !== \"\") {\r\n              rStr.push(strBuilder.trim());\r\n            }\r\n            strBuilder = '';\r\n          }\r\n          else {\r\n            strBuilder += para_str[i];\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        strBuilder += para_str[i];\r\n      }\r\n    }\r\n    if (strBuilder !== \"\") {\r\n      rStr.push(strBuilder.trim());\r\n    }\r\n    return rStr;\r\n  }\r\n\r\n\r\n  private static needSaveBracket(str: string): boolean {\r\n    let hasBracket: boolean = false;\r\n    let innerBracket: number = 0;\r\n    for (let i: number = 0; i < str.length; i++) {\r\n      if (hasBracket) {\r\n        if (str[i] === ' ') {\r\n          continue;\r\n        }\r\n        else if (str[i] === ',' || str[i] === '') {\r\n          return false;\r\n        }\r\n        else {\r\n          return true;\r\n        }\r\n      }\r\n      else {\r\n        if (str[i] === '(' || str[i] === '') {\r\n          innerBracket++;\r\n        }\r\n        else if (str[i] === ')' || str[i] === '') {\r\n          if (innerBracket > 0) {\r\n            innerBracket--;\r\n          }\r\n          else {\r\n            hasBracket = true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n\r\n  public static isIDLegal(id: string): boolean {\r\n    for (let i: number = 0; i < id.length; i++) {\r\n      if (this._illegalChar[id[i]]) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n\r\n  public static isFormulaString(var_str: string): boolean {\r\n    for (let i: number = 0; i < var_str.length; i++)\r\n    {\r\n      if (this._formulaChar[var_str[i]]) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n\r\n}\r\n\r\nVE_StringFormat.init();\r\n\r\n// console.log(VE_StringFormat.paraSegment(\", Main Camera, *\"));\r\n// console.log(VE_StringFormat.paraSegment(\", *, *, 1, *\"));\r\n\r\n// console.log(VE_StringFormat.paraSegment(\", *, Pin, Example/SpinAPin/Pin , null, (0, -6, 0), (0,0,90),false\"));","import { ErrorInfo } from \"./errorInfo\";\r\n\r\nexport class VE_TypeConvert {\r\n\r\n\r\n  public static boolConvert(info: string, errorInfo: ErrorInfo): boolean {\r\n    info = info.toLowerCase().trim();\r\n    if(info === 'true' || info === '') {\r\n      return true;\r\n    } else if(info === 'false' || info === '') {\r\n      return false;\r\n    } else {\r\n      errorInfo.isRight = false;\r\n      errorInfo.message = 'bool|' + info;\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static intConvert(info: string, errorInfo: ErrorInfo): number {\r\n    info = info.toLowerCase().trim();\r\n    let num: number = parseFloat(info);\r\n    if(isNaN(num)) {\r\n      errorInfo.isRight = false;\r\n      errorInfo.message = 'number|' + info;\r\n      return - 1;\r\n    } else {\r\n      return Math.round(num);\r\n    }\r\n  }\r\n\r\n  public static floatConvert(info: string, errorInfo: ErrorInfo): number {\r\n    info = info.toLowerCase().trim();\r\n    let num: number = parseFloat(info);\r\n    if(isNaN(num)) {\r\n      errorInfo.isRight = false;\r\n      errorInfo.message = 'number|' + info;\r\n      return - 1;\r\n    } else {\r\n      return num;\r\n    }\r\n  }\r\n\r\n\r\n}","\r\n// import { VeryEngine } from \"../veryEngine\";\r\n\r\nexport class GameObject {\r\n\r\n  public get gameObject(): GameObject {\r\n    return this;\r\n  }\r\n\r\n  public get transform(): Transform {\r\n    return this._transform;\r\n  }\r\n  private _transform: Transform = new Transform();\r\n\r\n  public name: string;\r\n\r\n  private mesh: BABYLON.Nullable<BABYLON.Mesh> = null;\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n    // VeryEngine.Scene.getMeshByName()\r\n  }\r\n\r\n  // TODO\r\n  public static find(name: string): Nullable<GameObject> {\r\n    return new GameObject(name);\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class Transform {\r\n\r\n\r\n  private _transformNode: BABYLON.Nullable<BABYLON.TransformNode> = null;\r\n  private _mesh: BABYLON.Nullable<BABYLON.Mesh> = null;\r\n\r\n  public localPosition: BABYLON.Vector3 = BABYLON.Vector3.Zero();\r\n  public position: BABYLON.Vector3 = BABYLON.Vector3.Zero();\r\n\r\n  public localEulerAngles: BABYLON.Vector3 = BABYLON.Vector3.Zero();\r\n  public eulerAngles: BABYLON.Vector3 = BABYLON.Vector3.Zero();\r\n\r\n  public get childCount(): number {\r\n    return 0;\r\n  }\r\n\r\n  public forward: BABYLON.Vector3 = BABYLON.Vector3.Forward();\r\n\r\n\r\n  public get hierarchyCount(): number {\r\n    return 0;\r\n  }\r\n\r\n  public localScale: BABYLON.Vector3 = new BABYLON.Vector3(1, 1, 1);\r\n\r\n\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n}","export * from './IVeryVar';\r\nexport * from './veryExpression';\r\nexport * from './veryVarManager';\r\nexport * from './veryVariables';\r\nexport * from './babylonVariables';\r\nexport * from './variables';","import { VE_VariableData } from \"../dataSource\";\r\nimport { IVeryVar } from \"./IVeryVar\";\r\nimport { VE_Template } from \"../template\";\r\nimport { IExpression } from \"../expression\";\r\n\r\nexport class VE_Variables {\r\n\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = '';\r\n\r\n  public varData: VE_VariableData;\r\n\r\n  private _veryVars: { [key: string]: IVeryVar } = {};\r\n  private _tempalteVars: { [key: string]: VE_Template } = {};\r\n  private _expressions: { [key: string]: IExpression } = {};\r\n\r\n  constructor(project_name: string) {\r\n    this._projectName = project_name;\r\n    this.varData = new VE_VariableData(project_name);\r\n  }\r\n\r\n  public isCreated(id: string): boolean {\r\n    if(this._veryVars[id] || this._tempalteVars[id] || this._expressions[id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public isCreatedVariable(id: string): boolean {\r\n    if(this._veryVars[id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addVariable(id: string, very_var: IVeryVar): void {\r\n    this._veryVars[id] = very_var;\r\n  }\r\n\r\n  public getVariable(id: string): IVeryVar {\r\n    return this._veryVars[id];\r\n  }\r\n\r\n  public isCreatedTemplate(id: string): boolean {\r\n    if(this._tempalteVars[id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addTemplate(id: string, template: VE_Template): void {\r\n    this._tempalteVars[id] = template;\r\n  }\r\n\r\n  public getTemplate(id: string): VE_Template {\r\n    return this._tempalteVars[id];\r\n  }\r\n\r\n  public isCreatedExpression(id: string): boolean {\r\n    if(this._expressions[id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addExpression(id: string, exp: IExpression): void {\r\n    this._expressions[id] = exp;\r\n  }\r\n\r\n  public getExpression(id: string): IExpression {\r\n    return this._expressions[id];\r\n  }\r\n\r\n\r\n  public clear(): void {\r\n    if(this.varData) {\r\n      this.varData.clear();\r\n    }\r\n    this._veryVars = {};\r\n    this._expressions = {};\r\n    this._tempalteVars = {};\r\n  }\r\n\r\n\r\n\r\n}","import { IVeryVar } from \"./IVeryVar\";\r\nimport { IExpression, ConstantExpression } from \"../expression\";\r\nimport { ErrorInfo } from \"../utility\";\r\n\r\nexport class VeryExpression implements IVeryVar {\r\n  public get varType(): string {\r\n    return this._value.expType;\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryExpression\";\r\n  }\r\n\r\n  public get Value(): IExpression {\r\n    return this._value;\r\n  }\r\n  public set Value(val: IExpression) {\r\n    this._value = val;\r\n  }\r\n  private _value: IExpression = ConstantExpression.Empty();\r\n\r\n  public get isNull(): boolean {\r\n    return this._value === null;\r\n  }\r\n\r\n  constructor(val: IExpression) {\r\n    this._value = val;\r\n  }\r\n\r\n  public setValue(val: any) {\r\n    this._value = val;\r\n  }\r\n\r\n  // \r\n  public getValue(): any {\r\n    return this._value;\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n    let newVal = parseFloat(value_str);\r\n    if (!isNaN(newVal)) {\r\n      return newVal;\r\n    } else {\r\n      error_info.isRight = false;\r\n      error_info.message =\r\n        \": \" +\r\n        this.varType +\r\n        \"\" +\r\n        value_str +\r\n        \"\";\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    return new VeryExpression(this._value);\r\n  }\r\n}","import { ShowError } from \"../html/showError\";\r\nimport { IVeryVar } from \"./IVeryVar\";\r\nimport { ErrorInfo } from \"../utility\";\r\nimport { VE_Variables } from \"./variables\";\r\nimport { VE_Manager } from \"../manager\";\r\nimport { VE_Objects, VeryEngineObject } from \"../object\";\r\nimport { VE_Template } from \"../template\";\r\nimport { GameGlobal } from \"../global\";\r\nimport { VeryExpression } from \"./veryExpression\";\r\n\r\nexport class VeryVarManager {\r\n\r\n  private static _veryVarTypes: { [key: string]: IVeryVar } = {};\r\n\r\n  public static hasVarType(var_type: string): boolean {\r\n    var_type = var_type.toLowerCase();\r\n    if (this._veryVarTypes[var_type]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static addVarType(var_type: string, var_prototype: IVeryVar): void {\r\n    // \r\n    if (!GameGlobal.PlatformLoaded) {\r\n      var_type = var_type.toLowerCase().trim();\r\n      // \r\n      if (this._veryVarTypes[var_type]) {\r\n        ShowError.showError('VeryVar' + var_type + '' + var_prototype.className);\r\n      } else {\r\n        // console.log(var_proto.VarType);\r\n        this._veryVarTypes[var_type] = var_prototype;\r\n        // let a = Object.create(this.GetVarType(var_type));\r\n        // console.log(a.Value);\r\n        // a.Value = true;\r\n        // console.log(a.Value);\r\n        // a.Value = 1234;\r\n        // console.log(a.getValue());\r\n        // console.log(this.GetVarType(var_type).__proto__);\r\n      }\r\n    }\r\n  }\r\n\r\n  // TODO\r\n  public static createVar(var_type: string): IVeryVar {\r\n    var_type = var_type.toLowerCase();\r\n    return Object.create(this.getVarType(var_type));\r\n  }\r\n\r\n  public static createVariable(var_id: string, var_type: string, value: string, error_info: ErrorInfo): Nullable<IVeryVar> {\r\n    var_type = var_type.toLowerCase();\r\n    let variable: any;\r\n    try {\r\n      variable = Object.create(this.getVarType(var_type));\r\n      if (!variable) {\r\n        error_info.isRight = false;\r\n        error_info.message = '' + var_type;\r\n        return null;\r\n      }\r\n      let result: any = (<IVeryVar>variable).initValue(value, error_info);\r\n      if (error_info.isRight) {\r\n        (<IVeryVar>variable).setValue(result);\r\n        return <IVeryVar>variable;\r\n      } else {\r\n        return null;\r\n      }\r\n    } catch (error) {\r\n      console.log(error.message);\r\n      error_info.isRight = false;\r\n      error_info.message = '' + var_type + '' + error.message;\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public static getVarType(var_type: string): any {\r\n    var_type = var_type.toLowerCase();\r\n    if (this._veryVarTypes && this._veryVarTypes[var_type]) {\r\n      return this._veryVarTypes[var_type];\r\n    }\r\n    return null;\r\n  }\r\n\r\n\r\n  public static remove(var_type: string): void {\r\n    var_type = var_type.toLowerCase();\r\n    delete this._veryVarTypes[var_type];\r\n  }\r\n\r\n  // *\r\n  // .*\r\n  public static getVariable(var_id: string, project_name: string, object_id: string, error_info: ErrorInfo): Nullable<IVeryVar> {\r\n    if (project_name === '') {\r\n      return this.getSceneVariable(var_id, error_info);\r\n    } else if (object_id === '') {\r\n      return this.getGlobalVariable(var_id, project_name, error_info);\r\n    } else {\r\n      let objects: VE_Objects = VE_Manager.objects(project_name);\r\n      if (objects) {\r\n        let veryObject: VeryEngineObject = objects.getVeryObject(object_id);\r\n        if (veryObject) {\r\n          if (veryObject.isCreatedVariable(var_id)) {\r\n            return veryObject.getVariable(var_id);\r\n          } else if (veryObject.isCreatedExpression(var_id)) {\r\n            return new VeryExpression(veryObject.getExpression(var_id));\r\n          } else if (veryObject.isCreatedFsm(var_id)) {\r\n            return veryObject.getFsm(var_id).fsmVar;\r\n          } else {\r\n            return this.getGlobalVariable(var_id, project_name, error_info);\r\n          }\r\n        } else {\r\n          return this.getGlobalVariable(var_id, project_name, error_info);\r\n        }\r\n      } else {\r\n        return this.getGlobalVariable(var_id, project_name, error_info);\r\n      }\r\n    }\r\n  }\r\n\r\n  // *.*\r\n  // .*.*\r\n  public static getTemplateVariable(template_var_id: string, var_id: string, project_name: string, object_id: string, error_info: ErrorInfo): Nullable<IVeryVar> {\r\n    if (project_name === '') {\r\n      // \r\n      error_info.isRight = false;\r\n      error_info.message = \"\" + template_var_id + \"\\n\";\r\n      return null;\r\n    }\r\n    else {\r\n      if (object_id !== '')  //\r\n      {\r\n        let objects: VE_Objects = VE_Manager.objects(project_name);\r\n        if (!objects) {\r\n          error_info.isRight = false;\r\n          error_info.message += \"\" + object_id + \"\\n\";\r\n          return null;\r\n        }\r\n        else {\r\n          if (objects.isCreated(object_id)) {\r\n            let veryObject: VeryEngineObject = objects.getVeryObject(object_id);\r\n            if (veryObject.isCreatedTemplate(template_var_id)) {\r\n              let template: VE_Template = veryObject.getTemplate(template_var_id);\r\n              if (template.templateInstance === null) {\r\n                error_info.isRight = false;\r\n                error_info.message += \"\" + template_var_id + \"\\n\";\r\n                return null;\r\n              }\r\n              else {\r\n                if (template.templateInstance.isCreatedVariable(var_id)) {\r\n                  return template.templateInstance.getVariable(var_id);\r\n                }\r\n                else if (template.templateInstance.isCreatedExpression(var_id)) {\r\n                  return new VeryExpression(template.templateInstance.getExpression(var_id));\r\n                }\r\n                else if (template.templateInstance.isCreatedFsm(var_id)) {\r\n                  return template.templateInstance.getFsm(var_id).fsmVar;\r\n                }\r\n                else {\r\n                  error_info.isRight = false;\r\n                  error_info.message += \"\" + template_var_id + \"\" + var_id + \"\\n\";\r\n                  return null;\r\n                }\r\n              }\r\n            }\r\n            else {\r\n              error_info.isRight = false;\r\n              error_info.message += \"\" + template_var_id + \"\\n\";\r\n              return null;\r\n            }\r\n          }\r\n          else {\r\n            error_info.isRight = false;\r\n            error_info.message += \"\" + object_id + \"\\n\";\r\n            return null;\r\n          }\r\n        }\r\n      }\r\n      // \r\n      else {\r\n        let variables: VE_Variables = VE_Manager.variables(project_name);\r\n        if (!variables) {\r\n          error_info.isRight = false;\r\n          error_info.message += \"\" + template_var_id + \"\\n\";\r\n          return null;\r\n        }\r\n        else {\r\n          if (variables.isCreatedTemplate(template_var_id)) {\r\n            let template: VE_Template = variables.getTemplate(template_var_id);\r\n            if (template.templateInstance === null) {\r\n              error_info.isRight = false;\r\n              error_info.message += \"\" + template_var_id + \"\\n\";\r\n              return null;\r\n            }\r\n            else {\r\n              if (template.templateInstance.isCreatedVariable(var_id)) {\r\n                return template.templateInstance.getVariable(var_id);\r\n              }\r\n              else if (template.templateInstance.isCreatedExpression(var_id)) {\r\n                return new VeryExpression(template.templateInstance.getExpression(var_id));\r\n              }\r\n              else if (template.templateInstance.isCreatedFsm(var_id)) {\r\n                return template.templateInstance.getFsm(var_id).fsmVar;\r\n              }\r\n              else {\r\n                error_info.isRight = false;\r\n                error_info.message += \"\" + template_var_id + \"\" + var_id + \"\\n\";\r\n                return null;\r\n              }\r\n            }\r\n          }\r\n          else {\r\n            error_info.isRight = false;\r\n            error_info.message += \"\" + template_var_id + \"\\n\";\r\n            return null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static getGlobalVariable(var_id: string, project_name: string, error_info: ErrorInfo): Nullable<IVeryVar> {\r\n    if (project_name === '') {\r\n      return this.getSceneVariable(var_id, error_info);\r\n    } else {\r\n      let variables: VE_Variables = VE_Manager.variables(project_name);\r\n      if (variables) {\r\n        if (variables.isCreatedVariable(var_id)) {\r\n          return variables.getVariable(var_id);\r\n        } else if (variables.isCreatedExpression(var_id)) {\r\n          return new VeryExpression(variables.getExpression(var_id));\r\n        } else {\r\n          return this.getSceneVariable(var_id, error_info);\r\n        }\r\n      } else {\r\n        return this.getSceneVariable(var_id, error_info);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public static getSceneVariable(var_id: string, error_info: ErrorInfo): Nullable<IVeryVar> {\r\n    error_info.isRight = false;\r\n    error_info.message = ''\r\n    return null;\r\n  }\r\n\r\n  public static dispose(): void {\r\n    VeryVarManager._veryVarTypes = {};\r\n  }\r\n}\r\n","import { IVeryVar } from \"./IVeryVar\";\r\nimport { ErrorInfo } from \"../utility/errorInfo\";\r\nimport { VeryVarManager } from \"./veryVarManager\";\r\n\r\nexport class VeryBool implements IVeryVar {\r\n  public get varType(): string {\r\n    return \"bool|\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryBool\";\r\n  }\r\n\r\n  public get Value(): boolean {\r\n    return this._value;\r\n  }\r\n  public set Value(val: boolean) {\r\n    this._value = val;\r\n  }\r\n  private _value: boolean = false;\r\n\r\n  constructor() {\r\n    this._value = false;\r\n  }\r\n\r\n  public setValue(val: any): void {\r\n    this._value = val;\r\n  }\r\n\r\n  public getValue(): any {\r\n    return this._value;\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n    value_str = value_str.trim();\r\n    if (value_str.toLowerCase() === \"false\" || value_str === \"\") {\r\n      return false;\r\n    } else if (value_str.toLowerCase() === \"true\" || value_str === \"\") {\r\n      return true;\r\n    } else if (\r\n      value_str === \"\" ||\r\n      value_str.toLowerCase() === \"null\" ||\r\n      value_str.toLowerCase() === \"none\"\r\n    ) {\r\n      return false;\r\n    } else {\r\n      error_info.isRight = false;\r\n      error_info.message =\r\n        \": \" +\r\n        this.varType +\r\n        \"\" +\r\n        value_str +\r\n        \"\";\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    let varClone: VeryBool = new VeryBool();\r\n    varClone.setValue(this._value);\r\n    return varClone;\r\n  }\r\n}\r\n\r\nexport class VeryInt implements IVeryVar {\r\n  public get varType(): string {\r\n    return \"int|\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryInt\";\r\n  }\r\n\r\n  public get Value(): number {\r\n    return Math.round(this._value);\r\n  }\r\n  public set Value(val: number) {\r\n    this._value = Math.round(val);\r\n  }\r\n  private _value: number = 0;\r\n\r\n  constructor() {\r\n    this._value = 0;\r\n  }\r\n\r\n  public getValue(): any {\r\n    return this.Value;\r\n  }\r\n\r\n  public setValue(val: any): void {\r\n    this.Value = val;\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n    // floatparseInt\r\n    let newFloat = parseFloat(value_str);\r\n    if (!isNaN(newFloat)) {\r\n      // float\r\n      return Math.round(newFloat);\r\n    } else {\r\n      error_info.isRight = false;\r\n      error_info.message =\r\n        \": \" +\r\n        this.varType +\r\n        \"\" +\r\n        value_str +\r\n        \"\";\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    let varClone: VeryInt = new VeryInt();\r\n    varClone.setValue(this._value);\r\n    return varClone;\r\n  }\r\n}\r\n\r\nexport class VeryFloat implements IVeryVar {\r\n  public get varType(): string {\r\n    return \"float|\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryFloat\";\r\n  }\r\n\r\n  public get Value(): number {\r\n    return this._value;\r\n  }\r\n  public set Value(val: number) {\r\n    this._value = val;\r\n  }\r\n  private _value: number = 0;\r\n\r\n  constructor() {\r\n    this._value = 0;\r\n  }\r\n\r\n  public setValue(val: number) {\r\n    this._value = val;\r\n  }\r\n\r\n  // \r\n  public getValue(): any {\r\n    return this._value;\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n    let newVal = parseFloat(value_str);\r\n    if (!isNaN(newVal)) {\r\n      return newVal;\r\n    } else {\r\n      error_info.isRight = false;\r\n      error_info.message =\r\n        \": \" +\r\n        this.varType +\r\n        \"\" +\r\n        value_str +\r\n        \"\";\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    let varClone: VeryFloat = new VeryFloat();\r\n    varClone.setValue(this._value);\r\n    return varClone;\r\n  }\r\n}\r\n\r\nexport class VeryNumber implements IVeryVar {\r\n  public get varType(): string {\r\n    return \"number|\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryNumber\";\r\n  }\r\n\r\n  public get Value(): number {\r\n    return this._value;\r\n  }\r\n  public set Value(val: number) {\r\n    this._value = val;\r\n  }\r\n  private _value: number = 0;\r\n\r\n  constructor() {\r\n    this._value = 0;\r\n  }\r\n\r\n  public setValue(val: number) {\r\n    this._value = val;\r\n  }\r\n\r\n  // \r\n  public getValue(): any {\r\n    return this._value;\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n    let newVal = parseFloat(value_str);\r\n    if (!isNaN(newVal)) {\r\n      return newVal;\r\n    } else {\r\n      error_info.isRight = false;\r\n      error_info.message =\r\n        \": \" +\r\n        this.varType +\r\n        \"\" +\r\n        value_str +\r\n        \"\";\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    let varClone: VeryNumber = new VeryNumber();\r\n    varClone.setValue(this._value);\r\n    return varClone;\r\n  }\r\n}\r\n\r\nexport class VeryString implements IVeryVar {\r\n  public get varType(): string {\r\n    return \"string|\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryString\";\r\n  }\r\n\r\n  public get Value(): string {\r\n    return this._value;\r\n  }\r\n  public set Value(val: string) {\r\n    this._value = val;\r\n  }\r\n  private _value: string = \"\";\r\n\r\n  constructor() {\r\n    this._value = \"\";\r\n  }\r\n\r\n  public getValue(): any {\r\n    return this._value;\r\n  }\r\n\r\n  public setValue(val: any): void {\r\n    this._value = val;\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n    let rValue: string;\r\n    if (\r\n      value_str.startsWith(\"'\") ||\r\n      value_str.startsWith('\"') ||\r\n      value_str.startsWith(\"\") ||\r\n      value_str.startsWith(\"\")\r\n    ) {\r\n      rValue = value_str.substring(1, value_str.length - 2);\r\n    } else {\r\n      rValue = value_str;\r\n    }\r\n    return rValue;\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    let varClone: VeryString = new VeryString();\r\n    varClone.setValue(this._value);\r\n    return varClone;\r\n  }\r\n}\r\n\r\nexport class VeryVector3 implements IVeryVar {\r\n  public get varType(): string {\r\n    return \"vector3|\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryVector3\";\r\n  }\r\n\r\n  public get Value(): BABYLON.Vector3 {\r\n    //let a: BABYLON.Vector3 = new BABYLON.Vector3 (1,1,1);\r\n    return this._value;\r\n  }\r\n  public set Value(val: BABYLON.Vector3) {\r\n    this._value = val;\r\n  }\r\n  private _value: BABYLON.Vector3 = BABYLON.Vector3.Zero();\r\n\r\n  constructor() {\r\n    this._value = BABYLON.Vector3.Zero();\r\n  }\r\n\r\n  public getValue(): any {\r\n    return this._value;\r\n  }\r\n\r\n  public setValue(val: any) {\r\n    this._value = val;\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n    let rValue: BABYLON.Vector3 = BABYLON.Vector3.Zero();\r\n    if (value_str === \"none\" || value_str === \"null\" || value_str === \"\") {\r\n      return rValue;\r\n    } else {\r\n      let vec3Str: string[] = value_str.split(/,|/);\r\n      if (vec3Str.length !== 3) {\r\n        error_info.isRight = false;\r\n        error_info.message =\r\n          \": \" +\r\n          this.varType +\r\n          \", : \" +\r\n          value_str +\r\n          \"Vector3|\";\r\n        return null;\r\n      } else {\r\n        let n1: number = parseFloat(vec3Str[0]);\r\n        let n2: number = parseFloat(vec3Str[1]);\r\n        let n3: number = parseFloat(vec3Str[2]);\r\n        if (isNaN(n1) || isNaN(n2) || isNaN(n3)) {\r\n          error_info.isRight = false;\r\n          error_info.message =\r\n            \": \" +\r\n            this.varType +\r\n            \", : \" +\r\n            value_str +\r\n            \"Vector3|\";\r\n          return null;\r\n        } else {\r\n          rValue = new BABYLON.Vector3(n1, n2, n3);\r\n        }\r\n      }\r\n    }\r\n    return rValue;\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    let varClone: VeryVector3 = new VeryVector3();\r\n    let r: BABYLON.Vector3 = new BABYLON.Vector3(\r\n      this._value.x,\r\n      this._value.y,\r\n      this._value.z\r\n    );\r\n    varClone.setValue(r);\r\n    return varClone;\r\n  }\r\n}\r\n\r\n\r\nVeryVarManager.addVarType(\"bool\", new VeryBool());\r\nVeryVarManager.addVarType('', new VeryBool());\r\n\r\nVeryVarManager.addVarType('int', new VeryInt());\r\nVeryVarManager.addVarType('float', new VeryFloat());\r\n\r\nVeryVarManager.addVarType('number', new VeryNumber());\r\nVeryVarManager.addVarType('', new VeryNumber());\r\n\r\nVeryVarManager.addVarType('string', new VeryString());\r\nVeryVarManager.addVarType('', new VeryString());\r\nVeryVarManager.addVarType('vector3', new VeryVector3());\r\nVeryVarManager.addVarType('', new VeryVector3());\r\n\r\n","import { VeryTable } from \"../verytable/index\";\r\nimport { ShowError } from \"./html/showError\";\r\nimport { LoaderManager } from \"./loader/loaderManager\";\r\nimport { ErrorInfo } from \"./utility\";\r\nimport { IVeryVar, VeryVarManager, VeryBool } from \"./variables\";\r\nimport { VE_Expressions } from \"./expression\";\r\nimport { VE_ErrorManager, GameGlobal } from \"./global\";\r\nimport { VE_Reset } from \"./manager\";\r\n\r\n// entrance\r\nexport * from \"./index\";\r\n\r\nexport class VeryEngine {\r\n\r\n  public static Canvas: HTMLCanvasElement;\r\n  public static Engine: BABYLON.Engine;\r\n  public static Scene: BABYLON.Scene;\r\n\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n\r\n  public init(data: Array<Array<string>>, project_name: string): void {\r\n\r\n    // \r\n    VE_Reset.dispose();\r\n\r\n    // TODO: sTable1\r\n    let tableData: VeryTable = new VeryTable(data, 'VeRyEngine');\r\n    // console.log(tableData.pos(7, 5));\r\n    // console.log(tableData);\r\n    // console.log('');\r\n\r\n    // VeryVarManager.addVarType('bool', new VeryBool());\r\n\r\n    // let errorInfo: ErrorInfo = new ErrorInfo();\r\n    // let v1: Nullable<IVeryVar> = VeryVarManager.createVariable('a', '', '3.1415926', errorInfo);\r\n    // console.log(v1!.getValue());\r\n    // errorInfo.clear();\r\n    // let v2: Nullable<IVeryVar> = VeryVarManager.createVariable('b', '', '', errorInfo);\r\n    // console.log(v2!.getValue());\r\n    // errorInfo.clear();\r\n    // let v3: Nullable<IVeryVar> = VeryVarManager.createVariable('c', '', '1,2,3', errorInfo);\r\n    // console.log(v3!.clone());\r\n    // errorInfo.clear();\r\n    // let v4: Nullable<IVeryVar> = VeryVarManager.createVariable('c', '', 'ac1,dg2,3', errorInfo);\r\n    // console.log(v4);\r\n    // console.log(errorInfo.message);\r\n\r\n\r\n    let manager: LoaderManager = new LoaderManager();\r\n    let result: boolean = manager.load(projectName, tableData);\r\n    console.log(`${result}`);\r\n    if(!result) {\r\n      VE_ErrorManager.print();\r\n    }\r\n\r\n    // \r\n    GameGlobal.PlatformLoaded = true;\r\n\r\n\r\n\r\n    // this.showErrorTest(tableData);\r\n  }\r\n\r\n\r\n  public showErrorTest(tableData: VeryTable): void {\r\n    // /*\r\n    ShowError.show('' + tableData.pos(7, 5));\r\n\r\n    ShowError.showError('' + tableData.pos(7, 5));\r\n\r\n    ShowError.showWarn('' + tableData.pos(7, 5));\r\n\r\n    ShowError.show('' + tableData.pos(7, 5));\r\n\r\n    ShowError.show('' + tableData.pos(7, 5));\r\n\r\n\r\n    document.getElementById(\"settingsButton\")!.addEventListener(\"click\", ShowError.close);\r\n    // */\r\n  }\r\n\r\n}","\r\nexport * from \"./veryTableRow\";\r\nexport * from \"./veryTable\";\r\nexport * from \"./veryTableSet\";\r\n","import { VeryTableRow } from \"./veryTableRow\";\r\n\r\nexport class VeryTable {\r\n  private _id: string = \"\";\r\n  public get ID(): string {\r\n    return this._id;\r\n  }\r\n  public set ID(id: string) {\r\n    this._id = id;\r\n  }\r\n\r\n  private _columnIDs: string[] = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\r\n\r\n  private _rows: VeryTableRow[] = [];\r\n\r\n  public get RowCount(): number {\r\n    if (!this._rows) {\r\n      return 0;\r\n    } else {\r\n      return this._rows.length;\r\n    }\r\n  }\r\n\r\n  constructor(data: string[][], id = \"Sheet\") {\r\n    this._id = id;\r\n    this._rows = [];\r\n    if (data) {\r\n      for (let i = 0; i < data.length; i++) {\r\n        let newRow = new VeryTableRow(data[i]);\r\n        this._rows.push(newRow);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param row_index \r\n   * @param column_index \r\n   */\r\n  public getData(row_index: number, column_index: number): string {\r\n    // if (row_index >= 0 && row_index < this._rows.length) {\r\n    //   let row: VeryTableRow = this._rows[row_index];\r\n    //   return row.getData(column_index);\r\n    // } else {\r\n    //   return undefined;\r\n    // }\r\n    return this._rows[row_index].getData(column_index);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param row_index \r\n   */\r\n  public getRow(row_index: number): VeryTableRow | undefined {\r\n    if (row_index >= 0 && row_index < this._rows.length) {\r\n      return this._rows[row_index];\r\n    } else {\r\n      return undefined;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param row_index \r\n   * @param column_index \r\n   */\r\n  public pos(row_index: number, column_index: number): string {\r\n    // return \"\" + this.ID + \"\" + (row_index + 1) + \"\" + this.getColumnID(column_index) + \"\";\r\n    return \"\" + (row_index + 1) + \"\" + this.getColumnID(column_index) + \"\" + this.ID + \"\";\r\n  }\r\n\r\n  /**\r\n   * ID26\r\n   * @param column_index \r\n   */\r\n  private getColumnID(column_index: number): string {\r\n    if (column_index >= 0 && column_index < 26) {\r\n      return this._columnIDs[column_index];\r\n    } else if (column_index < 0) {\r\n      return 'error';\r\n    } else {\r\n      let a: number = Math.floor(column_index / 26);\r\n      let b: number = column_index % 26;\r\n      if (a === 0) {\r\n        return this._columnIDs[a];\r\n      } else {\r\n        return this._columnIDs[a - 1] + this._columnIDs[b];\r\n      }\r\n    }\r\n  }\r\n\r\n  // public addRowStringArray(row_data: string[]): void {\r\n\r\n  // }\r\n\r\n  // public addRowStrings(...strs: string[]): void {\r\n\r\n  // }\r\n\r\n  public addRow(data: VeryTableRow): void {\r\n    // \r\n    this._rows.push(data);\r\n\r\n  }\r\n\r\n\r\n}","\r\nexport class VeryTableRow {\r\n  public get Count(): number {\r\n    if (!this._rowData) {\r\n      return 0;\r\n    } else {\r\n      return this._rowData.length;\r\n    }\r\n  }\r\n\r\n  private _rowData: string[] = [];\r\n\r\n  constructor(row_data: string[]) {\r\n    // nullundefined\"\"\r\n    row_data.forEach((val, index, array) => {\r\n      if(!array[index]) {\r\n        array[index] = \"\";\r\n      }\r\n    });\r\n    this._rowData = row_data;\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param column_index \r\n   */\r\n  public getData(column_index: number): string {\r\n    // if (column_index >= 0 && column_index < this.Count) {\r\n    //   return this._rowData[column_index];\r\n    // } else {\r\n    //   return undefined;\r\n    // }\r\n    return this._rowData[column_index];\r\n  }\r\n\r\n  public add(data: string): void {\r\n    this._rowData.push(data);\r\n  }\r\n\r\n  public insert(index: number, data: string): void {\r\n    // 2\r\n    this._rowData.push(data);\r\n    let tempData = this._rowData.slice(index);\r\n    tempData.push(data);\r\n    this._rowData = tempData;\r\n  }\r\n\r\n  public remove(index: number): void {\r\n    this._rowData.splice(index, 1);\r\n  }\r\n\r\n  public removeEnd(): void {\r\n    this._rowData.pop();\r\n  }\r\n\r\n  public isEmpty(): boolean {\r\n    if(!this._rowData) {\r\n      return true;\r\n    }\r\n    for(let i: number = 0; i < this._rowData.length; i++) {\r\n      if(!this._rowData[i] && this._rowData[i] !== '') {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  // public\r\n\r\n  // public remove(index: number): any {\r\n\r\n  // }\r\n}","// import { VeryTableRow } from \"./veryTableRow\";\r\n/**\r\n * 1. TypeScript\r\n * 2. \r\n */\r\nimport { VeryTable } from \"./veryTable\";\r\n\r\nexport class VeryTableSet {\r\n\r\n  private _tables: VeryTable[] = [];\r\n\r\n  public get Count(): number {\r\n    if (!this._tables) {\r\n      return 0;\r\n    } else {\r\n      return this._tables.length;\r\n    }\r\n  }\r\n\r\n  constructor(tables?: VeryTable[]) {\r\n    if (tables) {\r\n      this._tables = tables;\r\n    }\r\n  }\r\n\r\n  public getTable(index: number): VeryTable | undefined {\r\n    if (index >= 0 && index < this.Count) {\r\n      return this._tables[index];\r\n    } else {\r\n      return undefined;\r\n    }\r\n  }\r\n\r\n  public addTable(table: VeryTable): void {\r\n    this._tables.push(table);\r\n  }\r\n\r\n  public removeTable(index: number): void {\r\n    if (index >= 0 && index < this.Count) {\r\n      this._tables.splice(index, 1);\r\n    }\r\n  }\r\n\r\n\r\n}"]}